import{d as O,t as Do,a as zo,u as Fo,r as Ho,q as Vo,K as We,h as it,T as E,b as e,x as Se,A as D,y as x,c as A,e as I,k as Y,N as Vn,f as X,g as lt,i as V,$ as Ie,M as Fe,j as $n,l as Ht,m as Ae,o as $o,n as Bo,p as Bn,D as Un,F as Uo,I as Yo,O as jo,L as qo,H as Go,R as Wo,s as Ve,v as Ko}from"./vendor-pls7qu0A.js";(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))a(r);new MutationObserver(r=>{for(const s of r)if(s.type==="childList")for(const i of s.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&a(i)}).observe(document,{childList:!0,subtree:!0});function o(r){const s={};return r.integrity&&(s.integrity=r.integrity),r.referrerPolicy&&(s.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?s.credentials="include":r.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function a(r){if(r.ep)return;r.ep=!0;const s=o(r);fetch(r.href,s)}})();O.extend(Do);O.extend(zo);O.extend(Fo);O.extend(Ho);const Qo=()=>window.location.href.replace(/(\/(select\/)?vmui\/.*|\/#\/.*)/,""),on="YYYY-MM-DD",Te="YYYY-MM-DD HH:mm:ss",Vt="YYYY-MM-DD[T]HH:mm:ss",Zo="YYYY-MM-DD_HHmmss",Jo=50,Yn=100,jn=5,Lt="Ungrouped",oe="_stream",Ye="_msg",ze=`${Te}.SSS`,ne={GROUP_BY:"groupBy",DISPLAY_FIELDS:"displayFields",NO_WRAP_LINES:"noWrapLines",COMPACT_GROUP_HEADER:"compactGroupHeader",DATE_FORMAT:"dateFormat",ROWS_PER_PAGE:"rows_per_page"},Tt=1,qn=25,se=(t,n)=>{const o=window.location.hash.split("?")[1];return Vo.parse(o,{ignoreQueryPrefix:!0})?.[t]??n??""},Xo=()=>{const n=(window.location.hash.split("?")[1]||"").match(/g\d+\.expr/g)?.length||1;return new Array(n>Tt?Tt:n).fill(1).map((o,a)=>se(`g${a}.expr`,""))},me=(t,n)=>{n?window.localStorage.setItem(t,JSON.stringify({value:n})):ea([t]),window.dispatchEvent(new Event("storage"))},_e=t=>{const n=window.localStorage.getItem(t);if(n!==null)try{return JSON.parse(n)?.value}catch{return n}},ea=t=>t.forEach(n=>window.localStorage.removeItem(n));var de=(t=>(t.yhat="yhat",t.yhatUpper="yhat_upper",t.yhatLower="yhat_lower",t.anomaly="vmui_anomalies_points",t.training="vmui_training_data",t.actual="actual",t.anomalyScore="anomaly_score",t))(de||{}),Et=(t=>(t.table="table",t.chart="chart",t.code="code",t))(Et||{}),Gn=(t=>(t.emptyServer="Please enter Server URL",t.validServer="Please provide a valid Server URL",t.validQuery="Please enter a valid Query and execute it",t.traceNotFound="Not found the tracing information",t.emptyTitle="Please enter title",t.positiveNumber="Please enter positive number",t.validStep="Please enter a valid step",t.unknownType="Unknown server response format: must have 'errorType'",t))(Gn||{}),re=(t=>(t.system="system",t.light="light",t.dark="dark",t))(re||{});const fe=t=>getComputedStyle(document.documentElement).getPropertyValue(`--${t}`),De=(t,n)=>{document.documentElement.style.setProperty(`--${t}`,n)},at=()=>window.matchMedia("(prefers-color-scheme: dark)").matches,ta=t=>t===re.system&&at()||t===re.dark,Wn=t=>t.replace(/\/$/,""),na=se("g0.tenantID",""),oa={serverUrl:Wn(Qo()),tenantId:na,theme:_e("THEME")||re.system,isDarkTheme:null,flags:{},appConfig:{}};function aa(t,n){switch(n.type){case"SET_SERVER":return{...t,serverUrl:Wn(n.payload)};case"SET_TENANT_ID":return{...t,tenantId:n.payload};case"SET_THEME":return me("THEME",n.payload),{...t,theme:n.payload};case"SET_DARK_THEME":return{...t,isDarkTheme:ta(t.theme)};case"SET_FLAGS":return{...t,flags:n.payload};case"SET_APP_CONFIG":return{...t,appConfig:n.payload};default:throw new Error}}const $t=We({}),ee=()=>Se($t).state,Bt=()=>Se($t).dispatch,ra=Object.entries(oa).reduce((t,[n,o])=>({...t,[n]:se(n)||o}),{}),sa=({children:t})=>{const[n,o]=it(aa,ra),a=E(()=>({state:n,dispatch:o}),[n,o]);return e($t.Provider,{value:a,children:t})},ia=["Africa/Abidjan","Africa/Accra","Africa/Addis_Ababa","Africa/Algiers","Africa/Asmera","Africa/Bamako","Africa/Bangui","Africa/Banjul","Africa/Bissau","Africa/Blantyre","Africa/Brazzaville","Africa/Bujumbura","Africa/Cairo","Africa/Casablanca","Africa/Ceuta","Africa/Conakry","Africa/Dakar","Africa/Dar_es_Salaam","Africa/Djibouti","Africa/Douala","Africa/El_Aaiun","Africa/Freetown","Africa/Gaborone","Africa/Harare","Africa/Johannesburg","Africa/Juba","Africa/Kampala","Africa/Khartoum","Africa/Kigali","Africa/Kinshasa","Africa/Lagos","Africa/Libreville","Africa/Lome","Africa/Luanda","Africa/Lubumbashi","Africa/Lusaka","Africa/Malabo","Africa/Maputo","Africa/Maseru","Africa/Mbabane","Africa/Mogadishu","Africa/Monrovia","Africa/Nairobi","Africa/Ndjamena","Africa/Niamey","Africa/Nouakchott","Africa/Ouagadougou","Africa/Porto-Novo","Africa/Sao_Tome","Africa/Tripoli","Africa/Tunis","Africa/Windhoek","America/Adak","America/Anchorage","America/Anguilla","America/Antigua","America/Araguaina","America/Argentina/La_Rioja","America/Argentina/Rio_Gallegos","America/Argentina/Salta","America/Argentina/San_Juan","America/Argentina/San_Luis","America/Argentina/Tucuman","America/Argentina/Ushuaia","America/Aruba","America/Asuncion","America/Bahia","America/Bahia_Banderas","America/Barbados","America/Belem","America/Belize","America/Blanc-Sablon","America/Boa_Vista","America/Bogota","America/Boise","America/Buenos_Aires","America/Cambridge_Bay","America/Campo_Grande","America/Cancun","America/Caracas","America/Catamarca","America/Cayenne","America/Cayman","America/Chicago","America/Chihuahua","America/Coral_Harbour","America/Cordoba","America/Costa_Rica","America/Creston","America/Cuiaba","America/Curacao","America/Danmarkshavn","America/Dawson","America/Dawson_Creek","America/Denver","America/Detroit","America/Dominica","America/Edmonton","America/Eirunepe","America/El_Salvador","America/Fort_Nelson","America/Fortaleza","America/Glace_Bay","America/Godthab","America/Goose_Bay","America/Grand_Turk","America/Grenada","America/Guadeloupe","America/Guatemala","America/Guayaquil","America/Guyana","America/Halifax","America/Havana","America/Hermosillo","America/Indiana/Knox","America/Indiana/Marengo","America/Indiana/Petersburg","America/Indiana/Tell_City","America/Indiana/Vevay","America/Indiana/Vincennes","America/Indiana/Winamac","America/Indianapolis","America/Inuvik","America/Iqaluit","America/Jamaica","America/Jujuy","America/Juneau","America/Kentucky/Monticello","America/Kralendijk","America/La_Paz","America/Lima","America/Los_Angeles","America/Louisville","America/Lower_Princes","America/Maceio","America/Managua","America/Manaus","America/Marigot","America/Martinique","America/Matamoros","America/Mazatlan","America/Mendoza","America/Menominee","America/Merida","America/Metlakatla","America/Mexico_City","America/Miquelon","America/Moncton","America/Monterrey","America/Montevideo","America/Montreal","America/Montserrat","America/Nassau","America/New_York","America/Nipigon","America/Nome","America/Noronha","America/North_Dakota/Beulah","America/North_Dakota/Center","America/North_Dakota/New_Salem","America/Ojinaga","America/Panama","America/Pangnirtung","America/Paramaribo","America/Phoenix","America/Port-au-Prince","America/Port_of_Spain","America/Porto_Velho","America/Puerto_Rico","America/Punta_Arenas","America/Rainy_River","America/Rankin_Inlet","America/Recife","America/Regina","America/Resolute","America/Rio_Branco","America/Santa_Isabel","America/Santarem","America/Santiago","America/Santo_Domingo","America/Sao_Paulo","America/Scoresbysund","America/Sitka","America/St_Barthelemy","America/St_Johns","America/St_Kitts","America/St_Lucia","America/St_Thomas","America/St_Vincent","America/Swift_Current","America/Tegucigalpa","America/Thule","America/Thunder_Bay","America/Tijuana","America/Toronto","America/Tortola","America/Vancouver","America/Whitehorse","America/Winnipeg","America/Yakutat","America/Yellowknife","Antarctica/Casey","Antarctica/Davis","Antarctica/DumontDUrville","Antarctica/Macquarie","Antarctica/Mawson","Antarctica/McMurdo","Antarctica/Palmer","Antarctica/Rothera","Antarctica/Syowa","Antarctica/Troll","Antarctica/Vostok","Arctic/Longyearbyen","Asia/Aden","Asia/Almaty","Asia/Amman","Asia/Anadyr","Asia/Aqtau","Asia/Aqtobe","Asia/Ashgabat","Asia/Atyrau","Asia/Baghdad","Asia/Bahrain","Asia/Baku","Asia/Bangkok","Asia/Barnaul","Asia/Beirut","Asia/Bishkek","Asia/Brunei","Asia/Calcutta","Asia/Chita","Asia/Choibalsan","Asia/Colombo","Asia/Damascus","Asia/Dhaka","Asia/Dili","Asia/Dubai","Asia/Dushanbe","Asia/Famagusta","Asia/Gaza","Asia/Hebron","Asia/Hong_Kong","Asia/Hovd","Asia/Irkutsk","Asia/Jakarta","Asia/Jayapura","Asia/Jerusalem","Asia/Kabul","Asia/Kamchatka","Asia/Karachi","Asia/Katmandu","Asia/Khandyga","Asia/Krasnoyarsk","Asia/Kuala_Lumpur","Asia/Kuching","Asia/Kuwait","Asia/Macau","Asia/Magadan","Asia/Makassar","Asia/Manila","Asia/Muscat","Asia/Nicosia","Asia/Novokuznetsk","Asia/Novosibirsk","Asia/Omsk","Asia/Oral","Asia/Phnom_Penh","Asia/Pontianak","Asia/Pyongyang","Asia/Qatar","Asia/Qostanay","Asia/Qyzylorda","Asia/Rangoon","Asia/Riyadh","Asia/Saigon","Asia/Sakhalin","Asia/Samarkand","Asia/Seoul","Asia/Shanghai","Asia/Singapore","Asia/Srednekolymsk","Asia/Taipei","Asia/Tashkent","Asia/Tbilisi","Asia/Tehran","Asia/Thimphu","Asia/Tokyo","Asia/Tomsk","Asia/Ulaanbaatar","Asia/Urumqi","Asia/Ust-Nera","Asia/Vientiane","Asia/Vladivostok","Asia/Yakutsk","Asia/Yekaterinburg","Asia/Yerevan","Atlantic/Azores","Atlantic/Bermuda","Atlantic/Canary","Atlantic/Cape_Verde","Atlantic/Faeroe","Atlantic/Madeira","Atlantic/Reykjavik","Atlantic/South_Georgia","Atlantic/St_Helena","Atlantic/Stanley","Australia/Adelaide","Australia/Brisbane","Australia/Broken_Hill","Australia/Currie","Australia/Darwin","Australia/Eucla","Australia/Hobart","Australia/Lindeman","Australia/Lord_Howe","Australia/Melbourne","Australia/Perth","Australia/Sydney","Europe/Amsterdam","Europe/Andorra","Europe/Astrakhan","Europe/Athens","Europe/Belgrade","Europe/Berlin","Europe/Bratislava","Europe/Brussels","Europe/Bucharest","Europe/Budapest","Europe/Busingen","Europe/Chisinau","Europe/Copenhagen","Europe/Dublin","Europe/Gibraltar","Europe/Guernsey","Europe/Helsinki","Europe/Isle_of_Man","Europe/Istanbul","Europe/Jersey","Europe/Kaliningrad","Europe/Kiev","Europe/Kirov","Europe/Lisbon","Europe/Ljubljana","Europe/London","Europe/Luxembourg","Europe/Madrid","Europe/Malta","Europe/Mariehamn","Europe/Minsk","Europe/Monaco","Europe/Moscow","Europe/Oslo","Europe/Paris","Europe/Podgorica","Europe/Prague","Europe/Riga","Europe/Rome","Europe/Samara","Europe/San_Marino","Europe/Sarajevo","Europe/Saratov","Europe/Simferopol","Europe/Skopje","Europe/Sofia","Europe/Stockholm","Europe/Tallinn","Europe/Tirane","Europe/Ulyanovsk","Europe/Uzhgorod","Europe/Vaduz","Europe/Vatican","Europe/Vienna","Europe/Vilnius","Europe/Volgograd","Europe/Warsaw","Europe/Zagreb","Europe/Zaporozhye","Europe/Zurich","Indian/Antananarivo","Indian/Chagos","Indian/Christmas","Indian/Cocos","Indian/Comoro","Indian/Kerguelen","Indian/Mahe","Indian/Maldives","Indian/Mauritius","Indian/Mayotte","Indian/Reunion","Pacific/Apia","Pacific/Auckland","Pacific/Bougainville","Pacific/Chatham","Pacific/Easter","Pacific/Efate","Pacific/Enderbury","Pacific/Fakaofo","Pacific/Fiji","Pacific/Funafuti","Pacific/Galapagos","Pacific/Gambier","Pacific/Guadalcanal","Pacific/Guam","Pacific/Honolulu","Pacific/Johnston","Pacific/Kiritimati","Pacific/Kosrae","Pacific/Kwajalein","Pacific/Majuro","Pacific/Marquesas","Pacific/Midway","Pacific/Nauru","Pacific/Niue","Pacific/Norfolk","Pacific/Noumea","Pacific/Pago_Pago","Pacific/Palau","Pacific/Pitcairn","Pacific/Ponape","Pacific/Port_Moresby","Pacific/Rarotonga","Pacific/Saipan","Pacific/Tahiti","Pacific/Tarawa","Pacific/Tongatapu","Pacific/Truk","Pacific/Wake","Pacific/Wallis"],la=window.innerWidth/4,an={min:1,max:1578e8},rn=Intl.supportedValuesOf,ca=rn?rn("timeZone"):ia,Kn=[{long:"years",short:"y",possible:"year"},{long:"weeks",short:"w",possible:"week"},{long:"days",short:"d",possible:"day"},{long:"hours",short:"h",possible:"hour"},{long:"minutes",short:"m",possible:"min"},{long:"seconds",short:"s",possible:"sec"},{long:"milliseconds",short:"ms",possible:"millisecond"}],da=Kn.map(t=>t.short),ua=t=>Math.round(t*1e3)/1e3,ma=t=>Qn(O.duration(t,"seconds").asMilliseconds()),ha=t=>{let n=ua(t);const o=Math.round(t);return t>=100&&(n=o-o%10),t<100&&t>=10&&(n=o-o%5),t<10&&t>=1&&(n=o),t<1&&t>.01&&(n=Math.round(t*40)/40),ma(n||.001).replace(/\s/g,"")},pa=t=>{const n=t.match(/\d+/g),o=t.match(/[a-zA-Z]+/g);if(o&&n&&da.includes(o[0]))return{[o[0]]:n[0]}},_a=t=>{const n=Kn.map(s=>s.short).join("|"),o=new RegExp(`\\d+(\\.\\d+)?[${n}]+`,"g"),r=(t.match(o)||[]).reduce((s,i)=>{const l=pa(i);return l?{...s,...l}:{...s}},{});return O.duration(r).asSeconds()};Et.table,Et.code;const ga=(t,n,o)=>ha(t/la),xe=(t,n)=>{const o=(n||O().toDate()).valueOf()/1e3,a=_a(t);return{start:o-a,end:o,step:ga(a),date:va(n||O().toDate())}},fa=t=>O(t).utcOffset(0,!0).toDate(),va=t=>O.tz(t).utc().format(Vt),Ue=t=>O.tz(t).format(Vt),ba=()=>O().utc().format(Vt),Qn=t=>{const n=Math.floor(t%1e3),o=Math.floor(t/1e3%60),a=Math.floor(t/1e3/60%60),r=Math.floor(t/1e3/3600%24),s=Math.floor(t/(1e3*60*60*24)),i=["d","h","m","s","ms"];return[s,r,a,o,n].map((c,d)=>c?`${c}${i[d]}`:"").filter(c=>c).join("")},ya=t=>{const n=t.to.valueOf()-t.from.valueOf();return Qn(n)},he=t=>{const n=O(t*1e3);return n.isValid()?n.toDate():new Date},wa=()=>O().tz().subtract(1,"day").endOf("day").toDate(),ka=()=>O().tz().endOf("day").toDate(),rt=[{title:"Last 5 minutes",duration:"5m",isDefault:!0},{title:"Last 15 minutes",duration:"15m"},{title:"Last 30 minutes",duration:"30m"},{title:"Last 1 hour",duration:"1h"},{title:"Last 3 hours",duration:"3h"},{title:"Last 6 hours",duration:"6h"},{title:"Last 12 hours",duration:"12h"},{title:"Last 24 hours",duration:"24h"},{title:"Last 2 days",duration:"2d"},{title:"Last 7 days",duration:"7d"},{title:"Last 30 days",duration:"30d"},{title:"Last 90 days",duration:"90d"},{title:"Last 180 days",duration:"180d"},{title:"Last 1 year",duration:"1y"},{title:"Yesterday",duration:"1d",until:wa},{title:"Today",duration:"1d",until:ka}].map(t=>({id:t.title.replace(/\s/g,"_").toLocaleLowerCase(),until:t.until?t.until:()=>O().tz().toDate(),...t})),Ut=({relativeTimeId:t,defaultDuration:n,defaultEndInput:o})=>{const a=rt.find(i=>i.isDefault)?.id,r=t||se("g0.relative_time",a),s=rt.find(i=>i.id===r);return{relativeTimeId:s?r:"none",duration:s?s.duration:n,endInput:s?s.until():o}},je=t=>`UTC${O().tz(t).format("Z")}`,sn=(t="")=>{const n=new RegExp(t,"i");return ca.reduce((o,a)=>{const r=(a.match(/^(.*?)\//)||[])[1]||"unknown",s=je(a),i=s.replace(/UTC|0/,""),l=a.replace(/[/_]/g," "),c={region:a,utc:s,search:`${a} ${s} ${l} ${i}`},d=!t||t&&n.test(c.search);return d&&o[r]?o[r].push(c):d&&(o[r]=[c]),o},{})},Zn=t=>{O.tz.setDefault(t)},Ca=t=>{try{return O().tz(t),!0}catch{return!1}},Jn=()=>{const t=O.tz.guess(),n=Ca(t);return{isValid:n,title:n?`Browser Time (${t})`:"Browser timezone (UTC)",region:n?t:"UTC"}},ln=t=>{if(!t)return 0n;const n=O(t).valueOf();if(!t.includes("."))return BigInt(n)*1000000n;const o=t.match(/\.(\d+)Z/);if(!o)return BigInt(n)*1000000n;let a=o[1];a=a.padEnd(9,"0");const r=parseInt(a.slice(3),10);return BigInt(n)*1000000n+BigInt(r)},Xn=_e("TIMEZONE")||Jn().region;Zn(Xn);const Sa=()=>{const t=se("g0.range_input"),{duration:n,endInput:o,relativeTimeId:a}=Ut({defaultDuration:t||"1h",defaultEndInput:fa(se("g0.end_input",ba())),relativeTimeId:t?se("g0.relative_time","none"):void 0});return{duration:n,period:xe(n,o),relativeTime:a}},Aa={...Sa(),timezone:Xn};function Na(t,n){switch(n.type){case"SET_TIME_STATE":return{...t,...n.payload};case"SET_DURATION":return{...t,duration:n.payload,period:xe(n.payload,he(t.period.end)),relativeTime:"none"};case"SET_RELATIVE_TIME":return{...t,duration:n.payload.duration,period:xe(n.payload.duration,n.payload.until),relativeTime:n.payload.id};case"SET_PERIOD":const o=ya(n.payload);return{...t,duration:o,period:xe(o,n.payload.to),relativeTime:"none"};case"RUN_QUERY":const{duration:a,endInput:r}=Ut({relativeTimeId:t.relativeTime,defaultDuration:t.duration,defaultEndInput:he(t.period.end)});return{...t,period:xe(a,r)};case"RUN_QUERY_TO_NOW":return{...t,period:xe(t.duration)};case"SET_TIMEZONE":return Zn(n.payload),me("TIMEZONE",n.payload),t.defaultTimezone&&me("DISABLED_DEFAULT_TIMEZONE",n.payload!==t.defaultTimezone),{...t,timezone:n.payload};case"SET_DEFAULT_TIMEZONE":return{...t,defaultTimezone:n.payload};default:throw new Error}}const Yt=We({}),Ke=()=>Se(Yt).state,Qe=()=>Se(Yt).dispatch,xa=({children:t})=>{const[n,o]=it(Na,Aa),a=E(()=>({state:n,dispatch:o}),[n,o]);return e(Yt.Provider,{value:a,children:t})},ct=t=>{const n=_e(t);return n?JSON.parse(n):{}},La=(t,n,o)=>{const a=ct(t);me(t,JSON.stringify({...a,[n]:o}))},$e=(t,n)=>ct(t)[n]||[],Ta=(t,n)=>{const o=n.map(c=>c.values[c.index]),a=ct(t),r=a.QUERY_HISTORY||[];r[0]||(r[0]=[]);const s=r[0],i=qn*Tt;o.forEach(c=>{!s.includes(c)&&c&&s.unshift(c),s.length>i&&s.pop()});const l={...a,QUERY_HISTORY:[s]};me(t,JSON.stringify(l))},Ea=(t,n)=>{La(t,"QUERY_FAVORITES",n)},Ma=(t,n)=>{const o=ct(t);me(t,JSON.stringify({...o,[n]:[]}))},Ia=(t,n)=>{const o=n||{values:[]},a=t===o.values[o.values.length-1],r=!a&&t?[...o.values,t]:o.values;return r.length>qn&&r.shift(),{index:o.values.length-Number(a),values:r}},qe={displayResults:50,queryLimit:1e3,cacheLimit:1e3};class Pa{maxSize;map;constructor(){this.maxSize=qe.cacheLimit,this.map=new Map}get(n){for(const[o,a]of this.map){const r=JSON.parse(o),s=r.start===n.start&&r.end===n.end,i=r.type===n.type,l=n.value&&r.value&&n.value.includes(r.value),c=r.match===n.match||l,d=a.length<qe.queryLimit;if(c&&s&&i&&d)return a}return this.map.get(JSON.stringify(n))}put(n,o){if(this.map.size>=this.maxSize){const a=this.map.keys().next().value;a&&this.map.delete(a)}this.map.set(JSON.stringify(n),o)}}const cn=Xo(),Oa={query:cn,queryHistory:cn.map(t=>({index:0,values:[t]})),autocomplete:_e("AUTOCOMPLETE")||!1,autocompleteQuick:!1,autocompleteCache:new Pa,metricsQLFunctions:[]};function Ra(t,n){switch(n.type){case"SET_QUERY":return{...t,query:n.payload.map(o=>o)};case"SET_QUERY_HISTORY":return Ta(n.payload.key,n.payload.history),{...t,queryHistory:n.payload.history};case"SET_QUERY_HISTORY_BY_INDEX":return t.queryHistory.splice(n.payload.queryNumber,1,n.payload.value),{...t,queryHistory:t.queryHistory};case"TOGGLE_AUTOCOMPLETE":return me("AUTOCOMPLETE",!t.autocomplete),{...t,autocomplete:!t.autocomplete};case"SET_AUTOCOMPLETE_QUICK":return{...t,autocompleteQuick:n.payload};case"SET_AUTOCOMPLETE_CACHE":return t.autocompleteCache.put(n.payload.key,n.payload.value),{...t};default:throw new Error}}const jt=We({}),dt=()=>Se(jt).state,qt=()=>Se(jt).dispatch,Da=({children:t})=>{const[n,o]=it(Ra,Oa),a=E(()=>({state:n,dispatch:o}),[n,o]);return e(jt.Provider,{value:a,children:t})},za={markdownParsing:_e("LOGS_MARKDOWN")==="true",ansiParsing:_e("LOGS_ANSI")==="true",autocompleteCache:new Map};function Fa(t,n){switch(n.type){case"SET_MARKDOWN_PARSING":return me("LOGS_MARKDOWN",`${n.payload}`),{...t,markdownParsing:n.payload};case"SET_ANSI_PARSING":return me("LOGS_ANSI",`${n.payload}`),{...t,ansiParsing:n.payload};case"SET_AUTOCOMPLETE_CACHE":{if(t.autocompleteCache.size>=qe.cacheLimit){const o=t.autocompleteCache.keys().next().value;o&&t.autocompleteCache.delete(o)}return t.autocompleteCache.set(n.payload.key,n.payload.value),{...t,autocompleteCache:t.autocompleteCache}}default:throw new Error}}const Gt=We({}),Wt=()=>Se(Gt).state,eo=()=>Se(Gt).dispatch,Ha=({children:t})=>{const[n,o]=it(Fa,za),a=E(()=>({state:n,dispatch:o}),[n,o]);return e(Gt.Provider,{value:a,children:t})},Va=()=>e("svg",{viewBox:"-1 0 30 30",fill:"currentColor",children:e("path",{d:"m3 24 3-6v-8a8 8 0 0 1 16 0v8l3 6zm11 4a2.99 2.99 0 0 1-2.816-2h5.632A2.99 2.99 0 0 1 14 28m10-10v-8c0-5.522-4.478-10-10-10S4 4.478 4 10v8l-4 8h9.101a5 5 0 0 0 9.798 0H28z"})}),$a=()=>e("svg",{viewBox:"0 0 24 24",fill:"currentColor",children:e("path",{d:"M5.5 17a5.5 5.5 0 1 1 4.243-2h4.514a5.5 5.5 0 1 1 4.243 2zm-3.485-5.5a3.485 3.485 0 1 0 6.97 0 3.485 3.485 0 0 0-6.97 0m13 0a3.485 3.485 0 1 0 6.97 0 3.485 3.485 0 0 0-6.97 0"})}),Ba=()=>e("svg",{viewBox:"0 0 85 38",fill:"currentColor",children:[e("path",{d:"M11.12 10.48c.36.28.8.43 1.26.43h.05c.48 0 .96-.19 1.25-.44 1.5-1.28 5.88-5.29 5.88-5.29 1.17-1.09-2.1-2.17-7.13-2.18h-.06c-5.04 0-8.3 1.1-7.13 2.18 0 0 4.37 4 5.88 5.3Zm2.56 2.16c-.36.28-.8.44-1.26.45h-.04c-.46 0-.9-.17-1.26-.45-1.04-.88-4.74-4.22-6.12-5.5v1.94c0 .21.08.5.22.63l.07.06c1.05.96 4.55 4.16 5.83 5.25.36.28.8.43 1.26.44h.04c.49-.02.96-.2 1.26-.44 1.3-1.11 4.94-4.45 5.88-5.31.15-.14.23-.42.23-.63V7.15a455.13 455.13 0 0 1-6.11 5.5Zm-1.26 4.99c.46 0 .9-.16 1.26-.44 2.05-1.82 4.09-3.65 6.1-5.5v1.94c0 .2-.07.48-.22.62-.94.87-4.57 4.2-5.88 5.3-.3.26-.77.44-1.26.45h-.04c-.46 0-.9-.16-1.26-.44-1.2-1.02-4.38-3.92-5.62-5.06l-.28-.25c-.14-.14-.22-.42-.22-.62v-1.94c1.38 1.26 5.08 4.6 6.12 5.5.36.28.8.43 1.26.44h.04ZM40 5l-5.84 14.46h-2.43L25.89 5h2.16a.9.9 0 0 1 .9.61l3.41 8.82a18.8 18.8 0 0 1 .62 2.02 19.44 19.44 0 0 1 .57-2.02l3.39-8.82c.05-.15.16-.3.31-.42a.9.9 0 0 1 .58-.19H40Zm17.18 0v14.46H54.8v-9.34c0-.37.02-.78.06-1.21l-4.37 8.21c-.21.4-.53.59-.95.59h-.38c-.43 0-.75-.2-.95-.59L43.8 8.88a22.96 22.96 0 0 1 .07 1.24v9.34H41.5V5h2.03l.3.01c.1 0 .17.02.24.05.07.03.13.07.19.13a1 1 0 0 1 .17.24l4.33 8.03a16.97 16.97 0 0 1 .6 1.36 14.34 14.34 0 0 1 .6-1.38l4.28-8.01c.05-.1.1-.18.17-.24.06-.06.12-.1.19-.13a.9.9 0 0 1 .24-.05l.3-.01h2.04Zm8.88 13.73a4.5 4.5 0 0 0 1.82-.35 3.96 3.96 0 0 0 2.22-2.47c.2-.57.3-1.19.3-1.85V5.31h1.02v8.75c0 .78-.12 1.51-.37 2.19a4.88 4.88 0 0 1-2.76 2.95c-.66.29-1.4.43-2.23.43-.82 0-1.57-.14-2.24-.43a5.01 5.01 0 0 1-2.75-2.95 6.37 6.37 0 0 1-.37-2.19V5.31h1.03v8.74c0 .66.1 1.28.3 1.85a3.98 3.98 0 0 0 2.21 2.47c.53.24 1.14.36 1.82.36Zm10.38.73h-1.03V5.31h1.03v14.15ZM1.73 36v-5.17l-.67-.07a.6.6 0 0 1-.21-.1.23.23 0 0 1-.08-.18v-.44h.96v-.59c0-.34.05-.65.14-.92a1.79 1.79 0 0 1 1.08-1.11 2.45 2.45 0 0 1 1.62-.02l-.03.53c0 .1-.06.15-.16.16H4c-.18 0-.35.03-.5.08a.95.95 0 0 0-.39.23c-.1.11-.19.25-.25.43-.05.18-.08.4-.08.65v.56h1.75v.78H2.8V36H1.73Zm6.17-6.17c.45 0 .85.07 1.2.22a2.57 2.57 0 0 1 1.5 1.62c.13.38.2.81.2 1.29s-.07.91-.2 1.3a2.57 2.57 0 0 1-1.49 1.61c-.36.14-.76.21-1.2.21-.45 0-.86-.07-1.22-.21a2.57 2.57 0 0 1-1.5-1.62c-.12-.38-.19-.81-.19-1.3 0-.47.07-.9.2-1.28a2.57 2.57 0 0 1 1.5-1.62c.35-.15.76-.22 1.2-.22Zm0 5.42c.6 0 1.05-.2 1.35-.6.3-.4.44-.97.44-1.69s-.15-1.28-.44-1.69c-.3-.4-.75-.6-1.35-.6-.3 0-.57.05-.8.15-.22.1-.4.26-.56.45-.15.2-.26.44-.33.73-.08.28-.11.6-.11.96 0 .72.15 1.29.44 1.69.3.4.76.6 1.36.6Zm5.26-4.11c.2-.42.43-.74.71-.97.28-.24.62-.36 1.03-.36.13 0 .25.02.36.05.12.02.23.07.32.13l-.08.8c-.02.1-.08.15-.18.15l-.24-.04a1.7 1.7 0 0 0-.88.05c-.15.05-.29.14-.4.25-.12.1-.23.24-.32.4-.1.17-.18.35-.26.56V36h-1.07v-6.08h.61c.12 0 .2.02.24.07.05.04.08.12.1.23l.06.92Zm13.73-3.82L23.39 36h-1.46l-3.5-8.68h1.29a.54.54 0 0 1 .54.37l2.04 5.3a11.31 11.31 0 0 1 .37 1.21 11.65 11.65 0 0 1 .35-1.22l2.03-5.29c.03-.1.1-.18.19-.25.1-.08.21-.12.35-.12h1.3Zm2.2 2.52V36H27.6v-6.16h1.49Zm.2-1.79c0 .13-.02.25-.08.36a1 1 0 0 1-.51.5.96.96 0 0 1-.73 0 1.02 1.02 0 0 1-.5-.5.96.96 0 0 1 0-.73.93.93 0 0 1 .86-.58.9.9 0 0 1 .37.08c.12.05.22.11.3.2a.94.94 0 0 1 .3.67Zm5.72 3.1a.68.68 0 0 1-.13.13c-.04.03-.1.05-.18.05a.42.42 0 0 1-.22-.07 3.95 3.95 0 0 0-.62-.31c-.14-.05-.3-.07-.51-.07-.26 0-.5.04-.69.14-.2.1-.36.23-.49.4-.13.18-.22.4-.29.64-.06.25-.1.53-.1.85 0 .33.04.62.1.88.08.25.18.47.32.64.13.18.29.3.48.4.18.09.4.13.63.13a1.6 1.6 0 0 0 .94-.27l.26-.2a.4.4 0 0 1 .25-.09.3.3 0 0 1 .27.14l.43.54a2.76 2.76 0 0 1-1.77.96c-.22.03-.43.05-.65.05a2.57 2.57 0 0 1-1.96-.83c-.25-.28-.45-.6-.6-1-.14-.4-.21-.85-.21-1.35 0-.45.06-.87.2-1.25a2.61 2.61 0 0 1 1.51-1.67c.37-.16.8-.24 1.28-.24.46 0 .86.07 1.2.22.35.15.66.36.94.64l-.4.54Zm3.43 4.95c-.54 0-.95-.15-1.24-.45-.28-.3-.42-.73-.42-1.26v-3.44h-.63a.29.29 0 0 1-.2-.07c-.06-.06-.09-.13-.09-.24v-.59l.99-.16.31-1.68a.33.33 0 0 1 .12-.18.34.34 0 0 1 .21-.07h.77v1.94h1.64v1.05h-1.64v3.34c0 .2.05.34.14.45.1.1.22.16.39.16a.73.73 0 0 0 .39-.1l.12-.07a.2.2 0 0 1 .11-.03c.05 0 .08.01.11.03l.09.1.44.72c-.21.18-.46.32-.74.4-.28.1-.57.15-.87.15Zm5.09-6.35c.46 0 .87.07 1.24.22a2.7 2.7 0 0 1 1.58 1.63c.14.39.22.83.22 1.31 0 .49-.08.93-.22 1.32-.14.4-.35.73-.62 1-.26.28-.58.49-.96.64-.37.15-.78.22-1.24.22a3.4 3.4 0 0 1-1.25-.22 2.71 2.71 0 0 1-1.59-1.64 3.8 3.8 0 0 1-.21-1.32c0-.48.07-.92.21-1.31a2.75 2.75 0 0 1 1.58-1.63c.38-.15.8-.22 1.26-.22Zm0 5.2c.51 0 .89-.17 1.13-.52.25-.34.38-.84.38-1.5a2.6 2.6 0 0 0-.38-1.53c-.24-.34-.62-.52-1.13-.52-.52 0-.9.18-1.16.53-.25.35-.37.85-.37 1.51s.12 1.17.37 1.51c.25.35.64.52 1.16.52Zm5.56-4.04c.2-.37.42-.65.69-.86.26-.21.57-.32.94-.32.28 0 .5.06.68.19l-.1 1.1a.3.3 0 0 1-.09.16.24.24 0 0 1-.15.04 1.8 1.8 0 0 1-.27-.03 2.01 2.01 0 0 0-.34-.03c-.16 0-.3.03-.44.08a1.1 1.1 0 0 0-.34.2c-.1.1-.2.2-.27.33-.08.13-.15.27-.22.44V36H47.7v-6.16h.87c.15 0 .26.03.31.09.06.05.1.15.13.29l.09.7Zm4.62-1.07V36h-1.49v-6.16h1.49Zm.2-1.79c0 .13-.02.25-.07.36a1 1 0 0 1-.51.5.96.96 0 0 1-.74 0 1.02 1.02 0 0 1-.5-.5.96.96 0 0 1 0-.73.93.93 0 0 1 .86-.58.9.9 0 0 1 .38.08c.11.05.21.11.3.2a.94.94 0 0 1 .28.67Zm4.56 5.32a7.8 7.8 0 0 0-1.08.12c-.29.05-.52.12-.7.2a.92.92 0 0 0-.38.3.64.64 0 0 0-.11.36c0 .26.07.45.23.56.15.11.35.17.6.17.3 0 .57-.06.79-.17.22-.1.44-.28.65-.5v-1.04Zm-3.4-2.67c.71-.65 1.57-.97 2.56-.97.36 0 .68.06.97.18a1.99 1.99 0 0 1 1.16 1.24c.1.3.16.61.16.96V36h-.67a.7.7 0 0 1-.33-.06c-.07-.04-.13-.13-.18-.26l-.13-.44c-.16.14-.3.26-.46.37a2.8 2.8 0 0 1-.97.43 2.77 2.77 0 0 1-1.32-.05 1.62 1.62 0 0 1-.57-.31 1.41 1.41 0 0 1-.38-.53 1.85 1.85 0 0 1-.05-1.18c.05-.16.14-.3.25-.45.12-.14.28-.27.46-.4a3 3 0 0 1 .7-.32 9.19 9.19 0 0 1 2.2-.33v-.36c0-.41-.09-.71-.26-.91-.18-.2-.43-.3-.76-.3a1.84 1.84 0 0 0-1.02.28l-.33.18c-.1.06-.2.09-.32.09-.1 0-.2-.03-.27-.08a.72.72 0 0 1-.17-.2l-.26-.47Zm11.49 4.32V36h-4.88v-8.6h1.16v7.62h3.72Zm3.16-5.2c.44 0 .84.08 1.2.23a2.57 2.57 0 0 1 1.49 1.62c.13.38.2.81.2 1.29s-.07.91-.2 1.3a2.57 2.57 0 0 1-1.49 1.61c-.36.14-.76.21-1.2.21-.45 0-.85-.07-1.21-.21a2.57 2.57 0 0 1-1.5-1.62c-.13-.38-.2-.81-.2-1.3 0-.47.07-.9.2-1.28.14-.39.33-.72.59-1 .25-.26.55-.47.9-.62.37-.15.77-.22 1.22-.22Zm0 5.43c.6 0 1.05-.2 1.34-.6.3-.4.45-.97.45-1.69s-.15-1.28-.45-1.69c-.3-.4-.74-.6-1.34-.6-.3 0-.57.05-.8.15-.22.1-.4.26-.56.45-.15.2-.26.44-.34.73-.07.28-.1.6-.1.96 0 .72.14 1.29.44 1.69.3.4.75.6 1.36.6Zm6.33-2.22c.22 0 .4-.03.57-.09.16-.06.3-.14.41-.25.12-.11.2-.24.26-.39.05-.15.08-.31.08-.5 0-.37-.11-.66-.34-.88-.23-.22-.55-.33-.98-.33-.43 0-.76.1-.99.33-.22.22-.34.51-.34.89 0 .18.03.34.09.5a1.1 1.1 0 0 0 .67.63c.16.06.35.09.57.09Zm1.93 3.3a.51.51 0 0 0-.13-.36.84.84 0 0 0-.34-.22 8.57 8.57 0 0 0-1.73-.2 7.5 7.5 0 0 1-.62-.05c-.23.1-.41.23-.56.4a.8.8 0 0 0-.1.92c.07.12.18.22.32.3.14.1.32.16.54.21a3.5 3.5 0 0 0 1.55 0c.23-.05.42-.12.57-.22.16-.1.29-.21.37-.34a.8.8 0 0 0 .13-.44Zm1.08-6.17v.4c0 .13-.08.21-.25.25l-.69.09c.14.26.2.56.2.88a1.86 1.86 0 0 1-1.36 1.82 3.07 3.07 0 0 1-1.72.04c-.12.08-.22.16-.29.25a.44.44 0 0 0-.1.27c0 .15.06.26.17.33.12.08.28.13.47.16a5 5 0 0 0 .66.06 16.56 16.56 0 0 1 1.5.13c.26.05.48.12.67.22.19.1.34.24.46.41.12.18.18.4.18.69 0 .26-.07.5-.2.75s-.31.46-.56.65c-.24.2-.54.34-.9.46a4.57 4.57 0 0 1-2.36.04c-.33-.09-.6-.2-.82-.36a1.56 1.56 0 0 1-.5-.51c-.1-.2-.16-.4-.16-.6 0-.3.1-.56.28-.77.19-.2.45-.37.77-.5a1.15 1.15 0 0 1-.43-.32.88.88 0 0 1-.15-.54c0-.09.01-.18.04-.27.04-.1.08-.2.15-.28a1.55 1.55 0 0 1 .58-.5c-.3-.16-.53-.39-.7-.66-.17-.28-.25-.6-.25-.97 0-.3.05-.57.16-.8.12-.25.28-.46.48-.63.2-.17.45-.3.73-.4a3 3 0 0 1 2.3.21h1.64Zm4.65.76a.24.24 0 0 1-.23.14.42.42 0 0 1-.2-.07 3.59 3.59 0 0 0-.67-.3 1.8 1.8 0 0 0-1.03 0c-.14.05-.27.11-.37.2a.87.87 0 0 0-.23.27.75.75 0 0 0-.08.35c0 .15.04.28.13.39.1.1.21.19.36.27.15.07.32.14.5.2a13.63 13.63 0 0 1 1.16.4c.2.08.36.18.5.3a1.33 1.33 0 0 1 .5 1.07 2 2 0 0 1-.15.78c-.1.24-.25.44-.45.62-.2.17-.43.3-.72.4a3.1 3.1 0 0 1-2.14-.05 2.97 2.97 0 0 1-.87-.53l.25-.41c.04-.05.07-.1.12-.12a.3.3 0 0 1 .17-.04.4.4 0 0 1 .22.08l.3.19a1.91 1.91 0 0 0 1.03.27c.2 0 .38-.03.54-.08.16-.06.29-.13.4-.22a.96.96 0 0 0 .3-.7c0-.17-.05-.31-.14-.42-.09-.11-.2-.2-.36-.28a2.6 2.6 0 0 0-.5-.2l-.59-.19c-.2-.06-.39-.14-.58-.22a2.14 2.14 0 0 1-.5-.3 1.45 1.45 0 0 1-.36-.46c-.1-.19-.14-.41-.14-.67a1.6 1.6 0 0 1 .57-1.23c.18-.16.4-.3.68-.39.26-.1.57-.14.91-.14a2.84 2.84 0 0 1 1.9.7l-.23.4Z"}),e("defs",{children:e("path",{d:"M0 0h85v38H0z"})})]}),Ua=()=>e("svg",{viewBox:"0 0 15 17",fill:"currentColor",children:e("path",{d:"M6.11767 7.47586C6.47736 7.75563 6.91931 7.90898 7.37503 7.91213H7.42681C7.90756 7.90474 8.38832 7.71987 8.67677 7.46846C10.1856 6.18921 14.5568 2.18138 14.5568 2.18138C15.7254 1.09438 12.4637 0.00739 7.42681 0H7.36764C2.3308 0.00739 -0.930935 1.09438 0.237669 2.18138C0.237669 2.18138 4.60884 6.18921 6.11767 7.47586ZM8.67677 9.64243C8.31803 9.92483 7.87599 10.0808 7.41941 10.0861H7.37503C6.91845 10.0808 6.47641 9.92483 6.11767 9.64243C5.0822 8.75513 1.38409 5.42018 0.000989555 4.14832V6.07829C0.000989555 6.29273 0.0823481 6.57372 0.222877 6.70682L0.293316 6.7712L0.293344 6.77122C1.33784 7.72579 4.83903 10.9255 6.11767 12.0161C6.47641 12.2985 6.91845 12.4545 7.37503 12.4597H7.41941C7.90756 12.4449 8.38092 12.2601 8.67677 12.0161C9.9859 10.9069 13.6249 7.57198 14.5642 6.70682C14.7121 6.57372 14.7861 6.29273 14.7861 6.07829V4.14832C12.7662 5.99804 10.7297 7.82949 8.67677 9.64243ZM7.41941 14.6263C7.87513 14.6232 8.31708 14.4698 8.67677 14.19C10.7298 12.3746 12.7663 10.5407 14.7861 8.68853V10.6259C14.7861 10.8329 14.7121 11.1139 14.5642 11.247C13.6249 12.1196 9.9859 15.4471 8.67677 16.5563C8.38092 16.8077 7.90756 16.9926 7.41941 17H7.37503C6.91931 16.9968 6.47736 16.8435 6.11767 16.5637C4.91427 15.5373 1.74219 12.6364 0.502294 11.5025C0.393358 11.4029 0.299337 11.3169 0.222877 11.247C0.0823481 11.1139 0.000989555 10.8329 0.000989555 10.6259V8.68853C1.38409 9.95303 5.0822 13.2953 6.11767 14.1827C6.47641 14.4651 6.91845 14.6211 7.37503 14.6263H7.41941Z"})}),Ee=()=>e("svg",{viewBox:"0 0 24 24",fill:"currentColor",children:e("path",{d:"M19.14 12.94c.04-.3.06-.61.06-.94 0-.32-.02-.64-.07-.94l2.03-1.58c.18-.14.23-.41.12-.61l-1.92-3.32c-.12-.22-.37-.29-.59-.22l-2.39.96c-.5-.38-1.03-.7-1.62-.94l-.36-2.54c-.04-.24-.24-.41-.48-.41h-3.84c-.24 0-.43.17-.47.41l-.36 2.54c-.59.24-1.13.57-1.62.94l-2.39-.96c-.22-.08-.47 0-.59.22L2.74 8.87c-.12.21-.08.47.12.61l2.03 1.58c-.05.3-.09.63-.09.94s.02.64.07.94l-2.03 1.58c-.18.14-.23.41-.12.61l1.92 3.32c.12.22.37.29.59.22l2.39-.96c.5.38 1.03.7 1.62.94l.36 2.54c.05.24.24.41.48.41h3.84c.24 0 .44-.17.47-.41l.36-2.54c.59-.24 1.13-.56 1.62-.94l2.39.96c.22.08.47 0 .59-.22l1.92-3.32c.12-.22.07-.47-.12-.61l-2.01-1.58zM12 15.6c-1.98 0-3.6-1.62-3.6-3.6s1.62-3.6 3.6-3.6 3.6 1.62 3.6 3.6-1.62 3.6-3.6 3.6z"})}),Ze=()=>e("svg",{viewBox:"0 0 24 24",fill:"currentColor",children:e("path",{d:"M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"})}),ot=()=>e("svg",{viewBox:"0 0 24 24",fill:"currentColor",children:e("path",{d:"M12 5V2L8 6l4 4V7c3.31 0 6 2.69 6 6 0 2.97-2.17 5.43-5 5.91v2.02c3.95-.49 7-3.85 7-7.93 0-4.42-3.58-8-8-8zm-6 8c0-1.65.67-3.15 1.76-4.24L6.34 7.34C4.9 8.79 4 10.79 4 13c0 4.08 3.05 7.44 7 7.93v-2.02c-2.83-.48-5-2.94-5-5.91z"})}),to=()=>e("svg",{viewBox:"0 0 24 24",fill:"currentColor",children:e("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm1 15h-2v-6h2v6zm0-8h-2V7h2v2z"})}),no=()=>e("svg",{viewBox:"0 0 24 24",fill:"currentColor",children:e("path",{d:"M1 21h22L12 2 1 21zm12-3h-2v-2h2v2zm0-4h-2v-4h2v4z"})}),Ya=()=>e("svg",{viewBox:"0 0 24 24",fill:"currentColor",children:e("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm1 15h-2v-2h2v2zm0-4h-2V7h2v6z"})}),ja=()=>e("svg",{viewBox:"0 0 24 24",fill:"currentColor",children:e("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"})}),oo=()=>e("svg",{viewBox:"0 0 24 24",fill:"currentColor",children:e("path",{d:"M12 6v3l4-4-4-4v3c-4.42 0-8 3.58-8 8 0 1.57.46 3.03 1.24 4.26L6.7 14.8c-.45-.83-.7-1.79-.7-2.8 0-3.31 2.69-6 6-6zm6.76 1.74L17.3 9.2c.44.84.7 1.79.7 2.8 0 3.31-2.69 6-6 6v-3l-4 4 4 4v-3c4.42 0 8-3.58 8-8 0-1.57-.46-3.03-1.24-4.26z"})}),le=()=>e("svg",{viewBox:"0 0 24 24",fill:"currentColor",children:e("path",{d:"M7.41 8.59 12 13.17l4.59-4.58L18 10l-6 6-6-6 1.41-1.41z"})}),Pe=()=>e("svg",{viewBox:"0 0 24 24",fill:"currentColor",children:e("path",{d:"m7 10 5 5 5-5z"})}),Mt=()=>e("svg",{viewBox:"0 0 24 24",fill:"currentColor",children:[e("path",{d:"M11.99 2C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"}),e("path",{d:"M12.5 7H11v6l5.25 3.15.75-1.23-4.5-2.67z"})]}),qa=()=>e("svg",{viewBox:"0 0 24 24",fill:"currentColor",children:e("path",{d:"M20 3h-1V1h-2v2H7V1H5v2H4c-1.1 0-2 .9-2 2v16c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm0 18H4V8h16v13z"})}),Ga=()=>e("svg",{viewBox:"0 0 24 24",fill:"currentColor",children:e("path",{d:"m22 5.72-4.6-3.86-1.29 1.53 4.6 3.86L22 5.72zM7.88 3.39 6.6 1.86 2 5.71l1.29 1.53 4.59-3.85zM12.5 8H11v6l4.75 2.85.75-1.23-4-2.37V8zM12 4c-4.97 0-9 4.03-9 9s4.02 9 9 9c4.97 0 9-4.03 9-9s-4.03-9-9-9zm0 16c-3.87 0-7-3.13-7-7s3.13-7 7-7 7 3.13 7 7-3.13 7-7 7z"})}),ao=()=>e("svg",{viewBox:"0 0 24 24",fill:"currentColor",children:e("path",{d:"M8 5v14l11-7z"})}),ro=()=>e("svg",{viewBox:"0 0 24 24",fill:"currentColor",children:e("path",{d:"m10 16.5 6-4.5-6-4.5v9zM12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8z"})}),Wa=()=>e("svg",{viewBox:"0 0 24 24",fill:"currentColor",children:e("path",{d:"M10 10.02h5V21h-5zM17 21h3c1.1 0 2-.9 2-2v-9h-5v11zm3-18H5c-1.1 0-2 .9-2 2v3h19V5c0-1.1-.9-2-2-2zM3 19c0 1.1.9 2 2 2h3V10H3v9z"})}),so=()=>e("svg",{viewBox:"0 0 24 24",fill:"currentColor",children:e("path",{d:"M9.4 16.6 4.8 12l4.6-4.6L8 6l-6 6 6 6 1.4-1.4zm5.2 0 4.6-4.6-4.6-4.6L16 6l6 6-6 6-1.4-1.4z"})}),io=()=>e("svg",{viewBox:"0 0 24 24",fill:"currentColor",children:e("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM19 4h-3.5l-1-1h-5l-1 1H5v2h14V4z"})}),Kt=()=>e("svg",{viewBox:"0 0 24 24",fill:"currentColor",children:e("path",{d:"M8.9999 14.7854L18.8928 4.8925C19.0803 4.70497 19.3347 4.59961 19.5999 4.59961C19.8651 4.59961 20.1195 4.70497 20.307 4.8925L21.707 6.2925C22.0975 6.68303 22.0975 7.31619 21.707 7.70672L9.70701 19.7067C9.31648 20.0972 8.68332 20.0972 8.2928 19.7067L2.6928 14.1067C2.50526 13.9192 2.3999 13.6648 2.3999 13.3996C2.3999 13.1344 2.50526 12.88 2.6928 12.6925L4.0928 11.2925C4.48332 10.902 5.11648 10.902 5.50701 11.2925L8.9999 14.7854Z"})}),st=()=>e("svg",{viewBox:"0 0 24 24",fill:"currentColor",children:e("path",{d:"M12 4.5C7 4.5 2.73 7.61 1 12c1.73 4.39 6 7.5 11 7.5s9.27-3.11 11-7.5c-1.73-4.39-6-7.5-11-7.5zM12 17c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5zm0-8c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3z"})}),lo=()=>e("svg",{viewBox:"0 0 24 24",fill:"currentColor",children:e("path",{d:"M12 7c2.76 0 5 2.24 5 5 0 .65-.13 1.26-.36 1.83l2.92 2.92c1.51-1.26 2.7-2.89 3.43-4.75-1.73-4.39-6-7.5-11-7.5-1.4 0-2.74.25-3.98.7l2.16 2.16C10.74 7.13 11.35 7 12 7zM2 4.27l2.28 2.28.46.46C3.08 8.3 1.78 10.02 1 12c1.73 4.39 6 7.5 11 7.5 1.55 0 3.03-.3 4.38-.84l.42.42L19.73 22 21 20.73 3.27 3 2 4.27zM7.53 9.8l1.55 1.55c-.05.21-.08.43-.08.65 0 1.66 1.34 3 3 3 .22 0 .44-.03.65-.08l1.55 1.55c-.67.33-1.41.53-2.2.53-2.76 0-5-2.24-5-5 0-.79.2-1.53.53-2.2zm4.31-.78 3.15 3.15.02-.16c0-1.66-1.34-3-3-3l-.17.01z"})}),ke=()=>e("svg",{viewBox:"0 0 24 24",fill:"currentColor",children:e("path",{d:"M16 1H4c-1.1 0-2 .9-2 2v14h2V3h12V1zm3 4H8c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h11c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2zm0 16H8V7h11v14z"})}),co=()=>e("svg",{viewBox:"0 0 24 24",fill:"currentColor",children:[e("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M21 5C19.89 4.65 18.67 4.5 17.5 4.5C15.55 4.5 13.45 4.9 12 6C10.55 4.9 8.45 4.5 6.5 4.5C5.33 4.5 4.11 4.65 3 5C2.25 5.25 1.6 5.55 1 6V20.6C1 20.85 1.25 21.1 1.5 21.1C1.6 21.1 1.65 21.1 1.75 21.05C3.15 20.3 4.85 20 6.5 20C8.2 20 10.65 20.65 12 21.5C13.35 20.65 15.8 20 17.5 20C19.15 20 20.85 20.3 22.25 21.05C22.35 21.1 22.4 21.1 22.5 21.1C22.75 21.1 23 20.85 23 20.6V6C22.4 5.55 21.75 5.25 21 5ZM21 18.5C19.9 18.15 18.7 18 17.5 18C15.8 18 13.35 18.65 12 19.5C10.65 18.65 8.2 18 6.5 18C5.3 18 4.1 18.15 3 18.5V7C4.1 6.65 5.3 6.5 6.5 6.5C8.2 6.5 10.65 7.15 12 8C13.35 7.15 15.8 6.5 17.5 6.5C18.7 6.5 19.9 6.65 21 7V18.5Z"}),e("path",{d:"M17.5 10.5C18.38 10.5 19.23 10.59 20 10.76V9.24C19.21 9.09 18.36 9 17.5 9C15.8 9 14.26 9.29 13 9.83V11.49C14.13 10.85 15.7 10.5 17.5 10.5ZM13 12.49V14.15C14.13 13.51 15.7 13.16 17.5 13.16C18.38 13.16 19.23 13.25 20 13.42V11.9C19.21 11.75 18.36 11.66 17.5 11.66C15.8 11.66 14.26 11.96 13 12.49ZM17.5 14.33C15.8 14.33 14.26 14.62 13 15.16V16.82C14.13 16.18 15.7 15.83 17.5 15.83C18.38 15.83 19.23 15.92 20 16.09V14.57C19.21 14.41 18.36 14.33 17.5 14.33Z"}),e("path",{d:"M6.5 10.5C5.62 10.5 4.77 10.59 4 10.76V9.24C4.79 9.09 5.64 9 6.5 9C8.2 9 9.74 9.29 11 9.83V11.49C9.87 10.85 8.3 10.5 6.5 10.5ZM11 12.49V14.15C9.87 13.51 8.3 13.16 6.5 13.16C5.62 13.16 4.77 13.25 4 13.42V11.9C4.79 11.75 5.64 11.66 6.5 11.66C8.2 11.66 9.74 11.96 11 12.49ZM6.5 14.33C8.2 14.33 9.74 14.62 11 15.16V16.82C9.87 16.18 8.3 15.83 6.5 15.83C5.62 15.83 4.77 15.92 4 16.09V14.57C4.79 14.41 5.64 14.33 6.5 14.33Z"})]}),Ka=()=>e("svg",{viewBox:"0 0 24 24",fill:"currentColor",children:e("path",{d:"M12 2C6.49 2 2 6.49 2 12s4.49 10 10 10 10-4.49 10-10S17.51 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8zm3-8c0 1.66-1.34 3-3 3s-3-1.34-3-3 1.34-3 3-3 3 1.34 3 3z"})}),Qa=()=>e("svg",{viewBox:"0 0 24 24",fill:"currentColor",children:e("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12 2C6.48 2 2 6.48 2 12C2 17.52 6.48 22 12 22C17.52 22 22 17.52 22 12C22 6.48 17.52 2 12 2ZM12 6C9.79 6 8 7.79 8 10H10C10 8.9 10.9 8 12 8C13.1 8 14 8.9 14 10C14 10.8792 13.4202 11.3236 12.7704 11.8217C11.9421 12.4566 11 13.1787 11 15H13C13 13.9046 13.711 13.2833 14.4408 12.6455C15.21 11.9733 16 11.2829 16 10C16 7.79 14.21 6 12 6ZM13 16V18H11V16H13Z"})}),It=()=>e("svg",{viewBox:"0 0 24 24",fill:"currentColor",children:e("path",{d:"M4 20h16c1.1 0 2-.9 2-2s-.9-2-2-2H4c-1.1 0-2 .9-2 2s.9 2 2 2zm0-3h2v2H4v-2zM2 6c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2s-.9-2-2-2H4c-1.1 0-2 .9-2 2zm4 1H4V5h2v2zm-2 7h16c1.1 0 2-.9 2-2s-.9-2-2-2H4c-1.1 0-2 .9-2 2s.9 2 2 2zm0-3h2v2H4v-2z"})}),Za=()=>e("svg",{viewBox:"0 0 24 24",fill:"currentColor",children:e("path",{d:"M12 8c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2zm0 2c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm0 6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z"})}),Ja=()=>e("svg",{viewBox:"0 0 24 24",fill:"currentColor",children:e("path",{d:"M3 14h4v-4H3v4zm0 5h4v-4H3v4zM3 9h4V5H3v4zm5 5h13v-4H8v4zm0 5h13v-4H8v4zM8 5v4h13V5H8z"})}),Xa=()=>e("svg",{viewBox:"0 0 24 24",fill:"currentColor",children:e("path",{d:"m22 9.24-7.19-.62L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21 12 17.27 18.18 21l-1.63-7.03L22 9.24zM12 15.4l-3.76 2.27 1-4.28-3.32-2.88 4.38-.38L12 6.1l1.71 4.04 4.38.38-3.32 2.88 1 4.28L12 15.4z"})}),er=()=>e("svg",{viewBox:"0 0 24 24",fill:"currentColor",children:e("path",{d:"M12 17.27 18.18 21l-1.64-7.03L22 9.24l-7.19-.61L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21z"})}),dn=()=>e("svg",{viewBox:"0 0 16 16",fill:fe("color-error"),children:e("path",{d:"M13.5095 4L8.50952 1H7.50952L2.50952 4L2.01953 4.85999V10.86L2.50952 11.71L7.50952 14.71H8.50952L13.5095 11.71L13.9995 10.86V4.85999L13.5095 4ZM7.50952 13.5601L3.00952 10.86V5.69995L7.50952 8.15002V13.5601ZM3.26953 4.69995L8.00952 1.85999L12.7495 4.69995L8.00952 7.29004L3.26953 4.69995ZM13.0095 10.86L8.50952 13.5601V8.15002L13.0095 5.69995V10.86Z"})}),Pt=()=>e("svg",{viewBox:"0 0 16 16",fill:fe("color-primary"),children:e("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M2 5H4V4H1.5L1 4.5V12.5L1.5 13H4V12H2V5ZM14.5 4H12V5H14V12H12V13H14.5L15 12.5V4.5L14.5 4ZM11.76 6.56995L12 7V9.51001L11.7 9.95996L7.19995 11.96H6.73999L4.23999 10.46L4 10.03V7.53003L4.30005 7.06995L8.80005 5.06995H9.26001L11.76 6.56995ZM5 9.70996L6.5 10.61V9.28003L5 8.38V9.70996ZM5.57996 7.56006L7.03003 8.43005L10.42 6.93005L8.96997 6.06006L5.57996 7.56006ZM7.53003 10.73L11.03 9.17004V7.77002L7.53003 9.31995V10.73Z"})}),tr=()=>e("svg",{viewBox:"0 0 16 16",fill:fe("color-warning"),children:e("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M14 2H8L7 3V6H8V3H14V8H10V9H14L15 8V3L14 2ZM9 6H13V7H9.41L9 6.59V6ZM7 7H2L1 8V13L2 14H8L9 13V8L8 7H7ZM8 13H2V8H8V9V13ZM3 9H7V10H3V9ZM3 11H7V12H3V11ZM9 4H13V5H9V4Z"})}),un=()=>e("svg",{viewBox:"0 0 16 16",fill:fe("color-primary"),children:e("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M7 3L8 2H14L15 3V8L14 9H10V8H14V3H8V6H7V3ZM9 9V8L8 7H7H2L1 8V13L2 14H8L9 13V9ZM8 8V9V13H2V8H7H8ZM9.41421 7L9 6.58579V6H13V7H9.41421ZM9 4H13V5H9V4ZM7 10H3V11H7V10Z"})}),nr=()=>e("svg",{viewBox:"0 0 24 24",fill:"currentColor",children:e("path",{d:"M19 9h-4V3H9v6H5l7 7 7-7zM5 18v2h14v-2H5z"})}),or=()=>e("svg",{viewBox:"0 0 24 24",fill:"currentColor",children:e("path",{d:"M12 5.83 15.17 9l1.41-1.41L12 3 7.41 7.59 8.83 9zm0 12.34L8.83 15l-1.41 1.41L12 21l4.59-4.59L15.17 15z"})}),ar=()=>e("svg",{viewBox:"0 0 24 24",fill:"currentColor",children:e("path",{d:"M7.41 18.59 8.83 20 12 16.83 15.17 20l1.41-1.41L12 14zm9.18-13.18L15.17 4 12 7.17 8.83 4 7.41 5.41 12 10z"})}),Qt=()=>e("svg",{viewBox:"0 0 24 24",fill:"currentColor",children:e("path",{d:"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14"})}),rr=()=>e("svg",{viewBox:"0 0 24 24",children:e("path",{fill:"currentColor",d:"M12,4a8,8,0,0,1,7.89,6.7A1.53,1.53,0,0,0,21.38,12h0a1.5,1.5,0,0,0,1.48-1.75,11,11,0,0,0-21.72,0A1.5,1.5,0,0,0,2.62,12h0a1.53,1.53,0,0,0,1.49-1.3A8,8,0,0,1,12,4Z",children:e("animateTransform",{attributeName:"transform",dur:"0.75s",repeatCount:"indefinite",type:"rotate",values:"0 12 12;360 12 12"})})}),uo=()=>e("svg",{viewBox:"0 0 24 24",fill:"currentColor",children:e("path",{d:"M4.25 5.61C6.27 8.2 10 13 10 13v6c0 .55.45 1 1 1h2c.55 0 1-.45 1-1v-6s3.72-4.8 5.74-7.39c.51-.66.04-1.61-.79-1.61H5.04c-.83 0-1.3.95-.79 1.61"})}),mo=()=>e("svg",{viewBox:"0 0 24 24",fill:"currentColor",children:e("path",{d:"M19.79 5.61C20.3 4.95 19.83 4 19 4H6.83l7.97 7.97zM2.81 2.81 1.39 4.22 10 13v6c0 .55.45 1 1 1h2c.55 0 1-.45 1-1v-2.17l5.78 5.78 1.41-1.41z"})}),sr=()=>e("svg",{viewBox:"0 0 24 24",fill:"currentColor",children:e("path",{d:"M6 19h4V5H6v14zm8-14v14h4V5h-4z"})}),ir=()=>e("svg",{viewBox:"0 0 24 24",fill:"currentColor",children:e("path",{d:"M8 12l4-4 4 4m-4-4v12",strokeWidth:"2",stroke:"currentColor",fill:"none"})}),lr=()=>e("svg",{viewBox:"0 0 24 24",fill:"currentColor",children:[e("path",{d:"M4 3 L4 15 L1.5 15 L5.5 21 L9.5 15 L7 15 L7 3 Z"}),e("path",{d:"M13 21 L13 9 L10.5 9 L14.5 3 L18.5 9 L16 9 L16 21 Z"})]}),cr=()=>e("svg",{viewBox:"0 0 24 24",fill:"currentColor",children:e("path",{d:"M10.5 3 L10.5 15 L8 15 L12 21 L16 15 L13.5 15 L13.5 3 Z"})}),dr=()=>e("svg",{viewBox:"0 0 24 24",fill:"currentColor",children:e("path",{d:"M10.5 21 L10.5 9 L8 9 L12 3 L16 9 L13.5 9 L13.5 21 Z"})}),ho={windows:"Windows",mac:"Mac OS",linux:"Linux"},ur=()=>Object.values(ho).find(t=>navigator.userAgent.indexOf(t)>=0)||"unknown",Zt=()=>ur()===ho.mac,mr=()=>["Android","webOS","iPhone","iPad","iPod","BlackBerry","Windows Phone"].map(o=>navigator.userAgent.match(new RegExp(o,"i"))).some(o=>o);function J(t,n,o,a){const r=D(n);x(()=>{r.current=n},[n]),x(()=>{const s=o?.current??window;if(!(s&&s.addEventListener))return;const i=l=>r.current(l);return s.addEventListener(t,i,a),()=>{s.removeEventListener(t,i,a)}},[t,o,a])}const Je=()=>{const[t,n]=A({width:0,height:0}),o=()=>{n({width:window.innerWidth,height:window.innerHeight})};return J("resize",o),x(o,[]),t};function G(){const t=Je(),n=()=>{const r=mr(),s=window.innerWidth<500;return r||s},[o,a]=A(n());return x(()=>{a(n())},[t]),{isMobile:o}}const hr={success:e(ja,{}),error:e(Ya,{}),warning:e(no,{}),info:e(to,{})},ge=({variant:t,children:n})=>{const{isDarkTheme:o}=ee(),{isMobile:a}=G();return e("div",{className:I({"vm-alert":!0,[`vm-alert_${t}`]:t,"vm-alert_dark":o,"vm-alert_mobile":a}),children:[e("div",{className:"vm-alert__icon",children:hr[t||"info"]}),e("div",{className:"vm-alert__content",children:n})]})},po=We({showInfoMessage:()=>{}}),pr=()=>Se(po),_r=({children:t})=>{const{isMobile:n}=G(),[o,a]=A({text:"",type:"info"}),[r,s]=A(!1),[i,l]=A(null);x(()=>{if(!i)return;a({...i,key:Date.now()}),s(!0);const d=setTimeout(c,i.timeout||4e3);return()=>clearTimeout(d)},[i]);const c=()=>{l(null),s(!1)};return e(po.Provider,{value:{showInfoMessage:l},children:[r&&e("div",{className:I({"vm-snackbar":!0,"vm-snackbar_mobile":n}),children:e(ge,{variant:o.type,children:e("div",{className:"vm-snackbar-content",children:[e("span",{children:o.text}),e("div",{className:"vm-snackbar-content__close",onClick:c,children:e(Ze,{})})]})})}),t]})},gr=(...t)=>t.reduce((n,o)=>({children:a})=>e(n,{children:e(o,{children:a})}),({children:n})=>e(Y,{children:n})),fr=[sa,xa,Da,_r,Ha],vr=gr(...fr),_o=t=>{if(t.length!=7)return"0, 0, 0";const n=parseInt(t.slice(1,3),16),o=parseInt(t.slice(3,5),16),a=parseInt(t.slice(5,7),16);return`${n}, ${o}, ${a}`},br={[de.yhatUpper]:"#7126a1",[de.yhatLower]:"#7126a1",[de.yhat]:"#da42a6",[de.anomaly]:"#da4242",[de.anomalyScore]:"#7126a1",[de.actual]:"#203ea9",[de.training]:`rgba(${_o("#203ea9")}, 0.2)`},yr=t=>{let n=t.replace("#","").trim();if(n.length===3&&(n=n[0]+n[0]+n[1]+n[1]+n[2]+n[2]),n.length!==6)throw new Error("Invalid HEX color.");const o=parseInt(n.slice(0,2),16),a=parseInt(n.slice(2,4),16),r=parseInt(n.slice(4,6),16);return(o*299+a*587+r*114)/1e3>=128?"#000000":"#FFFFFF"},ut=()=>{const t=document.getElementById("root")?.dataset.params||"{}";try{return JSON.parse(t)}catch(n){return console.error(n),{}}},Ne=()=>!!Object.keys(ut()).length,ft={"color-primary":"#589DF6","color-secondary":"#316eca","color-error":"#e5534b","color-warning":"#c69026","color-info":"#539bf5","color-success":"#57ab5a","color-background-body":"#22272e","color-background-block":"#2d333b","color-background-tooltip":"rgba(22, 22, 22, 0.8)","color-text":"#cdd9e5","color-text-secondary":"#768390","color-text-disabled":"#636e7b","box-shadow":"rgba(0, 0, 0, 0.16) 1px 2px 6px","box-shadow-popper":"rgba(0, 0, 0, 0.2) 0px 2px 8px 0px","border-divider":"1px solid rgba(99, 110, 123, 0.5)","color-hover-black":"rgba(0, 0, 0, 0.2)","color-log-hits-bar-0":"rgba(255, 255, 255, 0.18)","color-log-hits-bar-1":"#FFB74D","color-log-hits-bar-2":"#81C784","color-log-hits-bar-3":"#64B5F6","color-log-hits-bar-4":"#E57373","color-log-hits-bar-5":"#8a62f0"},vt={"color-primary":"#3F51B5","color-secondary":"#E91E63","color-error":"#FD080E","color-warning":"#FF8308","color-info":"#03A9F4","color-success":"#4CAF50","color-background-body":"#FEFEFF","color-background-block":"#FFFFFF","color-background-tooltip":"rgba(80,80,80,0.9)","color-text":"#110f0f","color-text-secondary":"#706F6F","color-text-disabled":"#A09F9F","box-shadow":"rgba(0, 0, 0, 0.08) 1px 2px 6px","box-shadow-popper":"rgba(0, 0, 0, 0.1) 0px 2px 8px 0px","border-divider":"1px solid rgba(0, 0, 0, 0.15)","color-hover-black":"rgba(0, 0, 0, 0.06)","color-log-hits-bar-0":"rgba(0, 0, 0, 0.18)","color-log-hits-bar-1":"#FFB74D","color-log-hits-bar-2":"#81C784","color-log-hits-bar-3":"#64B5F6","color-log-hits-bar-4":"#E57373","color-log-hits-bar-5":"#8a62f0"},wr=()=>{const[t,n]=A(at()),o=a=>{n(a.matches)};return x(()=>{const a=window.matchMedia("(prefers-color-scheme: dark)");return a.addEventListener("change",o),()=>a.removeEventListener("change",o)},[]),t},bt=["primary","secondary","error","warning","info","success"],kr=({onLoaded:t})=>{const n=Ne(),{palette:o={}}=ut(),{theme:a}=ee(),r=wr(),s=Bt(),i=Je(),[l,c]=A({[re.dark]:ft,[re.light]:vt,[re.system]:at()?ft:vt}),d=()=>{const{innerWidth:p,innerHeight:v}=window,{clientWidth:_,clientHeight:b}=document.documentElement;De("scrollbar-width",`${p-_}px`),De("scrollbar-height",`${v-b}px`),De("vh",`${v*.01}px`)},u=()=>{bt.forEach((p,v)=>{const _=fe(`color-${p}`),b=yr(_);De(`${p}-text`,b),v===bt.length-1&&(s({type:"SET_DARK_THEME"}),t(!0))})},m=()=>{bt.forEach(p=>{const v=o[p];v&&De(`color-${p}`,v)}),u()},h=()=>{const p=_e("THEME")||re.system,v=l[p];Object.entries(v).forEach(([_,b])=>{De(_,b)}),u(),n&&m()},g=()=>{const p=at()?ft:vt;if(l[re.system]===p){h();return}c(v=>({...v,[re.system]:p}))};return x(()=>{d(),h()},[l]),x(d,[i]),x(g,[a,r]),x(()=>{n&&s({type:"SET_THEME",payload:re.light})},[]),null},Cr=({to:t,isNavLink:n,children:o,...a})=>n?e(Vn,{to:t,...a,children:o}):e("div",{...a,children:o}),Sr=({activeItem:t,item:n,color:o=fe("color-primary"),activeNavRef:a,onChange:r,isNavLink:s})=>{const i=l=>()=>{r&&r(l)};return e(Cr,{className:I({"vm-tabs-item":!0,"vm-tabs-item_active":t===n.value,[n.className||""]:n.className}),isNavLink:s,to:n.value,style:{color:o},onClick:i(n.value),ref:t===n.value?a:void 0,children:[n.icon&&e("div",{className:I({"vm-tabs-item__icon":!0,"vm-tabs-item__icon_single":!n.label}),children:n.icon}),n.label]})},go=({activeItem:t,items:n,color:o=fe("color-primary"),onChange:a,indicatorPlacement:r="bottom",isNavLink:s})=>{const i=Je(),l=D(null),[c,d]=A({left:0,width:0,bottom:0});return x(()=>{if(l.current?.base instanceof HTMLElement){const{offsetLeft:u,offsetWidth:m,offsetHeight:h}=l.current.base;d({left:u,width:m,bottom:r==="top"?h-2:0})}},[i,t,l,n]),e("div",{className:"vm-tabs",children:[n.map(u=>e(Sr,{activeItem:t,item:u,onChange:a,color:o,activeNavRef:l,isNavLink:s},u.value)),e("div",{className:"vm-tabs__indicator",style:{...c,borderColor:o}})]})},ie=(t,n)=>{const[o]=X(),a=o.get(n)?o.get(n):t,[r,s]=A(a);return x(()=>{a!==r&&s(a)},[a]),[r,s]},He=()=>{const t=lt(),[n,o]=X();return{setSearchParamsFromKeys:V(r=>{const s=!!n.size;let i=!1;n.keys().forEach(l=>{l in r||(n.delete(l),i=!0)}),Object.entries(r).forEach(([l,c])=>{n.get(l)!==`${c}`&&(n.set(l,`${c}`),i=!0)}),i&&(s?o(n):t(`?${n.toString()}`,{replace:!0}))},[n,t])}},fo=()=>e("div",{className:"vm-line-loader",children:[e("div",{className:"vm-line-loader__background"}),e("div",{className:"vm-line-loader__line"})]}),Xe=({defaultExpanded:t=!1,onChange:n,title:o,children:a})=>{const[r,s]=A(t),i=l=>{const c=window.getSelection();if(c&&c.toString()){l.preventDefault();return}n&&n(l.currentTarget.open),s(l.currentTarget.open)};return x(()=>{s(t)},[t]),e(Y,{children:e("details",{className:"vm-accordion-section",open:r,children:[e("summary",{className:"vm-accordion-header",onClick:i,children:[o,e("div",{className:"vm-accordion-header__arrow",children:e(le,{})})]}),a]},"content")})},vo=(t,n)=>t.length===n.length&&t.every((o,a)=>o===n[a]);function Ar(t,n){const o=t.reduce((a,r)=>{const s=n.map(i=>`${String(i)}: ${r[i]||"-"}`).join("|");return(a[s]=a[s]||[]).push(r),a},{});return Object.entries(o).map(([a,r])=>({keys:a.split("|"),values:r}))}const Nr=t=>t.length<2?!1:t.every((n,o)=>o===0||n<t[o-1]),B=({children:t,title:n,open:o,placement:a="bottom-center",offset:r={top:6,left:0}})=>{const{isMobile:s}=G(),[i,l]=A(!1),[c,d]=A({width:0,height:0}),u=D(null),m=D(null),h=()=>l(!1);x(()=>{if(!(!m.current||!i))return d({width:m.current.clientWidth,height:m.current.clientHeight}),window.addEventListener("scroll",h),()=>{window.removeEventListener("scroll",h)}},[i,n]);const g=E(()=>{const _=u?.current?.base;if(!_||!i)return{};const b=_.getBoundingClientRect(),f={top:0,left:0},k=a==="bottom-right"||a==="top-right",S=a==="bottom-left"||a==="top-left",N=a?.includes("top"),y=r?.top||0,C=r?.left||0;f.left=b.left-(c.width-b.width)/2+C,f.top=b.height+b.top+y,k&&(f.left=b.right-c.width),S&&(f.left=b.left+C),N&&(f.top=b.top-c.height-y);const{innerWidth:w,innerHeight:L}=window,M=20,P=f.top+c.height+M>L,T=f.top-M<0,R=f.left+c.width+M>w,F=f.left-M<0;return P&&(f.top=b.top-c.height-y),T&&(f.top=b.height+b.top+y),R&&(f.left=b.right-c.width-C),F&&(f.left=b.left+C),f.top<0&&(f.top=20),f.left<0&&(f.left=20),f},[u,a,i,c]),p=()=>{typeof o!="boolean"&&l(!0)},v=()=>{l(!1)};return x(()=>{typeof o=="boolean"&&l(o)},[o]),x(()=>{const _=u?.current?.base;if(_)return _.addEventListener("mouseenter",p),_.addEventListener("mouseleave",v),()=>{_.removeEventListener("mouseenter",p),_.removeEventListener("mouseleave",v)}},[u]),e(Y,{children:[e(Y,{ref:u,children:t}),!s&&i&&Ie(e("div",{className:"vm-tooltip",ref:m,style:g,children:n}),document.body)]})},Q=t=>{const[n,o]=A(!1),a=V(()=>o(!0),[]),r=V(()=>o(!1),[]),s=V(()=>o(i=>!i),[]);return{value:n,setValue:o,setTrue:a,setFalse:r,toggle:s}},xr=()=>{const t={0:"#000000",1:"#AA0000",2:"#00AA00",3:"#AA5500",4:"#0000AA",5:"#AA00AA",6:"#00AAAA",7:"#AAAAAA",8:"#555555",9:"#FF5555",10:"#55FF55",11:"#FFFF55",12:"#5555FF",13:"#FF55FF",14:"#55FFFF",15:"#FFFFFF"};for(let n=0;n<6;n++)for(let o=0;o<6;o++)for(let a=0;a<6;a++){const r=16+n*36+o*6+a,s=n>0?n*40+55:0,i=o>0?o*40+55:0,l=a>0?a*40+55:0;t[r]=`rgb(${s},${i},${l})`}for(let n=0;n<24;n++){const o=232+n,a=8+n*10;t[o]=`rgb(${a},${a},${a})`}return t},Lr=xr(),Be=t=>Lr[t]||null,Tr="(?:\\u0007|\\u001B\\u005C|\\u009C)",Er=[`[\\u001B\\u009B][[\\]()#;?]*(?:(?:(?:(?:;[-a-zA-Z\\d\\/#&.:=?%@~_]+)*|[a-zA-Z\\d]+(?:;[-a-zA-Z\\d\\/#&.:=?%@~_]*)*)?${Tr})`,"(?:(?:\\d{1,4}(?:;\\d{0,4})*)?[\\dA-PR-TZcf-nq-uy=><~]))"].join("|"),mn=new RegExp(Er,"g"),Mr=(t,n,o)=>{switch(n){case 0:return{color:null,fontWeight:null,fontStyle:null,textDecoration:null,backgroundColor:null};case 30:case 31:case 32:case 33:case 34:case 35:case 36:case 37:return{...t,color:Be(n-30)};case 90:case 91:case 92:case 93:case 94:case 95:case 96:case 97:return{...t,color:Be(8+(n-90))};case 38:return o.length>2&&o[1]===5?{...t,color:Be(o[2])}:t;case 40:case 41:case 42:case 43:case 44:case 45:case 46:case 47:return{...t,backgroundColor:Be(n-40)};case 100:case 101:case 102:case 103:case 104:case 105:case 106:case 107:return{...t,backgroundColor:Be(8+(n-100))};case 1:return{...t,fontWeight:"bold"};case 3:return{...t,fontStyle:"italic"};case 4:return{...t,textDecoration:"underline"};case 7:case 27:return{...t,color:t.backgroundColor,backgroundColor:t.color};case 22:return{...t,fontWeight:null};case 23:return{...t,fontStyle:null};case 24:return{...t,textDecoration:null};default:return t}},Ir=t=>{let n=0;const o=[];let a={color:null,fontWeight:null,fontStyle:null,textDecoration:null,backgroundColor:null},r;for(;(r=mn.exec(t))!==null;){const s=t.slice(n,r.index);s&&o.push(e("span",{style:{color:a.color||"inherit",fontWeight:a.fontWeight||"inherit",fontStyle:a.fontStyle||"inherit",textDecoration:a.textDecoration||"inherit",backgroundColor:a.backgroundColor||"inherit"},children:s},n));const i=r[0].match(/\d+/g)?.map(Number)||[];i.forEach(l=>{a=Mr(a,l,i)}),n=mn.lastIndex}return n<t.length&&o.push(e("span",{style:{color:a.color||"inherit",fontWeight:a.fontWeight||"inherit",fontStyle:a.fontStyle||"inherit",textDecoration:a.textDecoration||"inherit",backgroundColor:a.backgroundColor||"inherit"},children:t.slice(n)},n)),o},H=({variant:t="contained",color:n="primary",size:o="medium",ariaLabel:a,children:r,endIcon:s,startIcon:i,fullWidth:l=!1,className:c,disabled:d,onClick:u,onMouseDown:m,"data-id":h})=>{const g=I({"vm-button":!0,[`vm-button_${t}_${n}`]:!0,[`vm-button_${o}`]:o,"vm-button_icon_only":(i||s)&&!r,"vm-button_full-width":l,"vm-button_with-icons":i||s,[c||""]:c});return e("button",{className:g,disabled:d,"aria-label":a,onClick:u,onMouseDown:m,"data-id":h,children:[i,r,s]})},ve=()=>{const{showInfoMessage:t}=pr();return async(n,o)=>{if(!navigator?.clipboard)return t({text:e(Pr,{}),type:"error",timeout:2e4}),!1;try{return await navigator.clipboard.writeText(n),o&&t({text:o,type:"success"}),!0}catch(a){return a instanceof Error&&t({text:`${a.name}: ${a.message}`,type:"error"}),console.warn("Copy failed",a),!1}}},Pr=()=>e("div",{className:"vm-snackbar-details",children:[e("p",{className:"vm-snackbar-details__title",children:"Clipboard not supported"}),window.isSecureContext?e("p",{className:"vm-snackbar-details__msg",children:[e("p",{children:"Common reasons:"}),e("ul",{children:[e("li",{children:"Browser restrictions"}),e("li",{children:"Insecure connection (HTTP)"}),e("li",{children:"Permissions not granted"})]}),e("p",{children:["For detailed information, visit the ",e("a",{className:"vm-link vm-link_underlined vm-link_colored",href:"https://developer.mozilla.org/en-US/docs/Web/API/Clipboard_API#security_considerations",target:"_blank",rel:"noopener noreferrer",children:"Clipboard API documentation"})]})]}):e("p",{className:"vm-snackbar-details__msg",children:[e("p",{children:"This page is not running in a secure context (HTTPS)."}),e("p",{children:"Clipboard operations require a secure context."}),e("a",{className:"vm-link vm-link_underlined vm-link_colored",href:"https://developer.mozilla.org/en-US/docs/Web/Security/Secure_Contexts",target:"_blank",rel:"noopener noreferrer",children:"Learn more about secure contexts"})]})]}),Or=({field:t,value:n,hideGroupButton:o})=>{const a=ve(),[r,s]=X(),[i,l]=A(!1),c=r.get(ne.GROUP_BY)||oe,d=r.get(ne.DISPLAY_FIELDS)||"",u=d?d.split(","):[],m=u.includes(t),h=c===t,g=V(async()=>{if(!i)try{await a(`${t}: "${n}"`),l(!0)}catch(_){console.error(_)}},[i,a]),p=()=>{const _=u,b=_.includes(t)?_.filter(f=>f!==t):[..._,t];r.set(ne.DISPLAY_FIELDS,b.join(",")),s(r)},v=()=>{h?r.delete(ne.GROUP_BY):r.set(ne.GROUP_BY,t),s(r)};return x(()=>{if(i===null)return;const _=setTimeout(()=>l(!1),2e3);return()=>clearTimeout(_)},[i]),e("tr",{className:"vm-group-logs-row-fields-item",children:[e("td",{className:"vm-group-logs-row-fields-item-controls",children:e("div",{className:"vm-group-logs-row-fields-item-controls__wrapper",children:[e(B,{title:i?"Copied":"Copy to clipboard",children:e(H,{className:"vm-group-logs-row-fields-item-controls__button",variant:"text",color:"gray",size:"small",startIcon:e(ke,{}),onClick:g,ariaLabel:"copy to clipboard"})}),e(B,{title:m?"Hide this field":"Show this field instead of the message",children:e(H,{className:"vm-group-logs-row-fields-item-controls__button",variant:"text",color:m?"secondary":"gray",size:"small",startIcon:m?e(st,{}):e(st,{}),onClick:p,ariaLabel:m?"Hide this field":"Show this field instead of the message"})}),!o&&e(B,{title:h?"Ungroup this field":"Group by this field",children:e(H,{className:"vm-group-logs-row-fields-item-controls__button",variant:"text",color:h?"secondary":"gray",size:"small",startIcon:e(It,{}),onClick:v,ariaLabel:h?"Ungroup this field":"Group by this field"})})]})}),e("td",{className:"vm-group-logs-row-fields-item__key",children:t}),e("td",{className:"vm-group-logs-row-fields-item__value",children:n})]})},Rr=Fe(Or),mt=t=>{const[n,o]=A(!!_e(t)),a=V(()=>{const s=!!_e(t);s!==n&&o(s)},[t,n]),r=V(s=>{me(t,s)},[t]);return J("storage",a),E(()=>[n,r],[n,r])},Dr=({log:t,hideGroupButton:n})=>{const o=E(()=>Object.entries(t).sort(([r],[s])=>r.localeCompare(s)),[t]),[a]=mt("LOGS_DISABLED_HOVERS");return e("div",{className:I({"vm-group-logs-row-fields":!0,"vm-group-logs-row-fields_interactive":!a}),children:e("table",{children:e("tbody",{children:o.map(([r,s])=>e(Rr,{field:r,value:s,hideGroupButton:n},r))})})})},zr=({log:t,displayFields:n=[],onItemClick:o,hideGroupButton:a})=>{const{value:r,toggle:s}=Q(),[i,l]=A(!1),c=ve(),[d]=X(),{markdownParsing:u,ansiParsing:m}=Wt(),{timezone:h}=Ke(),g=d.get(ne.NO_WRAP_LINES)==="true",p=d.get(ne.DATE_FORMAT)||ze,v=E(()=>t._time?O(t._time).tz().format(p):"",[t._time,h,p]),_=E(()=>!u||!t._msg||!n.includes("_msg")?"":$n(t._msg.replace(/```/g,"\n```\n")),[t._msg,u,n]),b=Object.keys(t).length>0,f=E(()=>{const y=[];return b||y.push("-"),n.some(C=>t[C])?n.filter(C=>t[C]).forEach(C=>{let w=t[C];const L=C==="_msg";L&&m&&(w=Ir(t[C])),L&&u&&(w=""),w&&y.push(w)}):Object.entries(t).forEach(([C,w])=>{y.push(`${C}: ${w}`)}),y},[t,b,n,m,u]),[k]=mt("LOGS_DISABLED_HOVERS"),S=()=>{s(),o?.(t)},N=V(async y=>{if(y.stopPropagation(),!i)try{await c(JSON.stringify(t,null,2)),l(!0)}catch(C){console.error(C)}},[i,c]);return x(()=>{if(i===null)return;const y=setTimeout(()=>l(!1),2e3);return()=>clearTimeout(y)},[i]),e("div",{className:"vm-group-logs-row",children:[e("div",{className:I({"vm-group-logs-row-content":!0,"vm-group-logs-row-content_interactive":!k}),onClick:S,children:[e(B,{title:i?"Copied":"Copy to clipboard",children:e(H,{className:"vm-group-logs-row-content__copy-row",variant:"text",color:"gray",size:"small",startIcon:e(ke,{}),onClick:N,ariaLabel:"copy to clipboard"})}),b&&e("div",{className:I({"vm-group-logs-row-content__arrow":!0,"vm-group-logs-row-content__arrow_open":r}),children:e(le,{})}),e("div",{className:I({"vm-group-logs-row-content__time":!0,"vm-group-logs-row-content__time_missing":!v}),children:v||"timestamp missing"}),e("div",{className:I({"vm-group-logs-row-content__msg":!0,"vm-group-logs-row-content__msg_empty-msg":!t._msg,"vm-group-logs-row-content__msg_missing":!f,"vm-group-logs-row-content__msg_single-line":g}),children:[_&&e("span",{dangerouslySetInnerHTML:{__html:_}}),f.map((y,C)=>e("span",{className:"vm-group-logs-row-content__sub-msg",children:y},`${y}_${C}`))]})]}),b&&r&&e(Dr,{hideGroupButton:a,log:t})]})},bo=Fe(zr),Fr=(t,n,o="")=>{const a=n[0],r=n[n.length-1];return o?n.map(s=>`${hn(s,a,r)} ${o}`):n.map(s=>hn(s,a,r))},hn=(t,n,o)=>{if(t==null)return"";o=o||0,n=n||0;const a=Math.abs(o-n);if(isNaN(a)||a==0)return Math.abs(t)>=1e3?t.toLocaleString("en-US"):t.toString();let r=3+Math.floor(1+Math.log10(Math.max(Math.abs(n),Math.abs(o)))-Math.log10(a));return(isNaN(r)||r>20)&&(r=20),t.toLocaleString("en-US",{minimumSignificantDigits:1,maximumSignificantDigits:r})},Hr=(t,n)=>{const o=document.createElement("span");o.innerText=t,o.style.cssText=`position: absolute; z-index: -1; pointer-events: none; opacity: 0; font: ${n}`,document.body.appendChild(o);const a=o.offsetWidth;return o.remove(),a},Vr=[[3600*24*365,"{YYYY}",null,null,null,null,null,null,1],[3600*24*28,"{MMM}",`
{YYYY}`,null,null,null,null,null,1],[3600*24,"{MM}-{DD}",`
{YYYY}`,null,null,null,null,null,1],[3600,"{HH}:{mm}",`
{YYYY}-{MM}-{DD}`,null,`
{MM}-{DD}`,null,null,null,1],[60,"{HH}:{mm}",`
{YYYY}-{MM}-{DD}`,null,`
{MM}-{DD}`,null,null,null,1],[1,"{HH}:{mm}:{ss}",`
{YYYY}-{MM}-{DD}`,null,`
{MM}-{DD} {HH}:{mm}`,null,null,null,1],[.001,":{ss}.{fff}",`
{YYYY}-{MM}-{DD} {HH}:{mm}`,null,`
{MM}-{DD} {HH}:{mm}`,null,`
{HH}:{mm}`,null,1]],$r=(t,n)=>Array.from(new Set(t.map(o=>o.scale))).map(o=>{const a="10px Arial",r=fe("color-text"),s={scale:o,show:!0,size:Ur,stroke:r,font:a,values:(i,l)=>Fr(i,l,n)};return o?!(Number(o)%2)&&o!=="y"?{...s,side:1}:s:{space:80,values:Vr,stroke:r,font:a}}),Br=(t,n)=>{if(n==null)return[-1,1];const a=.02*(Math.abs(n-t)||Math.abs(t)||1);return[t-a,n+a]},Ur=(t,n,o,a)=>{const r=t.axes[o];if(a>1)return r._size||60;let s=6+(r?.ticks?.size||0)+(r.gap||0);const i=(n??[]).reduce((l,c)=>c?.length>l.length?c:l,"");return i!=""&&(s+=Hr(i,"10px Arial")),Math.ceil(s)},Yr=t=>{Object.keys(t.hooks).forEach(n=>{t.hooks[n]=[]})},yo=t=>{for(let n=t.series.length-1;n>=0;n--)n&&t.delSeries(n)},jr=(t,n,o=!1)=>{n.forEach((a,r)=>{a.label&&(a.spanGaps=o),r&&t.addSeries(a)})},qr=t=>{yo(t),Yr(t),t.setData([])},Gr=t=>n=>{const o=n.posToVal(n.select.left,"x"),a=n.posToVal(n.select.left+n.select.width,"x");t({min:o,max:a})},Wr=(t,n)=>{if(t.delBand(),n.length<2)return;const o=n.map((i,l)=>({...i,index:l})),a=o.filter(i=>i.forecast===de.yhatUpper),r=o.filter(i=>i.forecast===de.yhatLower),s=a.map(i=>{const l=r.find(c=>c.forecastGroup===i.forecastGroup);return l?{series:[i.index,l.index],fill:Kr(de.yhatUpper)}:null}).filter(i=>i!==null);s.length&&s.forEach(i=>{t.addBand(i)})};function Kr(t){return`rgba(${_o(br[t])}, 0.05)`}var we=(t=>(t.BAR="Bars",t.LINE="Lines",t.LINE_STEPPED="Stepped lines",t.POINTS="Points",t))(we||{});const Qr=(t,n,o,a)=>{const r=t.under.clientWidth/Yn-1,s=Ht?.paths?.bars?.({size:[.96,r]});return s?s(t,n,o,a):null},Zr=(t,n,o,a)=>{const r=Ht?.paths?.stepped?.({align:1});return r?r(t,n,o,a):null},Jr=t=>{switch(t){case we.BAR:return Qr;case we.LINE_STEPPED:return Zr;default:return}},Xr=t=>{let n=t.length,o=-1/0;for(;n--;){const a=t[n];Number.isFinite(a)&&a>o&&(o=a)}return Number.isFinite(o)?o:null},es=t=>t>=1e9?(t/1e9).toFixed(1).replace(/\.0$/,"")+"B":t>=1e6?(t/1e6).toFixed(1).replace(/\.0$/,"")+"M":t>=1e3?(t/1e3).toFixed(1).replace(/\.0$/,"")+"K":t.toString(),ts=["color-log-hits-bar-1","color-log-hits-bar-2","color-log-hits-bar-3","color-log-hits-bar-4","color-log-hits-bar-5"],ns={[we.BAR]:1,[we.LINE_STEPPED]:2,[we.LINE]:1.2,[we.POINTS]:0},Ot="other",wo=t=>t?._isOther?Ot:Object.values(t?.fields||{}).map(o=>o||'""').join(", "),os=(t,n=0,o=1)=>{const a=t.series.filter(({scale:s})=>s==="y").map(({max:s})=>s||o),r=Xr(a);return Br(0,r||o)},as=({data:t,logHits:n,xRange:o,bands:a,containerSize:r,onReadyChart:s,setPlotScale:i,graphOptions:l})=>{const{isDarkTheme:c}=ee(),[d,u]=A(-1),m=p=>{const v=p.cursor.idx??-1;u(v)},h=E(()=>{let p=0;return t.map((v,_)=>{if(_===0)return{};const b=n?.[_-1],f=wo(b),k=b?._isOther,S=k?"color-log-hits-bar-0":ts[p++],N=fe(S);return{label:f,width:ns[l.graphStyle],spanGaps:!0,show:!0,stroke:N,fill:l.fill&&!k?`${N}80`:l.fill?N:"",paths:Jr(l.graphStyle)}})},[c,t,l]);return{options:{series:h,bands:a,width:r.width||window.innerWidth/2,height:r.height||200,cursor:{points:{width:(p,v,_)=>_/4,size:(p,v)=>(p.series?.[v]?.points?.size||1)*1.5,stroke:(p,v)=>`${h?.[v]?.stroke||"#ffffff"}`,fill:()=>"#ffffff"}},scales:{x:{time:!0,range:()=>[o.min,o.max]},y:{range:os}},hooks:{drawSeries:[],ready:[s],setCursor:[m],setSelect:[Gr(i)],destroy:[qr]},legend:{show:!1},axes:$r([{},{scale:"y"}]),tzDate:p=>O(Ue(he(p))).local().toDate()},series:h,focusDataIdx:d}},ko=t=>(/^{.+}$/.test(t)?t.slice(1,-1).split(","):[t]).filter(Boolean),Co=t=>{const n=O(t.start*1e3),o=O(t.end*1e3),a=o.diff(n,"milliseconds"),r=Math.ceil(a/Yn)||1;return{start:n,end:o,step:r}},So=(t,n=oe)=>/(.+)?=(".+")/.test(t)?t.replace(/=/,": "):`${n}: "${t}"`,rs=t=>t.reduce((n,o)=>n+(o.total||0),0),Ao=t=>(n,o)=>{if(n.label===Ot)return 1;if(o.label===Ot)return-1;const a=n[t];return o[t]-a},Oe=({title:t,children:n,onClose:o,className:a,isOpen:r=!0})=>{const{isMobile:s}=G(),i=lt(),l=Ae(),c=V(h=>{r&&h.key==="Escape"&&o()},[r]),d=h=>{h.stopPropagation()},u=V(()=>{r&&(i(l,{replace:!0}),o())},[r,l,o]);return x(()=>{if(r)return document.body.style.overflow="hidden",()=>{document.body.style.overflow="auto"}},[r]),J("popstate",u),J("keyup",c),Ie(e("div",{className:I({"vm-modal":!0,"vm-modal_mobile":s,[`${a}`]:a}),onMouseDown:o,children:e("div",{className:"vm-modal-content",onMouseDown:d,children:[e("div",{className:"vm-modal-content-header",children:[t&&e("div",{className:"vm-modal-content-header__title",children:t}),e("div",{className:"vm-modal-header__close",children:e(H,{variant:"text",size:"small",onClick:o,ariaLabel:"close",children:e(Ze,{})})})]}),e("div",{className:"vm-modal-content-body",tabIndex:0,children:n})]})}),document.body)},et=(t,n,o)=>{const a=V(r=>{const s=t?.current,i=r.target,l=o?.current&&o.current.contains(i);!s||s.contains(r?.target||null)||l||n(r)},[t,n]);J("mouseup",a),J("touchstart",a)},ce=({children:t,buttonRef:n,placement:o="bottom-left",placementPosition:a,open:r=!1,onClose:s,offset:i={top:6,left:0},clickOutside:l=!0,fullWidth:c,title:d,disabledFullScreen:u,variant:m})=>{const{isMobile:h}=G(),g=lt(),p=Ae(),[v,_]=A({width:0,height:0}),[b,f]=A(!1),k=D(null);x(()=>(f(r),!r&&s&&s(),r&&h&&!u&&(document.body.style.overflow="hidden"),()=>{document.body.style.overflow="auto"}),[r]),x(()=>{_({width:k?.current?.clientWidth||0,height:k?.current?.clientHeight||0}),f(!1)},[k]);const S=E(()=>{const L=n.current;if(!L||!b)return{};const M=L.getBoundingClientRect(),P={top:0,left:0,width:"auto"},T=o==="bottom-right"||o==="top-right",R=o?.includes("top"),F=i?.top||0,z=i?.left||0;if(P.left=P.left=M.left+z,P.top=M.height+M.top+F,T&&(P.left=M.right-v.width),R&&(P.top=M.top-v.height-F),o==="fixed"&&a)return P.top=Math.max(a.top+i.top,0),P.left=Math.max(a.left+i.left,0),P;const{innerWidth:K,innerHeight:U}=window,Z=P.top+v.height>U,W=P.top<0,$=P.left+v.width>K,j=P.left<0;return Z&&(P.top=M.top-v.height-F),W&&(P.top=M.height+M.top+F),$&&(P.left=M.right-v.width-z),j&&(P.left=M.left+z),c&&(P.width=`${M.width}px`),P.top<0&&(P.top=0),P.left<0&&(P.left=0),P},[n,o,b,t,c]),N=L=>{L.stopPropagation(),s()},y=()=>{f(!1),s()},C=()=>{l&&y()};x(()=>{if(!k.current||!b||h&&!u)return;const{right:L,width:M}=k.current.getBoundingClientRect();if(L>window.innerWidth){const P=window.innerWidth-M;k.current.style.left=`${P}px`}},[b,k,a]);const w=V(()=>{b&&h&&!u&&(g(p,{replace:!0}),s())},[b,h,u,p,s]);return J("scroll",y),J("popstate",w),et(k,C,n),e(Y,{children:(b||!v.width)&&Ie(e("div",{className:I({"vm-popper":!0,[`vm-popper_${m}`]:m,"vm-popper_mobile":h&&!u,"vm-popper_open":(h||Object.keys(S).length)&&b}),ref:k,style:h&&!u?{}:S,children:[(d||h&&!u)&&e("div",{className:"vm-popper-header",children:[e("p",{className:"vm-popper-header__title",children:d}),e(H,{variant:"text",color:m==="dark"?"white":"primary",size:"small",onClick:N,ariaLabel:"close",children:e(Ze,{})})]}),t]}),document.body)})},No=({value:t,options:n,anchor:o,disabled:a,minLength:r=2,fullWidth:s,selected:i,noOptionsText:l,label:c,disabledFullScreen:d,offset:u,maxDisplayResults:m,loading:h,onSelect:g,onOpenAutocomplete:p,onFoundOptions:v,onChangeWrapperRef:_})=>{const{isMobile:b}=G(),f=D(null),[k,S]=A({index:-1}),[N,y]=A(""),[C,w]=A(0),{value:L,setValue:M,setFalse:P}=Q(),T=E(()=>{if(!L)return[];try{const $=new RegExp(String(t.trim()),"i"),te=n.filter(be=>$.test(be.value)).sort((be,Re)=>be.value.toLowerCase()===t.trim().toLowerCase()?-1:Re.value.toLowerCase()===t.trim().toLowerCase()?1:(be.value.match($)?.index||0)-(Re.value.match($)?.index||0));return w(te.length),y(te.length>Number(m?.limit)&&m?.message||""),m?.limit?te.slice(0,m.limit):te}catch{return[]}},[L,n,t]),R=E(()=>T.length===1&&T[0]?.value===t,[T]),F=E(()=>l&&!T.length,[l,T]),z=$=>()=>{a||(g($.value,$),i||P())},K=$=>()=>{S({index:$,type:0})},U=()=>{S({index:-1})},Z=()=>{if(!f.current||k.type===0)return;const $=f.current.childNodes[k.index];$?.scrollIntoView&&$.scrollIntoView({block:"center"})},W=V($=>{const{key:j,ctrlKey:te,metaKey:be,shiftKey:Re}=$,en=te||be||Re,tn=T.length&&!R;if(j==="ArrowUp"&&!en&&tn&&($.preventDefault(),S(({index:ye})=>({index:ye<=0?0:ye-1,type:1}))),j==="ArrowDown"&&!en&&tn){$.preventDefault();const ye=T.length-1;S(({index:nn})=>({index:nn>=ye?ye:nn+1,type:1}))}if(j==="Enter"){const ye=T[k.index];ye&&g(ye.value,ye),i||P()}j==="Escape"&&P()},[k,T,R,P,g,i]);return x(()=>{M(t.length>=r)},[t,n]),J("keydown",W),x(Z,[k,T]),x(()=>{S({index:-1})},[T]),x(()=>{p&&p(L)},[L]),x(()=>{v&&v(R?[]:T)},[T,R]),x(()=>{_&&_(f)},[f]),e(ce,{open:L,buttonRef:o,placement:"bottom-left",onClose:P,fullWidth:s,title:b?c:void 0,disabledFullScreen:d,offset:u,children:[e("div",{className:I({"vm-autocomplete":!0,"vm-autocomplete_mobile":b&&!d}),ref:f,children:[h&&e("div",{className:"vm-autocomplete__loader",children:[e(oo,{}),e("span",{children:"Loading..."})]}),F&&e("div",{className:"vm-autocomplete__no-options",children:l}),!R&&T.map(($,j)=>e("div",{className:I({"vm-list-item":!0,"vm-list-item_mobile":b,"vm-list-item_active":j===k.index,"vm-list-item_multiselect":i,"vm-list-item_multiselect_selected":i?.includes($.value),"vm-list-item_with-icon":$.icon}),id:`$autocomplete$${$.value}`,onClick:z($),onMouseEnter:K(j),onMouseLeave:U,children:[i?.includes($.value)&&e(Kt,{}),e(Y,{children:$.icon}),e("div",{className:"vm-list-item-inner",children:[e("span",{children:$.value}),e("div",{className:`circle small ${$.value.toLowerCase().replace(" ","-")}`})]})]},`${j}${$.value}`))]}),N&&e("div",{className:"vm-autocomplete-message",children:["Shown ",m?.limit," results out of ",C,". ",N]}),T[k.index]?.description&&e("div",{className:"vm-autocomplete-info",children:[e("div",{className:"vm-autocomplete-info__type",children:T[k.index].type}),e("div",{className:"vm-autocomplete-info__description",dangerouslySetInnerHTML:{__html:T[k.index].description||""}})]})]})},ss=({values:t,onRemoveItem:n})=>{const{isMobile:o}=G(),a=r=>s=>{n(r),s.stopPropagation()};return o?e("span",{className:"vm-select-input-content__counter",children:["selected ",t.length]}):e(Y,{children:t.map(r=>e("div",{className:"vm-select-input-content__selected",children:[e("span",{className:`badge ${r.toLowerCase().replace(" ","-")}`,children:r}),e("div",{onClick:a(r),children:e(Ze,{})})]},r))})},Me=({value:t,list:n,label:o,placeholder:a,noOptionsText:r,clearable:s=!1,searchable:i=!1,autofocus:l,includeAll:c,disabled:d,onChange:u})=>{const{isDarkTheme:m}=ee(),{isMobile:h}=G(),[g,p]=A(""),v=D(null),[_,b]=A(null),[f,k]=A(!1),S=D(null),N=Array.isArray(t),y=Array.isArray(t)?t.slice():[],C=h&&N&&!!y?.length,w=E(()=>f?g:Array.isArray(t)?"":t,[t,g,f,N]),L=E(()=>f?g||"(.+)":"",[g,f]),M=()=>{S.current&&S.current.blur()},P=()=>{k(!1),M()},T=()=>{d||k(!0)},R=()=>{n.includes(g)&&u(g)},F=W=>{W.target instanceof HTMLInputElement||d||k($=>!$)},z=W=>{p(""),u(W),N||P(),N&&S.current&&S.current.focus()},K=W=>{p(W.target.value)},U=W=>$=>{z(W),$.stopPropagation()},Z=W=>{S.current!==W.target&&k(!1)};return x(()=>{p(""),f&&S.current&&S.current.focus(),f||M()},[f,S]),x(()=>{!l||!S.current||h||S.current.focus()},[l,S]),J("keyup",Z),et(v,P,_),c&&!n.includes("All")&&n.push("All"),c&&!y?.length&&y.push("All"),e("div",{className:I({"vm-select":!0,"vm-select_dark":m,"vm-select_disabled":d}),children:[e("div",{className:"vm-select-input",onClick:F,ref:v,children:[e("div",{className:"vm-select-input-content",children:[!!y?.length&&e(ss,{values:y,onRemoveItem:z}),!C&&!y?.length&&e("input",{value:w,type:"text",placeholder:a,onInput:K,onFocus:T,onBlur:R,ref:S,readOnly:h||!i})]}),o&&e("span",{className:"vm-text-field__label",children:o}),s&&t&&e("div",{className:"vm-select-input__icon",onClick:U(""),children:e(Ze,{})}),e("div",{className:I({"vm-select-input__icon":!0,"vm-select-input__icon_open":f}),children:e(Pe,{})})]}),e(No,{label:o,value:L,options:n.map(W=>({value:W})),anchor:v,selected:y,minLength:1,fullWidth:!0,noOptionsText:r,onSelect:z,onOpenAutocomplete:k,onChangeWrapperRef:b})]})},pe=({value:t=!1,disabled:n=!1,label:o,color:a="secondary",fullWidth:r,onChange:s})=>{const i=()=>{n||s(!t)},l=I({"vm-switch":!0,"vm-switch_full-width":r,"vm-switch_disabled":n,"vm-switch_active":t,[`vm-switch_${a}_active`]:t,[`vm-switch_${a}`]:a});return e("div",{className:l,onClick:i,children:[e("div",{className:"vm-switch-track",children:e("div",{className:"vm-switch-track__thumb"})}),o&&e("span",{className:"vm-switch__label",children:o})]})},is=({error:t,warning:n,info:o})=>{const a=D(null),[r,s]=A(!1),[i,l]=A(!1),d=`${E(()=>t?"ERROR: ":n?"WARNING: ":"",[t,n])}${t||n||o}`,u=()=>{const h=a.current;if(h){const{offsetWidth:g,scrollWidth:p,offsetHeight:v,scrollHeight:_}=h,b=g+1<p||v+1<_;s(b)}else s(!1)},m=()=>{r&&(l(!0),s(!1))};return x(()=>{l(!1),u()},[a,d]),J("resize",u),!t&&!n&&!o?null:e("span",{className:I({"vm-text-field__error":!0,"vm-text-field__warning":n&&!t,"vm-text-field__helper-text":!n&&!t,"vm-text-field__error_overflowed":r,"vm-text-field__error_full":i}),"data-show":!!d,ref:a,onClick:m,children:d})},Ce=({label:t,value:n,type:o="text",error:a="",warning:r="",helperText:s="",placeholder:i,endIcon:l,startIcon:c,disabled:d=!1,autofocus:u=!1,inputmode:m="text",caretPosition:h,onChange:g,onEnter:p,onKeyDown:v,onFocus:_,onBlur:b,onChangeCaret:f})=>{const{isDarkTheme:k}=ee(),{isMobile:S}=G(),N=D(null),y=D(null),C=E(()=>o==="textarea"?y:N,[o]),w=I({"vm-text-field__input":!0,"vm-text-field__input_error":a,"vm-text-field__input_warning":!a&&r,"vm-text-field__input_icon-start":c,"vm-text-field__input_disabled":d,"vm-text-field__input_textarea":o==="textarea"}),L=U=>{if(!f)return;const{selectionStart:Z,selectionEnd:W}=U;f&&f([Z||0,W||0])},M=U=>{L(U.currentTarget)},P=U=>{v&&v(U);const{key:Z,ctrlKey:W,metaKey:$}=U,j=Z==="Enter";(o!=="textarea"?j:j&&($||W))&&p&&(U.preventDefault(),p())},T=U=>{L(U.currentTarget)},R=U=>{d||(g&&g(U.currentTarget.value),L(U.currentTarget))},F=()=>{_&&_()},z=()=>{b&&b()},K=U=>{try{C.current&&C.current.setSelectionRange(U[0],U[1])}catch(Z){return Z}};return x(()=>{!u||S||C?.current?.focus&&C.current.focus()},[C,u]),x(()=>{h&&K(h)},[h]),e("label",{className:I({"vm-text-field":!0,"vm-text-field_textarea":o==="textarea","vm-text-field_dark":k}),"data-replicated-value":n,children:[c&&e("div",{className:"vm-text-field__icon-start",children:c}),l&&e("div",{className:"vm-text-field__icon-end",children:l}),o==="textarea"?e("textarea",{className:w,disabled:d,ref:y,value:n,rows:1,inputMode:m,placeholder:i,autoCapitalize:"none",onInput:R,onKeyDown:P,onKeyUp:T,onFocus:F,onBlur:z,onMouseUp:M}):e("input",{className:w,disabled:d,ref:N,value:n,type:o,placeholder:i,inputMode:m,autoCapitalize:"none",onInput:R,onKeyDown:P,onKeyUp:T,onFocus:F,onBlur:z,onMouseUp:M}),t&&e("span",{className:"vm-text-field__label",children:t}),e(is,{error:a,warning:r,info:s})]})},ls=({text:t,href:n,children:o,colored:a=!0,underlined:r=!1,withIcon:s=!1})=>e("a",{href:n,className:I({"vm-link":!0,"vm-link_colored":a,"vm-link_underlined":r,"vm-link_with-icon":s}),target:"_blank",rel:"noreferrer",children:t||o}),cs=()=>{const{isMobile:t}=G(),{markdownParsing:n,ansiParsing:o}=Wt(),a=eo();return e(Y,{children:[e("div",{className:"vm-group-logs-configurator-item",children:[e(pe,{label:"Enable markdown parsing",value:n,onChange:i=>{a({type:"SET_MARKDOWN_PARSING",payload:i}),o&&a({type:"SET_ANSI_PARSING",payload:!1})},fullWidth:t}),e("div",{className:"vm-group-logs-configurator-item__info",children:"Toggle this switch to enable or disable the Markdown formatting for log entries. Enabling this will parse log texts to Markdown."})]}),e("div",{className:"vm-group-logs-configurator-item",children:[e(pe,{label:"Enable ANSI parsing",value:o,onChange:i=>{a({type:"SET_ANSI_PARSING",payload:i}),n&&a({type:"SET_MARKDOWN_PARSING",payload:!1})},fullWidth:t}),e("div",{className:"vm-group-logs-configurator-item__info",children:"Toggle this switch to enable or disable ANSI escape sequence parsing for log entries. Enabling this will interpret ANSI codes to render colored log output."})]})]})},{GROUP_BY:pn,NO_WRAP_LINES:_n,COMPACT_GROUP_HEADER:gn,DISPLAY_FIELDS:yt,DATE_FORMAT:wt}=ne,tt="Group view settings",ds=({logs:t})=>{const[n,o]=X(),a=n.get(pn)||oe,r=n.get(_n)==="true",s=n.get(gn)==="true",i=n.get(yt)||"",l=i?i.split(","):[Ye],[c,d]=A(n.get(wt)||ze),[u,m]=A(""),[h,g]=mt("LOGS_DISABLED_HOVERS"),p=a!==oe,v=l.length!==1||l[0]!==Ye,_=c!==ze,b=[p,v,r,s,_].some(Boolean),f=E(()=>{const F=new Set(t.map(z=>Object.keys(z)).flat());return Array.from(F).sort((z,K)=>z.localeCompare(K))},[t]),{value:k,toggle:S,setFalse:N}=Q(),y=F=>{n.set(pn,F),o(n)},C=F=>{const z=l,K=z.includes(F)?z.filter(U=>U!==F):[...z,F];n.set(yt,K.join(",")),o(n)},w=()=>{n.delete(yt),o(n)},L=()=>{n.set(_n,String(!r)),o(n)},M=()=>{n.set(gn,String(!s)),o(n)},P=F=>{O(new Date,F,!0).isValid()||m("Invalid date format"),d(F)},T=()=>{c===ze?n.delete(wt):n.set(wt,c),o(n),N()};return e(Y,{children:[e("div",{className:"vm-group-logs-configurator-button",children:[e(B,{title:b?e("div",{className:"vm-group-logs-configurator__tooltip",children:[e("p",{children:tt}),e("hr",{}),e("ul",{children:[p&&e("li",{children:["Group by ",e("code",{children:`"${a}"`})]}),v&&e("li",{children:["Display fields: ",l.length||1]}),r&&e("li",{children:"Single-line text is enabled"}),s&&e("li",{children:"Compact group header is enabled"}),_&&e("li",{children:["Date format: ",e("code",{children:c})]})]})]}):tt,children:e(H,{variant:"text",startIcon:e(Ee,{}),onClick:S,ariaLabel:tt})}),b&&e("span",{className:"vm-group-logs-configurator-button__marker"})]}),k&&e(Oe,{title:tt,onClose:T,children:e("div",{className:"vm-group-logs-configurator",children:[e("div",{className:"vm-group-logs-configurator-item",children:[e(Me,{value:a,list:[Lt,...f],label:"Group by field",placeholder:"Group by field",onChange:y,searchable:!0}),e(B,{title:"Reset grouping",children:e(H,{variant:"text",color:"primary",startIcon:e(ot,{}),onClick:()=>y(oe)})}),e("span",{className:"vm-group-logs-configurator-item__info",children:["Select a field to group logs by (default: ",e("code",{children:oe}),")."]})]}),e("div",{className:"vm-group-logs-configurator-item",children:[e(Me,{value:l,list:f,label:"Display fields",placeholder:"Display fields",onChange:C,searchable:!0}),e(B,{title:"Clear fields",children:e(H,{variant:"text",color:"primary",startIcon:e(ot,{}),onClick:w})}),e("span",{className:"vm-group-logs-configurator-item__info",children:["Select fields to display instead of the message (default: ",e("code",{children:Ye}),")."]})]}),e("div",{className:"vm-group-logs-configurator-item",children:[e(Ce,{autofocus:!0,label:"Date format",value:c,onChange:P,error:u}),e(B,{title:"Reset format",children:e(H,{variant:"text",color:"primary",startIcon:e(ot,{}),onClick:()=>d(ze)})}),e("span",{className:"vm-group-logs-configurator-item__info vm-group-logs-configurator-item__info_input",children:["Set the date format (e.g., ",e("code",{children:"YYYY-MM-DD HH:mm:ss"}),"). Learn more in ",e(ls,{href:"https://day.js.org/docs/en/display/format",children:"this documentation"}),". ",e("br",{}),"Your current date format: ",e("code",{children:O().format(c||ze)})]})]}),e(cs,{}),e("div",{className:"vm-group-logs-configurator-item",children:[e(pe,{value:r,onChange:L,label:"Single-line message"}),e("span",{className:"vm-group-logs-configurator-item__info",children:"Displays message in a single line and truncates it with an ellipsis if it exceeds the available space."})]}),e("div",{className:"vm-group-logs-configurator-item",children:[e(pe,{value:s,onChange:M,label:"Compact group header"}),e("span",{className:"vm-group-logs-configurator-item__info",children:'Shows group headers in one line with a "+N more" badge for extra fields.'})]}),e("div",{className:"vm-group-logs-configurator-item",children:[e(pe,{value:h,onChange:g,label:"Disable hover effects"}),e("span",{className:"vm-group-logs-configurator-item__info",children:"Disable row highlighting on hover to improve performance with large datasets."})]})]})})]})},fn=({pair:t,isHide:n})=>{const{isDarkTheme:o}=ee(),a=ve(),[r]=X(),[s,i]=A(null),l=r.get(ne.GROUP_BY)||oe,c=d=>async u=>{u.stopPropagation();const m=So(d,l);await a(m)&&i(d)};return x(()=>{if(s===null)return;const d=setTimeout(()=>i(null),2e3);return()=>clearTimeout(d)},[s]),e(B,{title:s===t?"Copied":"Copy to clipboard",placement:"top-center",children:e("div",{className:I({"vm-group-logs-section-keys__pair":!0,"vm-group-logs-section-keys__pair_hide":n,"vm-group-logs-section-keys__pair_dark":o}),onClick:c(t),children:t})})},us=({group:t,index:n})=>{const{isDarkTheme:o}=ee(),[a]=X(),r=D(null),s=D(null),{value:i,toggle:l,setFalse:c}=Q(),[d,u]=A(0),m=a.get(ne.GROUP_BY)||oe,h=a.get(ne.COMPACT_GROUP_HEADER)==="true",g=t.pairs,p=g.length-d-1,v=b=>{b.stopPropagation(),l()},_=V(()=>{if(!h||!r.current){u(0);return}const b=r.current,f=b.getBoundingClientRect(),S=Array.from(b.querySelectorAll(".vm-group-logs-section-keys__pair:not(.vm-group-logs-section-keys__pair_more)"));let N=0;for(const y of S){const{right:C}=y.getBoundingClientRect();C+220>f.width&&N++}u(N)},[h,r]);return x(_,[t.pairs,h,r]),J("resize",_),e("div",{className:I({"vm-group-logs-section-keys":!0,"vm-group-logs-section-keys_compact":h}),ref:r,children:[e("span",{className:"vm-group-logs-section-keys__title",children:m===Lt?Lt:e(Y,{children:[n+1,". Group by ",e("code",{children:m}),":"]})}),g.map((b,f)=>e(fn,{pair:b,isHide:d?f>p:!1},`${t.keysString}_${b}`)),d>0&&e(Y,{children:[e("div",{className:I({"vm-group-logs-section-keys__pair":!0,"vm-group-logs-section-keys__pair_more":!0,"vm-group-logs-section-keys__pair_dark":o}),ref:s,onClick:v,children:["+",d," more"]}),e(ce,{open:i,buttonRef:s,placement:"bottom-left",onClose:c,children:e("div",{className:"vm-group-logs-section-keys vm-group-logs-section-keys_popper",children:g.slice(p+1).map(b=>e(fn,{pair:b},`${t.keysString}_${b}`))})})]}),e("span",{className:"vm-group-logs-section-keys__count",children:[t.total," entries"]})]})},xo=({currentPage:t,totalItems:n,itemsPerPage:o,onPageChange:a,maxVisiblePages:r=10})=>{const s=Math.ceil(n/o),i=u=>{u<1||u>s||a(u)},l=E(()=>{const u=[];if(s<=r)for(let m=1;m<=s;m++)u.push(m);else{const m=Math.max(1,t-Math.floor(r/2)),h=Math.min(s,m+r-1);m>1&&(u.push(1),m>2&&u.push("..."));for(let g=m;g<=h;g++)u.push(g);h<s&&(h<s-1&&u.push("..."),u.push(s))}return u},[s,t,r]),c=u=>()=>{i(t+u)},d=u=>()=>{typeof u=="number"&&i(u)};return l.length<=1?null:e("div",{className:"vm-pagination",children:[e("button",{className:"vm-pagination__page vm-pagination__arrow vm-pagination__arrow_prev",onClick:c(-1),disabled:t===1,children:e(le,{})}),l.map((u,m)=>e("button",{onClick:d(u),className:I({"vm-pagination__page":!0,"vm-pagination__page_active":t===u,"vm-pagination__page_disabled":u==="..."}),disabled:u==="...",children:u},m)),e("button",{className:"vm-pagination__page vm-pagination__arrow vm-pagination__arrow_next",onClick:c(1),disabled:t===s,children:e(le,{})})]})},vn=[10,25,50,100,250,500,1e3],Jt=({limit:t,allowUnlimited:n,onChange:o,onOpenSelect:a})=>{const{isMobile:r}=G(),s=D(null),i=E(()=>n?[...vn,0]:vn,[n]),{value:l,toggle:c,setFalse:d}=Q(),u=()=>{c(),l||a?.()},m=h=>()=>{o(h),d()};return e(Y,{children:[e("div",{className:"vm-select-limits-button",onClick:u,ref:s,children:[e("div",{children:["Rows per page: ",e("b",{children:t||"All"})]}),e(Pe,{})]}),e(ce,{open:l,onClose:d,placement:"bottom-right",buttonRef:s,children:e("div",{className:"vm-select-limits",children:i.map(h=>e("div",{className:I({"vm-list-item":!0,"vm-list-item_mobile":r,"vm-list-item_active":h===t}),onClick:m(h),children:h||"All"},h))})})]})},ms=(t,n,o)=>E(()=>{if(!o)return t;const a=(n-1)*o,r=a+o;let s=0;const i=[];for(const l of t){const c=l.values.length,d=s,u=s+c;if(u<=a){s=u;continue}if(d>=r)break;const m=Math.max(0,a-d),h=Math.min(c,r-d),g={...l,values:l.values.slice(m,h)};if(i.push(g),s=u,s>=r)break}return i},[t,n,o]),hs=({title:t,downloadFormatOptions:n,onDownload:o})=>{const{value:a,setTrue:r,setFalse:s}=Q(),i=D(null),l=V(()=>{if(a){s();return}n&&n.length>0?r():(o(),s())},[o,s,a,r]),c=V(d=>{const u=d.currentTarget;o(u.textContent??void 0)},[o]);return e(Y,{children:[e("div",{ref:i,children:e(B,{title:t,children:e(H,{variant:"text",startIcon:e(nr,{}),onClick:l,ariaLabel:t})})}),n&&n.length>0&&e(ce,{open:a,onClose:s,buttonRef:i,placement:"bottom-right",children:n.map(d=>e("div",{className:"vm-download-button__format-option",children:e(H,{variant:"text",onClick:c,className:"vm-download-button__format-option-button",children:d})},d))})]})},Lo=(t,n)=>{const o=document.createElement("a"),a=URL.createObjectURL(t);o.setAttribute("href",a),o.setAttribute("download",n),document.body.appendChild(o),o.click(),document.body.removeChild(o),URL.revokeObjectURL(a)},ps=(t,n)=>{const o=l=>{const c=l.reduce((d,u)=>(Object.keys(u).forEach(m=>{m&&!d[m]&&(d[m]=!0)}),d),{});return Object.keys(c)},a=l=>l.includes(",")||l.includes(`
`)||l.includes('"')?'"'+l.replace(/"/g,'""')+'"':l,s=(l=>{const c=o(l),d=l.map(u=>c.map(m=>u[m]?a(u[m]):"").join(","));return[c.map(a).join(","),...d].join(`\r
`)})(t),i=new Blob([s],{type:"text/csv;charset=utf-8;"});Lo(i,n)},_s=(t,n)=>{const o=new Blob([t],{type:"application/json"});Lo(o,n)},ht=({getLogs:t})=>{const{fileExtensions:n,getDownloaderByExtension:o}=E(()=>{const r=[{extension:"csv",downloader:ps},{extension:"json",downloader:(l,c)=>{const d=JSON.stringify(l,null,2);_s(d,c)}}],s=l=>r.find(({extension:c})=>c===l)?.downloader;return{fileExtensions:r.map(({extension:l})=>l),getDownloaderByExtension:s}},[]),a=V(r=>{if(!r)return;const s=t(),i=o(r);if(i){const l=O().utc().format(Zo);i(s,`vmui_logs_${l}.${r}`)}},[t]);return e(hs,{title:"Download logs",onDownload:a,downloadFormatOptions:n})},gs=/(?:^|\|)\s*(?:sort|order)\b/i;function fs(t){return gs.test(t)}const vs=({logs:t,settingsRef:n})=>{const{isMobile:o}=G(),[a,r]=X(),s=a.get("query")||"",i=fs(s),[l,c]=A(1),[d,u]=A([]),m=a.get(ne.GROUP_BY)||oe,h=a.get(ne.DISPLAY_FIELDS)||Ye,g=E(()=>h.split(","),[h]),p=Number(a.get(ne.ROWS_PER_PAGE)),v=isNaN(p)?0:p,_=E(()=>d.every(Boolean),[d]),b=E(()=>Ar(t,[m]).map(w=>{const L=w.values[0]?.[m]||"",M=ko(L),P=i?w.values:w.values.toReversed();return{keys:w.keys,keysString:w.keys.join(""),values:P,pairs:M,total:P.length}}).sort((w,L)=>L.total-w.total),[t,m,i]),f=ms(b,l,v),k=V(()=>{u(new Array(b.length).fill(!_))},[_,b.length]),S=V(w=>L=>{u(M=>{const P=[...M];return P[w]=L,P})},[]),N=w=>{w?a.set(ne.ROWS_PER_PAGE,String(w)):a.delete(ne.ROWS_PER_PAGE),r(a)},y=w=>{c(w),window.scrollTo({top:0})},C=V(()=>t,[t]);return x(()=>{u(w=>{const L=w.every(M=>!M)&&w.length||o;return new Array(b.length).fill(!L)})},[b]),x(()=>{c(1)},[v]),e(Y,{children:[e("div",{className:"vm-group-logs",children:[f.map((w,L)=>e("div",{className:"vm-group-logs-section",children:e(Xe,{defaultExpanded:d[L],onChange:S(L),title:e(us,{group:w,index:L}),children:e("div",{className:"vm-group-logs-section-rows",children:w.values.map((M,P)=>e(bo,{log:M,displayFields:g},`${L}_${P}_${M._time}`))})})},w.keysString)),e(xo,{currentPage:l,totalItems:t.length,itemsPerPage:v||1/0,onPageChange:y})]}),n.current&&Ie(e("div",{className:"vm-group-logs-header",children:[e("div",{className:"vm-explore-logs-body-header__log-info",children:["Total groups: ",e("b",{children:b.length})]}),e(Jt,{allowUnlimited:!0,limit:v,onChange:N}),e(B,{title:_?"Collapse All":"Expand All",children:e(H,{variant:"text",startIcon:_?e(ar,{}):e(or,{}),onClick:k,ariaLabel:_?"Collapse All":"Expand All"})}),e(ht,{getLogs:C}),e(ds,{logs:t})]}),n.current)]})},Xt=()=>e("div",{className:"vm-explore-logs-body__empty",children:"No logs found"}),bs=Fe(vs),ys=({data:t,settingsRef:n})=>t.length?e(Y,{children:e(bs,{logs:t,settingsRef:n})}):e(Xt,{}),ws=["date","timestamp","time"];function bn(t,n,o){const a=t[o],r=n[o];if(a==null&&r==null)return 0;if(a==null)return 1;if(r==null)return-1;const s=String(a),i=String(r);if(ws.includes(String(o))){const m=ln(s),h=ln(i);return h<m?-1:h>m?1:0}const c=Number(s),d=Number(i);return!isNaN(c)&&!isNaN(d)?d-c:i<s?-1:i>s?1:0}function ks(t,n){return t==="desc"?(o,a)=>bn(o,a,n):(o,a)=>-bn(o,a,n)}function Cs(t,n){const o=t.map((a,r)=>[a,r]);return o.sort((a,r)=>{const s=n(a[0],r[0]);return s!==0?s:a[1]-r[1]}),o.map(a=>a[0])}const Ss=({rows:t,columns:n,defaultOrderBy:o,defaultOrderDir:a,copyToClipboard:r,paginationOffset:s})=>{const i=ve(),[l,c]=A(o),[d,u]=A(a||"desc"),[m,h]=A(null),g=E(()=>{const{startIndex:_,endIndex:b}=s;return Cs(t,ks(d,l)).slice(_,b)},[t,l,d,s]),p=_=>()=>{u(b=>b==="asc"&&l===_?"desc":"asc"),c(_)},v=(_,b)=>async()=>{if(m!==b)try{await i(String(_)),h(b)}catch(f){console.error(f)}};return x(()=>{if(m===null)return;const _=setTimeout(()=>h(null),2e3);return()=>clearTimeout(_)},[m]),e("table",{className:"vm-table",children:[e("thead",{className:"vm-table-header",children:e("tr",{className:"vm-table__row vm-table__row_header",children:[n.map(_=>e("th",{className:"vm-table-cell vm-table-cell_header vm-table-cell_sort",onClick:p(_.key),children:e("div",{className:"vm-table-cell__content",children:[e("div",{children:String(_.title||_.key)}),e("div",{className:I({"vm-table__sort-icon":!0,"vm-table__sort-icon_active":l===_.key,"vm-table__sort-icon_desc":d==="desc"&&l===_.key}),children:e(Pe,{})})]})},String(_.key))),r&&e("th",{className:"vm-table-cell vm-table-cell_header"})]})}),e("tbody",{className:"vm-table-body",children:g.map((_,b)=>e("tr",{className:"vm-table__row",children:[n.map(f=>e("td",{className:I({"vm-table-cell":!0,[`${f.className}`]:f.className}),children:_[f.key]||"-"},String(f.key))),r&&e("td",{className:"vm-table-cell vm-table-cell_right",children:_[r]&&e("div",{className:"vm-table-cell__content",children:e(B,{title:m===b?"Copied":"Copy row",children:e(H,{variant:"text",color:m===b?"success":"gray",size:"small",startIcon:m===b?e(Kt,{}):e(ke,{}),onClick:v(_[r],b),ariaLabel:"copy row"})})})})]},b))})]})},As=t=>{switch(t){case"_time":return"vm-table-cell_logs-time";default:return"vm-table-cell_logs"}},Ns=[{key:"_vmui_data",title:"Data",className:"vm-table-cell_logs vm-table-cell_pre"}],xs=({logs:t,displayColumns:n,tableCompact:o,columns:a,rowsPerPage:r})=>{const s=D(null),[i,l]=A(1),c=E(()=>t.map(g=>{const p=JSON.stringify(g,null,2);return{...g,_vmui_data:p}}),[t]),d=E(()=>a.map(g=>({key:g,title:g,className:As(g)})),[a]),u=E(()=>o?Ns:n?.length?d.filter(g=>n.includes(g.key)):[],[d,n,o]),m=E(()=>{const g=(i-1)*r,p=g+r;return{startIndex:g,endIndex:p}},[i,r]),h=g=>{if(l(g),s.current){const p=s.current.getBoundingClientRect().top+window.scrollY-50;window.scrollTo({top:p})}};return x(()=>{l(1)},[t,r]),e(Y,{children:[e("div",{ref:s,children:e(Ss,{rows:c,columns:u,defaultOrderBy:"_time",defaultOrderDir:"desc",copyToClipboard:"_vmui_data",paginationOffset:m})}),e(xo,{currentPage:i,totalItems:c.length,itemsPerPage:r,onPageChange:h})]})},yn=({checked:t=!1,disabled:n=!1,label:o,color:a="secondary",onChange:r})=>{const s=()=>{n||r(!t)},i=I({"vm-checkbox":!0,"vm-checkbox_disabled":n,"vm-checkbox_active":t,[`vm-checkbox_${a}_active`]:t,[`vm-checkbox_${a}`]:a});return e("div",{className:i,onClick:s,children:[e("div",{className:"vm-checkbox-track",children:e("div",{className:"vm-checkbox-track__thumb",children:e(Kt,{})})}),o&&e("span",{className:"vm-checkbox__label",children:o})]})},kt="Table settings",Ls=({columns:t,selectedColumns:n=[],tableCompact:o,onChangeColumns:a,toggleTableCompact:r})=>{const[s,i]=X(),l=D(null),{value:c,toggle:d,setFalse:u}=Q(),[m,h]=A(""),[g,p]=A(-1),v=E(()=>n.filter(w=>!t.includes(w)),[t,n]),_=E(()=>{const w=v.concat(t);return(m?w.filter(M=>M.includes(m)):w).sort((M,P)=>M.localeCompare(P))},[t,v,m]),b=E(()=>_.every(w=>n.includes(w)),[n,_]),f=w=>{a(w);const L=new URLSearchParams(s.toString());w.length===t.length?L.delete("columns"):L.set("columns",w.map(encodeURIComponent).join(",")),i(L)},k=w=>{const L=n.includes(w)?n.filter(M=>M!==w):[...n,w];f(L)},S=()=>{f(b?n.filter(w=>!_.includes(w)):_)},N=w=>()=>{k(w)},y=()=>{p(-1)},C=w=>{const L=w.key==="ArrowUp",M=w.key==="ArrowDown",P=w.key==="Enter";(M||L||P)&&w.preventDefault(),M?p(T=>T+1>_.length-1?T:T+1):L?p(T=>T-1<0?T:T-1):P&&k(_[g])};return x(()=>{vo(t,n)||s.has("columns")||a(t)},[t]),x(()=>{if(!s.has("columns"))return;const M=(s.get("columns")||"").split(",").map(decodeURIComponent).filter(Boolean);a(M)},[]),e("div",{className:"vm-table-settings",children:[e(B,{title:kt,children:e("div",{ref:l,children:e(H,{variant:"text",startIcon:e(Ee,{}),onClick:d,ariaLabel:kt})})}),c&&e(Oe,{title:kt,className:"vm-table-settings-modal",onClose:u,children:[e("div",{className:"vm-table-settings-modal-section",children:[e("div",{className:"vm-table-settings-modal-section__title",children:"Customize columns"}),e("div",{className:"vm-table-settings-modal-columns",children:[e("div",{className:"vm-table-settings-modal-columns__search",children:e(Ce,{placeholder:"Search columns",startIcon:e(Qt,{}),value:m,onChange:h,onBlur:y,onKeyDown:C,type:"search"})}),e("div",{className:"vm-table-settings-modal-columns-list",children:[!!_.length&&e("div",{className:"vm-table-settings-modal-columns-list__item vm-table-settings-modal-columns-list__item_all",children:e(yn,{checked:b,onChange:S,label:b?"Uncheck all":"Check all",disabled:o})}),!_.length&&e("div",{className:"vm-table-settings-modal-columns-no-found",children:e("p",{className:"vm-table-settings-modal-columns-no-found__info",children:"No columns found."})}),_.map((w,L)=>e("div",{className:I({"vm-table-settings-modal-columns-list__item":!0,"vm-table-settings-modal-columns-list__item_focus":L===g,"vm-table-settings-modal-columns-list__item_custom":v.includes(w)}),children:e(yn,{checked:n.includes(w),onChange:N(w),label:w,disabled:o})},w))]})]})]}),r&&o!==void 0&&e("div",{className:"vm-table-settings-modal-section",children:[e("div",{className:"vm-table-settings-modal-section__title",children:"Table view"}),e("div",{className:"vm-table-settings-modal-columns-list__item",children:e(pe,{label:"Compact view",value:o,onChange:r})})]})]})]})},Ts=Fe(xs),Es=({data:t,settingsRef:n})=>{const{setSearchParamsFromKeys:o}=He(),[a,r]=A([]),[s,i]=ie(100,"rows_per_page"),l=E(()=>{const m=new Set;for(const h of t)for(const g in h)m.add(g);return Array.from(m).sort((h,g)=>h.localeCompare(g))},[t]),c=m=>{i(m),o({rows_per_page:m})},d=V(()=>t,[t]),u=()=>n.current?Ie(e("div",{className:"vm-table-view__settings",children:[e(Jt,{limit:s,onChange:c}),e("div",{className:"vm-table-view__settings-buttons",children:[t.length>0&&e(ht,{getLogs:d}),e(Ls,{columns:l,selectedColumns:a,onChangeColumns:r})]})]}),n.current):null;return t.length?e(Y,{children:[u(),e(Ts,{logs:t,displayColumns:a,tableCompact:!1,columns:l,rowsPerPage:Number(s)})]}):e(Xt,{})},Ms=({data:t})=>{const n=ve(),o=E(()=>JSON.stringify(t,null,2),[t]);return e("div",{className:"vm-json-view",children:[e("div",{className:"vm-json-view__copy",children:e(H,{variant:"outlined",onClick:async()=>{await n(o,"Formatted JSON has been copied")},children:"Copy JSON"})}),e("pre",{className:"vm-json-view__code",children:e("code",{children:o})})]})},Ct="JSON settings",wn=["asc","desc"],Is=({fields:t,sortQueryParamName:n,fieldSortQueryParamName:o})=>{const[a,r]=X(),s=D(null),[i,l]=A(null),{value:c,toggle:d,setFalse:u}=Q(),[m,h]=A(null),[g,p]=A(null);x(()=>{const y=a.get(n),C=L=>wn.includes(L);if(y){const[L,M]=y.split(":").map(decodeURIComponent);L&&C(M)&&(h(L),p(M))}const w=a.get(o);(w==="asc"||w==="desc")&&l(w)},[a,n,o,h,p,l]);const v=V((y,C)=>{const w=new URLSearchParams(a.toString());!y||!C?w.delete(n):w.set(n,`${y}:${C||""}`),r(w)},[a,n]),_=y=>{const C=g||"asc";h(y),p(C),v(y,C)},b=()=>{h(null),p(null),v(null,null)},f=V(()=>{let y=null;i===null?y="asc":i==="asc"&&(y="desc"),l(y);const C=new URLSearchParams(a.toString());y?C.set(o,encodeURIComponent(y)):C.delete(o),r(C)},[i,a,o]),k=y=>{const C=m||t[0];h(C),p(y),v(C,y)},S=E(()=>({default:{title:"Set field sort order. Click to sort in ascending order",icon:e(lr,{})},asc:{title:"Fields sorted ascending. Click to sort in descending order",icon:e(cr,{})},desc:{title:"Fields sorted descending. Click to reset sort",icon:e(dr,{})}}),[]),N=E(()=>{const{title:y,icon:C}=S[i??"default"];return e(B,{title:y,children:e(H,{variant:"text",startIcon:C,onClick:f,ariaLabel:y})})},[i,d,f,S]);return e("div",{className:"vm-json-settings",children:[N,e(B,{title:Ct,children:e("div",{ref:s,children:e(H,{variant:"text",startIcon:e(Ee,{}),onClick:d,ariaLabel:Ct})})}),c&&e(Oe,{title:Ct,className:"vm-json-settings-modal",onClose:u,children:e("div",{className:"vm-json-settings-modal-section",children:e("div",{className:"vm-json-settings-modal-section__sort-settings-container",children:[e(Me,{value:m||"",onChange:_,list:t,label:"Select field"}),e(Me,{value:g||"",onChange:k,list:wn,label:"Sort direction"}),(m||g)&&e(H,{variant:"outlined",color:"error",onClick:b,children:"Reset sort"})]})})})]})},Ps=Fe(Ms),kn="json_sort",Cn="json_field_sort",Os=({data:t,settingsRef:n})=>{const o=V(()=>t,[t]),[a]=X(),r=a.get(kn),s=a.get(Cn),[i,l]=E(()=>{const[h,g]=r?.split(":").map(decodeURIComponent)||[];return[h,g]},[r]),c=E(()=>{const h=new Set(t.flatMap(Object.keys));return Array.from(h)},[t]),d=E(()=>{if(!s)return t;const h=c.toSorted((g,p)=>s==="asc"?g.localeCompare(p):p.localeCompare(g));return t.map(g=>h.reduce((p,v)=>(g[v]&&(p[v]=g[v]),p),{}))},[c,s,t]),u=E(()=>!i||!l?d:$o(d,[i],[l]),[d,i,l]),m=()=>n.current?Ie(t.length>0&&e("div",{className:"vm-json-view__settings-container",children:[e(ht,{getLogs:o}),e(Is,{fields:c,sortQueryParamName:kn,fieldSortQueryParamName:Cn})]}),n.current):null;return t.length?e(Y,{children:[m(),e(Ps,{data:u})]}):e(Xt,{})},pt=()=>{const[t]=X();return E(()=>({AccountID:t.get("accountID")||"0",ProjectID:t.get("projectID")||"0"}),[t])};class Rs{threshold;windowSize;minHighCount;minNormalCount;window;state;constructor(n=200,o=10,a=6,r=2){this.threshold=n,this.windowSize=o,this.minHighCount=a,this.minNormalCount=r,this.window=[],this.state="normal"}update(n){this.window.push(n),this.window.length>this.windowSize&&this.window.shift();const o=this.window.filter(a=>a>this.threshold).length;return this.state==="normal"?o>=this.minHighCount&&(this.state="high"):this.state==="high"&&o<this.minNormalCount&&(this.state="normal"),this.state}}const Sn=200,An=5e3,Nn=1e3,Ds=(t,n,o,a)=>async r=>{let s=Date.now();const i=setInterval(()=>{if(Date.now()-s>An){clearInterval(i),a();return}},An);try{for(;;){const{done:l,value:c}=await r.read();if(l)break;s=Date.now();const d=new TextDecoder().decode(c),u=(t.current+d).split(`
`);t.current=u.pop()||"",n.current=[...n.current,...u]}}catch(l){l instanceof Error&&l.name!=="AbortError"&&(console.error("Stream processing error:",l),a())}finally{clearInterval(i)}},zs=(t,n)=>t.map(o=>{try{const a=o&&JSON.parse(o);return a._log_id=n.current++,a}catch(a){return console.error(`Failed to parse "${o}" to JSON
`,a),null}}).filter(Boolean),Fs=({lines:t,limit:n,counterRef:o,setIsLimitedLogsPerUpdate:a,setLogs:r,bufferLinesRef:s,logFlowAnalyzerRef:i})=>{const l=i?.current?.update(t.length)==="high",c=l&&t.length>Sn?t.slice(-Sn):t,d=zs(c,o);a(l),r(u=>{const m=[...u,...d];return m.length>n?m.slice(-n):m}),s.current=[]},Hs=(t,n)=>{const{serverUrl:o}=ee(),[a,r]=A([]),{value:s,setTrue:i,setFalse:l}=Q(),c=pt(),[d,u]=A(),[m,h]=A(!1),g=D(0n),p=D(new AbortController),v=D(null),_=D(null),b=D(""),f=D([]),k=D(new Rs),S=V(()=>{v.current&&(v.current.cancel(),v.current=null),_.current&&clearInterval(_.current),b.current&&(b.current=""),p.current.abort()},[]),N=V(async()=>{S(),p.current=new AbortController;const{signal:C}=p.current;u(void 0);try{const w=await fetch(`${o}/select/logsql/tail`,{signal:C,method:"POST",headers:{...c},body:new URLSearchParams({query:t.trim()})});if(!w.ok||!w.body){const P=await w.text();return u(P),r([]),!1}const L=w.body.getReader();return v.current=L,Ds(b,f,u,N)(L),!0}catch(w){return w instanceof Error&&w.name!=="AbortError"&&(u(String(w)),console.error(w),r([])),!1}},[t,S]);x(()=>{if(s){const w=setInterval(()=>{f.current.length>n&&(f.current=f.current.slice(-n))},Nn);return()=>{clearInterval(w)}}const C=setInterval(()=>{const w=f.current;Fs({lines:w,limit:n,counterRef:g,setIsLimitedLogsPerUpdate:h,setLogs:r,bufferLinesRef:f,logFlowAnalyzerRef:k})},Nn);return()=>clearInterval(C)},[n,s,m]);const y=V(()=>{r([])},[]);return{logs:a,isPaused:s,error:d,startLiveTailing:N,stopLiveTailing:S,pauseLiveTailing:i,resumeLiveTailing:l,clearLogs:y,isLimitedLogsPerUpdate:m}},Vs=({settingsRef:t,rowsPerPage:n,handleSetRowsPerPage:o,logs:a,isPaused:r,handleResumeLiveTailing:s,pauseLiveTailing:i,clearLogs:l,isRawJsonView:c,onRawJsonViewChange:d})=>{const u=D(null),{value:m,setFalse:h,setTrue:g}=Q(),p=V(()=>a.map(({_log_id:v,..._})=>_),[a]);return t.current?Ie(e("div",{className:"vm-live-tailing-view__settings",children:[e(Jt,{limit:n,onChange:o,onOpenSelect:i}),e("div",{className:"vm-live-tailing-view__settings-buttons",children:[a.length>0&&e(ht,{getLogs:p}),r?e(B,{title:"Resume live tailing",children:e(H,{variant:"text",color:"primary",onClick:s,startIcon:e(ro,{}),ariaLabel:"Resume live tailing"})}):e(B,{title:"Pause live tailing",children:e(H,{variant:"text",color:"primary",onClick:i,startIcon:e(sr,{}),ariaLabel:"Pause live tailing"})}),e(B,{title:"Clear logs",children:e(H,{variant:"text",color:"secondary",onClick:l,startIcon:e(io,{}),ariaLabel:"Clear logs"})}),e(B,{title:"Settings",children:e(H,{ref:u,variant:"text",onClick:g,startIcon:e(Ee,{}),ariaLabel:"Settings"})}),m&&e(Oe,{onClose:h,title:"Live tailing settings",children:e("div",{className:"vm-live-tailing-view__settings-modal",children:e("div",{className:"vm-live-tailing-view__settings-modal-item",children:[e(pe,{label:"Raw JSON View",value:c,onChange:d}),e("span",{className:"vm-group-logs-configurator-item__info",children:"When this option is enabled, logs will be displayed in raw JSON format. This improves performance and uses less CPU and memory."})]})})})]})]}),t.current):null},$s=({className:t})=>{const[n,o]=A(!1),a=()=>{const s=window.pageYOffset||document.documentElement.scrollTop,i=window.innerHeight;o(s>i)},r=V(()=>{window.scrollTo({top:0,behavior:"smooth"})},[]);return x(()=>(window.addEventListener("scroll",a),a(),()=>{window.removeEventListener("scroll",a)}),[]),e("div",{className:I({"vm-scroll-to-top-button":!0,"vm-scroll-to-top-button_visible":n},t),children:e(B,{title:"Scroll to top",children:e(H,{variant:"contained",color:"primary",onClick:r,ariaLabel:"Scroll to top",startIcon:e(ir,{})})})})},Bs=100,Us=()=>window.scrollTo({top:document.documentElement.scrollHeight,behavior:"smooth"}),xn=Bo(Us,200),Ys=({settingsRef:t})=>{const n=D(null),[o,a]=A(!0),[r]=X(),{setSearchParamsFromKeys:s}=He(),[i,l]=ie(100,"rows_per_page"),[c,d]=ie("*","query"),[u,m]=mt("RAW_JSON_LIVE_VIEW"),{logs:h,isPaused:g,error:p,startLiveTailing:v,stopLiveTailing:_,pauseLiveTailing:b,resumeLiveTailing:f,clearLogs:k,isLimitedLogsPerUpdate:S}=Hs(c,i),N=r.get(ne.DISPLAY_FIELDS)||Ye,y=E(()=>N.split(","),[N]),C=V(()=>{xn(),f()},[f]),w=V(L=>{s({rows_per_page:L})},[l,s]);return x(()=>(v(),()=>_()),[v,_]),x(()=>{if(!n.current)return;let M=[];const P=()=>{const{scrollTop:T,scrollHeight:R,clientHeight:F}=document.documentElement,z=Math.abs(R-T-F)<Bs;a(z),M.push(T),M=M.slice(-3);const K=Nr(M);!z&&!g&&K&&b()};return document.addEventListener("scroll",P),()=>document.removeEventListener("scroll",P)},[g,b,f]),x(()=>{o&&!g&&xn()},[h,o]),x(()=>{C()},[i]),p?e("div",{className:"vm-live-tailing-view__error",children:p}):e(Y,{children:[e(Vs,{settingsRef:t,rowsPerPage:i,handleSetRowsPerPage:w,logs:h,isPaused:g,handleResumeLiveTailing:C,pauseLiveTailing:b,clearLogs:k,isRawJsonView:u,onRawJsonViewChange:m}),e($s,{}),e("div",{ref:n,className:"vm-live-tailing-view__container",children:h.length===0?e("div",{className:"vm-live-tailing-view__empty",children:"Waiting for logs..."}):e("div",{className:"vm-live-tailing-view__logs",children:h.map(({_log_id:L,...M},P)=>u?e("pre",{className:"vm-live-tailing-view__log-row",onMouseDown:b,children:JSON.stringify(M)},P):e(bo,{log:M,onItemClick:b,hideGroupButton:!0,displayFields:y},L))})}),S&&e(ge,{variant:"warning",children:"Too many logs per second detected. Large volumes of log data are difficult to process and may impact performance. We recommend adding filters to your query for better analysis and system performance."})]})},Ln=[{label:"Group",value:"group",icon:e(Ja,{}),Component:ys},{label:"Table",value:"table",icon:e(Wa,{}),Component:Es},{label:"JSON",value:"json",icon:e(so,{}),Component:Os},{label:"Live",value:"liveTailing",icon:e(ao,{}),Component:Ys}],js=({data:t,isLoading:n})=>{const{isMobile:o}=G(),{setSearchParamsFromKeys:a}=He(),[r,s]=ie("group","view"),i=D(null),[l,c]=X(),[d,u]=ie(!1,"hide_logs"),m=()=>{u(p=>{const v=!p;return v?l.set("hide_logs","true"):l.delete("hide_logs"),c(l),v})},h=p=>{s(p),a({view:p})},g=Ln.find(p=>p.value===r)?.Component;return e("div",{className:I({"vm-explore-logs-body":!0,"vm-block":!0,"vm-block_mobile":o}),children:[n&&e(fo,{}),e("div",{className:I({"vm-explore-logs-body-header":!0,"vm-section-header":!0,"vm-explore-logs-body-header_mobile":o}),children:[e("div",{className:I({"vm-section-header__tabs":!0,"vm-explore-logs-body-header__tabs_mobile":o}),children:[e(go,{activeItem:String(r),items:Ln,onChange:h}),r!=="liveTailing"&&e("div",{className:"vm-explore-logs-body-header__log-info",children:["Total logs returned: ",e("b",{children:t.length})]})]}),e("div",{className:"vm-explore-logs-body-header__settings",ref:i}),e(B,{title:d?"Show Logs":"Hide Logs",children:e(H,{variant:"text",color:"primary",startIcon:d?e(lo,{}):e(st,{}),onClick:m,ariaLabel:"settings"})})]}),e("div",{className:I({"vm-explore-logs-body__table":!0,"vm-explore-logs-body__table_hide":d,"vm-explore-logs-body__table_mobile":o}),children:[d&&e(ge,{variant:"info",children:"Logs are hidden. Updates paused."}),!d&&g&&e(g,{data:t,settingsRef:i})]})]})},qs=t=>`${t}/select/logsql/query`,Gs=t=>`${t}/select/logsql/hits`,Ws=(t,n,o)=>{const a=pt(),[r]=X(),[s,i]=A([]),[l,c]=A({}),[d,u]=A(),m=D(new AbortController),h=E(()=>r.get("hide_logs"),[r]),g=E(()=>qs(t),[t]),p=(_,b,f,k)=>({signal:k,method:"POST",headers:{...a,Accept:"application/stream+json"},body:new URLSearchParams({query:_.trim(),limit:`${f}`,start:O(b.start*1e3).tz().toISOString(),end:O(b.end*1e3).tz().toISOString()})}),v=V(async _=>{m.current.abort(),m.current=new AbortController;const{signal:b}=m.current,f=Date.now();c(k=>({...k,[f]:!0})),u(void 0);try{const k=p(n,_,o,b),S=await fetch(g,k),N=await S.text();if(!S.ok||!S.body)return u(N),i([]),!1;const y=N.split(`
`,o).map(Ks).filter(C=>C);return i(y),!0}catch(k){return k instanceof Error&&k.name!=="AbortError"&&(u(String(k)),console.error(k),i([])),!1}finally{c(k=>{const{[f]:S,...N}=k;return N})}},[g,n,o,a]);return x(()=>()=>{m.current.abort()},[]),x(()=>{h&&(i([]),u(void 0))},[h]),{logs:s,isLoading:Object.values(l).some(_=>_),error:d,fetchLogs:v,abortController:m.current}},Ks=t=>{try{return t&&JSON.parse(t)}catch(n){return console.error(`Failed to parse "${t}" to JSON
`,n),null}},Qs=({value:t,onChange:n,onEnter:o,onArrowUp:a,onArrowDown:r,autocomplete:s,autocompleteEl:i,error:l,stats:c,label:d,disabled:u=!1,includeFunctions:m=!0})=>{const{autocompleteQuick:h}=dt(),{isMobile:g}=G(),[p,v]=A(!1),[_,b]=A([0,0]),[f,k]=A([0,0]),S=D(null),[N,y]=A(!1),C=D(Bn(y,500)).current;c&&(d=`${d} (${c.executionTimeMsec||0}ms)`);const w=(T,R)=>{n(T),k([R,R])},L=T=>{const{key:R,ctrlKey:F,metaKey:z,shiftKey:K}=T,Z=(T.target.value||"").split(`
`).length>1,W=F||z,$=R==="ArrowUp",j=R==="ArrowDown",te=R==="Enter";$&&W&&(T.preventDefault(),a()),j&&W&&(T.preventDefault(),r()),te&&p&&T.preventDefault(),te&&!K&&(!Z||W)&&!p&&(T.preventDefault(),o())},M=T=>{v(!!T.length)},P=T=>{b(R=>R[0]===T[0]&&R[1]===T[1]?R:T)};return x(()=>{v(!!i&&h)},[h]),x(()=>{y(!1),C(_.every(Boolean))},[_]),e("div",{className:"vm-query-editor",ref:S,children:[e(Ce,{value:t,label:d,type:"textarea",autofocus:!g,error:l,onKeyDown:L,onChange:n,onChangeCaret:P,disabled:u,inputmode:"search",caretPosition:f}),s&&i&&e(i,{value:t,anchorEl:S,caretPosition:_,hasHelperText:!!l,includeFunctions:m,onSelect:w,onFoundOptions:M,isOpen:N})]})};var ue=(t=>(t.Filter="Filter",t.Pipe="Pipe",t.Operator="Operator",t.FilterOrPipe="FilterOrPipe",t))(ue||{}),q=(t=>(t.FilterName="FilterName",t.FilterUnknown="FilterUnknown",t.FilterValue="FilterValue",t.PipeName="Pipes",t.PipeValue="PipeValue",t.Unknown="Unknown",t.FilterOrPipeName="FilterOrPipeName",t))(q||{});const Zs="https://docs.victoriametrics.com/victorialogs/logsql",Js="vm-link vm-link_colored",Xs=t=>{const n=`$1 target="_blank" class="${Js}" $2`,o=`$1 $2${Zs}#`;return t.replace(/(<a) (href=")#/gm,o).replace(/(<a) (href="[^"]+")/gm,n)},Rt=[{value:"copy",description:'<a href="#copy-pipe"><code>copy</code></a> copies <a href="https://docs.victoriametrics.com/victorialogs/keyconcepts/#data-model">log fields</a>.'},{value:"delete",description:'<a href="#delete-pipe"><code>delete</code></a> deletes <a href="https://docs.victoriametrics.com/victorialogs/keyconcepts/#data-model">log fields</a>.'},{value:"drop_empty_fields",description:'<a href="#drop_empty_fields-pipe"><code>drop_empty_fields</code></a> drops <a href="https://docs.victoriametrics.com/victorialogs/keyconcepts/#data-model">log fields</a> with empty values.'},{value:"extract",description:'<a href="#extract-pipe"><code>extract</code></a> extracts the specified text into the given log fields.'},{value:"extract_regexp",description:'<a href="#extract_regexp-pipe"><code>extract_regexp</code></a> extracts the specified text into the given log fields via <a href="https://github.com/google/re2/wiki/Syntax" rel="external" target="_blank">RE2 regular expressions</a>.'},{value:"field_names",description:'<a href="#field_names-pipe"><code>field_names</code></a> returns all the names of <a href="https://docs.victoriametrics.com/victorialogs/keyconcepts/#data-model">log fields</a>.'},{value:"field_values",description:'<a href="#field_values-pipe"><code>field_values</code></a> returns all the values for the given <a href="https://docs.victoriametrics.com/victorialogs/keyconcepts/#data-model">log field</a>.'},{value:"fields",description:'<a href="#fields-pipe"><code>fields</code></a> selects the given set of <a href="https://docs.victoriametrics.com/victorialogs/keyconcepts/#data-model">log fields</a>.'},{value:"filter",description:'<a href="#filter-pipe"><code>filter</code></a> applies additional <a href="#filters">filters</a> to results.'},{value:"format",description:'<a href="#format-pipe"><code>format</code></a> formats output field from input <a href="https://docs.victoriametrics.com/victorialogs/keyconcepts/#data-model">log fields</a>.'},{value:"limit",description:'<a href="#limit-pipe"><code>limit</code></a> limits the number selected logs.'},{value:"math",description:'<a href="#math-pipe"><code>math</code></a> performs mathematical calculations over <a href="https://docs.victoriametrics.com/victorialogs/keyconcepts/#data-model">log fields</a>.'},{value:"offset",description:'<a href="#offset-pipe"><code>offset</code></a> skips the given number of selected logs.'},{value:"pack_json",description:'<a href="#pack_json-pipe"><code>pack_json</code></a> packs <a href="https://docs.victoriametrics.com/victorialogs/keyconcepts/#data-model">log fields</a> into JSON object.'},{value:"pack_logfmt",description:'<a href="#pack_logfmt-pipe"><code>pack_logfmt</code></a> packs <a href="https://docs.victoriametrics.com/victorialogs/keyconcepts/#data-model">log fields</a> into <a href="https://brandur.org/logfmt" rel="external" target="_blank">logfmt</a> message.'},{value:"rename",description:'<a href="#rename-pipe"><code>rename</code></a> renames <a href="https://docs.victoriametrics.com/victorialogs/keyconcepts/#data-model">log fields</a>.'},{value:"replace",description:'<a href="#replace-pipe"><code>replace</code></a> replaces substrings in the specified <a href="https://docs.victoriametrics.com/victorialogs/keyconcepts/#data-model">log fields</a>.'},{value:"replace_regexp",description:'<a href="#replace_regexp-pipe"><code>replace_regexp</code></a> updates <a href="https://docs.victoriametrics.com/victorialogs/keyconcepts/#data-model">log fields</a> with regular expressions.'},{value:"sort",description:'<a href="#sort-pipe"><code>sort</code></a> sorts logs by the given <a href="https://docs.victoriametrics.com/victorialogs/keyconcepts/#data-model">fields</a>.'},{value:"stats",description:'<a href="#stats-pipe"><code>stats</code></a> calculates various stats over the selected logs.'},{value:"stream_context",description:`<a href="#stream_context-pipe"><code>stream_context</code></a> allows selecting surrounding logs in front and after the matching logs
per each <a href="/victorialogs/keyconcepts/#stream-fields">log stream</a>.`},{value:"top",description:'<a href="#top-pipe"><code>top</code></a> returns top <code>N</code> field sets with the maximum number of matching logs.'},{value:"uniq",description:'<a href="#uniq-pipe"><code>uniq</code></a> returns unique log entries.'},{value:"unpack_json",description:'<a href="#unpack_json-pipe"><code>unpack_json</code></a> unpacks JSON messages from <a href="https://docs.victoriametrics.com/victorialogs/keyconcepts/#data-model">log fields</a>.'},{value:"unpack_logfmt",description:'<a href="#unpack_logfmt-pipe"><code>unpack_logfmt</code></a> unpacks <a href="https://brandur.org/logfmt" rel="external" target="_blank">logfmt</a> messages from <a href="https://docs.victoriametrics.com/victorialogs/keyconcepts/#data-model">log fields</a>.'},{value:"unpack_syslog",description:'<a href="#unpack_syslog-pipe"><code>unpack_syslog</code></a> unpacks <a href="https://en.wikipedia.org/wiki/Syslog" rel="external" target="_blank">syslog</a> messages from <a href="https://docs.victoriametrics.com/victorialogs/keyconcepts/#data-model">log fields</a>.'},{value:"unroll",description:'<a href="#unroll-pipe"><code>unroll</code></a> unrolls JSON arrays from <a href="https://docs.victoriametrics.com/victorialogs/keyconcepts/#data-model">log fields</a>.'}].map(t=>({...t,type:q.PipeName,icon:e(Pt,{}),description:Xs(t.description)})),ei=["AND","OR","NOT"],ti=Rt.map(t=>t.value),ni=t=>{const n=t,o=[];let a="",r,s=!1;const i=["'",'"',"`"];let l=!1,c="";const d=["(","[","{"],u=[")","]","}"],m=[...d,...u];let h=0,g=0;for(let p=0;p<n.length;p++){const v=n[p];if(i.includes(v)){const _=l&&v===c;l=!_,c=_?"":v}if(!l&&m.includes(v)){const _=d.includes(v)?1:-1;h+=_}if(!l&&!h&&v==="|"){s=!0;const _=a.match(/^ */)?.[0].length||0,b=a.match(/ *$/)?.[0].length||0;St(a,!0,[g+_,p-b-1],o,r),a="",r="|",g=p+1;continue}if(!s&&!l&&!h&&v===" "){const _=n.slice(p).replace(/^\s*/,""),b=n.slice(0,p).replace(/\s*$/,"");if(!_.startsWith(":")&&!b.endsWith(":")){St(a,!1,[g,p-1],o,r),r=" ",a="",g=p+1;continue}}a+=v}return St(a,s,[g,n.length],o,r),o},St=(t,n,o,a,r)=>{const s=t.trim();if(!s)return;const i=ei.includes(s.toUpperCase()),l=[ue.Pipe,ue.FilterOrPipe],c=a.length>0&&l.includes(a[a.length-1].type),d=()=>c?ue.FilterOrPipe:n?ue.Pipe:i?ue.Operator:ue.Filter;a.push({id:a.length,value:s,position:o,type:d(),separator:r})},oi=(t,n)=>{const o=t.value.substring(0,n),a=t.value.substring(n),r={valueBeforeCursor:o,valueAfterCursor:a,valueContext:t.value,contextType:q.Unknown};return ri(t,o,a,r),r.valueContext=r.valueContext.replace(/^["']|["']$/g,""),r},To=t=>ti.some(n=>t.startsWith(n)),ai=(t,n)=>!t.includes(":")&&!n.includes(":"),Eo=(t,n)=>{const[o,...a]=t.split(":");n.contextType=q.FilterValue,n.filterName=o;const s=["=","-","!"].find(i=>i===a[0]);s?(n.valueContext=a.slice(1).join(":"),n.operator=`:${s}`):(n.valueContext=a.join(":"),n.operator=":")},ri=(t,n,o,a)=>{switch(t.type){case ue.Filter:si(n,o,a);break;case ue.Pipe:a.contextType=To(t.value)?q.PipeValue:q.PipeName;break;case ue.FilterOrPipe:ii(t.value,n,a);break}},si=(t,n,o)=>{ai(t,n)?o.contextType=q.FilterUnknown:t.includes(":")?Eo(t,o):o.contextType=q.FilterName},ii=(t,n,o)=>{To(t)?o.contextType=q.PipeValue:n.includes(":")?Eo(n,o):o.contextType=q.FilterOrPipeName},li=t=>{if(t.includes("=")){const[n,o]=t.split("=");if(o)return`_stream:${n}=~${o}.*"}`}return"*"},Tn=(t,n)=>{const o=t.lastIndexOf(n);return o!==-1?t.slice(0,o):""},ci=t=>{let n="";return t.valueContext.includes(":")?n=Tn(t.valueContext,":"):t.valueContext.includes("-")&&(n=Tn(t.valueContext,"-")),n?`${t.filterName}:${n}`:"*"},di=t=>{let n="";return!t.filterName||!t.query||["_msg","_stream_id"].includes(t.filterName)?n="*":t.filterName==="_stream"?n=li(t.valueContext):t.filterName==="_time"?n=ci(t):n=`${t.filterName}:${t.valueContext}*`,t.queryBeforeIncompleteFilter?`${t.queryBeforeIncompleteFilter}${t.separator??" "}${n}`:n},ui={[q.FilterName]:e(dn,{}),[q.FilterUnknown]:e(dn,{}),[q.FilterValue]:e(un,{}),[q.PipeName]:e(Pt,{}),[q.PipeValue]:e(tr,{}),[q.Unknown]:e(un,{}),[q.FilterOrPipeName]:e(Pt,{})},mi=t=>{const{serverUrl:n}=ee(),{period:{start:o,end:a}}=Ke(),{autocompleteCache:r}=Wt(),s=eo(),i=pt(),[l,c]=A(!1),[d,u]=A([]),[m,h]=A([]),g=D(new AbortController),p=V(b=>{const f=O(o*1e3).startOf("day").valueOf()/1e3,k=O(a*1e3).endOf("day").valueOf()/1e3;return new URLSearchParams({...b||{},limit:`${qe.queryLimit}`,start:`${f}`,end:`${k}`})},[o,a]),v=(b,f)=>b.map(k=>({value:k.value,type:`${f}`,icon:ui[f]})),_=async({urlSuffix:b,setter:f,params:k})=>{g.current.abort(),g.current=new AbortController;const{signal:S}=g.current,N=new URLSearchParams(i).toString(),y=`${b}?${k?.toString()}&${N}`;c(!0);try{const C=r.get(y);if(C){f(C),c(!1);return}const w=await fetch(`${n}/select/logsql/${b}?${k}`,{signal:S,headers:{...i}});if(w.ok){const M=(await w.json())?.values||[];f(M||[]),s({type:"SET_AUTOCOMPLETE_CACHE",payload:{key:y,value:M}})}c(!1)}catch(C){C instanceof Error&&C.name!=="AbortError"&&(s({type:"SET_AUTOCOMPLETE_CACHE",payload:{key:y,value:[]}}),c(!1),console.error(C))}};return x(()=>{const f=![q.FilterName,q.FilterUnknown,q.FilterOrPipeName].includes(t?.contextType||q.Unknown);return!n||f?void 0:(u([]),_({urlSuffix:"field_names",setter:S=>{u(v(S,q.FilterName))},params:p({query:t?.queryBeforeIncompleteFilter||"*"})}),()=>g.current?.abort())},[n,t]),x(()=>{const b=t?.contextType!==q.FilterValue;return!n||b||!t?.filterName?void 0:(h([]),_({urlSuffix:"field_values",setter:k=>{h(v(k,q.FilterValue))},params:p({query:di(t),field:t.filterName})}),()=>g.current?.abort())},[n,t]),{fieldNames:d,fieldValues:m,loading:l}},hi=({value:t,anchorEl:n,caretPosition:o,hasHelperText:a,onSelect:r,onFoundOptions:s,isOpen:i})=>{const[l,c]=A({top:0,left:0}),d=E(()=>{if(o[0]!==o[1])return{valueBeforeCursor:t,valueAfterCursor:""};const k=t.substring(0,o[0]),S=t.substring(o[1]);return{valueBeforeCursor:k,valueAfterCursor:S}},[t,o]),u=E(()=>ni(t),[t]),m=E(()=>{if(o[0]!==o[1])return;const k=u.find(C=>o[0]>=C.position[0]&&o[0]<=C.position[1]);if(!k)return;const S=o[0]-k.position[0],N=u.find(C=>C.id===k.id-1),y=N?t.substring(0,N.position[1]+1):void 0;return{...k,queryBeforeIncompleteFilter:y,query:t,...oi(k,S)}},[u,o,t]),{fieldNames:h,fieldValues:g,loading:p}=mi(m),v=E(()=>{switch(m?.contextType){case q.FilterName:case q.FilterUnknown:return h;case q.FilterValue:return g;case q.PipeName:return Rt;case q.FilterOrPipeName:return[...h,...Rt];default:return[]}},[m,h,g]),_=(k,S,N)=>S.reduce((y,C)=>{const w=C.id===N?k:C.value,L=C.separator==="|"?" | ":" ";return`${y}${L}${w}`},"").trim(),b=(k,S,N="",y)=>{let C=k;if(y===q.FilterName)C+=":";else if(S===q.FilterValue){const w=N.startsWith("_stream:")?C:`${JSON.stringify(C)}`;C=`${m?.filterName||""}${m?.operator||":"}${w}`}return C},f=V((k,S)=>{const{id:N,contextType:y=q.FilterUnknown,value:C="",position:w=[0,0]}=m||{},L=b(k,y,C,S.type),M=_(L,u,N),P=u.find(F=>F.id===N),T=()=>P?.type===ue.FilterOrPipe||S.type===q.PipeName?1:0,R=(w[0]||1)+L.length+T();r(M,R)},[m,u]);if(x(()=>{if(!n.current){c({top:0,left:0});return}const k=n.current.querySelector("textarea")||n.current,S=window.getComputedStyle(k),N=`${S.getPropertyValue("font-size")}`,y=`${S.getPropertyValue("font-family")}`,C=parseInt(`${S.getPropertyValue("line-height")}`),w=document.createElement("div");w.style.font=`${N} ${y}`,w.style.padding=S.getPropertyValue("padding"),w.style.lineHeight=`${C}px`,w.style.width=`${k.offsetWidth}px`,w.style.maxWidth=`${k.offsetWidth}px`,w.style.whiteSpace=S.getPropertyValue("white-space"),w.style.overflowWrap=S.getPropertyValue("overflow-wrap");const L=document.createElement("span");w.appendChild(document.createTextNode(d.valueBeforeCursor||"")),w.appendChild(L),w.appendChild(document.createTextNode(d.valueAfterCursor||"")),document.body.appendChild(w);const M=w.getBoundingClientRect(),P=L.getBoundingClientRect(),T=P.left-M.left,R=P.bottom-M.bottom-(a?C:0);c({top:R,left:T}),w.remove(),L.remove()},[n,o,a,d]),!!i)return e(Y,{children:e(No,{loading:p,disabledFullScreen:!0,value:m?.valueContext||"",options:v,anchor:n,minLength:0,offset:l,onSelect:f,onFoundOptions:s,maxDisplayResults:{limit:qe.displayResults,message:"Please, specify the query more precisely."}})})},pi=({query:t,favorites:n,onRun:o,onToggleFavorite:a})=>{const r=ve(),s=E(()=>n.includes(t),[t,n]);return e("div",{className:"vm-query-history-item",children:[e("span",{className:"vm-query-history-item__value",children:t}),e("div",{className:"vm-query-history-item__buttons",children:[e(B,{title:"Execute query",children:e(H,{size:"small",variant:"text",onClick:()=>{o(t)},startIcon:e(ro,{})})}),e(B,{title:"Copy query",children:e(H,{size:"small",variant:"text",onClick:async()=>{await r(t,"Query has been copied")},startIcon:e(ke,{})})}),e(B,{title:s?"Remove Favorite":"Add to Favorites",children:e(H,{size:"small",variant:"text",color:s?"warning":"primary",onClick:()=>{a(t,s)},startIcon:s?e(er,{}):e(Xa,{})})})]})]})},Le={session:"session",storage:"saved",favorite:"favorite"},En=[{label:"Session history",value:Le.session},{label:"Saved history",value:Le.storage},{label:"Favorite queries",value:Le.favorite}],_i=({handleSelectQuery:t,historyKey:n})=>{const{queryHistory:o}=dt(),{isMobile:a}=G(),{value:r,setTrue:s,setFalse:i}=Q(),[l,c]=A(En[0].value),[d,u]=A($e(n,"QUERY_HISTORY")),[m,h]=A($e(n,"QUERY_FAVORITES")),g=E(()=>o.map(N=>N.values.filter(y=>y).reverse()),[o]),p=E(()=>{switch(l){case Le.favorite:return m;case Le.storage:return d;default:return g}},[l,m,d,g]),v=p?.every(N=>!N.length),_=E(()=>{switch(l){case Le.favorite:return`Favorites queries are empty.
To see your favorites, mark a query as a favorite.`;default:return`Query history is empty.
To see the history, please make a query.`}},[l]),b=N=>y=>{t(y,N),i()},f=(N,y)=>{h(C=>{const w=C[0]||[];return y?[w.filter(L=>L!==N)]:!y&&!w.includes(N)?[[...w,N]]:C})},k=()=>{u($e(n,"QUERY_HISTORY")),h($e(n,"QUERY_FAVORITES"))},S=()=>{Ma(n,"QUERY_HISTORY")};return x(()=>{const N=m[0]||[],y=$e(n,"QUERY_FAVORITES")[0]||[];vo(N,y)||Ea(n,m)},[m]),J("storage",k),e(Y,{children:[e(B,{title:"Show history",children:e(H,{color:"primary",variant:"text",onClick:s,startIcon:e(Mt,{}),ariaLabel:"Show history"})}),r&&e(Oe,{title:"Query history",onClose:i,children:e("div",{className:I({"vm-query-history":!0,"vm-query-history_mobile":a}),children:[e("div",{className:I({"vm-query-history__tabs":!0,"vm-section-header__tabs":!0,"vm-query-history__tabs_mobile":a}),children:e(go,{activeItem:l,items:En,onChange:c})}),e("div",{className:"vm-query-history-list",children:[v&&e("div",{className:"vm-query-history-list__no-data",children:_}),p.map((N,y)=>e("div",{children:[p.length>1&&e("div",{className:I({"vm-query-history-list__group-title":!0,"vm-query-history-list__group-title_first":y===0}),children:["Query ",y+1]}),N.map((C,w)=>e(pi,{query:C,favorites:m.flat(),onRun:b(y),onToggleFavorite:f},w))]},y)),l===Le.storage&&!v&&e("div",{className:"vm-query-history-footer",children:e(H,{color:"error",variant:"outlined",size:"small",startIcon:e(io,{}),onClick:S,children:"clear history"})})]})]})})]})},gi=()=>{const t=qt(),n=V(a=>{t({type:"SET_AUTOCOMPLETE_QUICK",payload:a})},[t]);return J("keydown",a=>{const{code:r,ctrlKey:s,altKey:i}=a;r==="Space"&&(s||i)&&(a.preventDefault(),n(!0))}),n};Zt();Zt();const fi=e(Y,{children:[e("code",{children:Zt()?"Option":"Ctrl"})," + ",e("code",{children:"Space"})]}),vi=({query:t,limit:n,error:o,isLoading:a,onChange:r,onChangeLimit:s,onRun:i})=>{const{isMobile:l}=G(),{autocomplete:c,queryHistory:d,autocompleteQuick:u}=dt(),m=qt(),h=gi(),[g,p]=A(""),[v,_]=A(n),{value:b,setValue:f}=Q(),k=L=>{const M=+L;_(M),isNaN(M)||M<0?p("Number must be bigger than zero"):(p(""),s(M))},S=()=>{m({type:"TOGGLE_AUTOCOMPLETE"})};x(()=>{_(n)},[n]);const N=L=>{const{values:M,index:P}=d[0],T=P+L;T<0||T>=M.length||(r(M[T]||""),m({type:"SET_QUERY_HISTORY_BY_INDEX",payload:{value:{values:M,index:T},queryNumber:0}}))},y=L=>{r(L),f(!0)},C=L=>()=>{N(L)};x(()=>{b&&(i(),f(!1))},[t,b]);const w=L=>{r(L),u&&h(!1)};return e("div",{className:I({"vm-explore-logs-header":!0,"vm-block":!0,"vm-block_mobile":l}),children:[e("div",{className:"vm-explore-logs-header-top",children:[e(Qs,{value:t,autocomplete:c||u,autocompleteEl:hi,onArrowUp:C(-1),onArrowDown:C(1),onEnter:i,onChange:w,label:"Log query",error:o}),e(Ce,{label:"Limit entries",type:"number",value:v,error:g,onChange:k,onEnter:i})]}),e("div",{className:"vm-explore-logs-header-bottom",children:[e("div",{className:"vm-explore-logs-header-bottom-contols",children:e(B,{title:e(Y,{children:["Quick tip: ",fi]}),children:e(pe,{label:"Autocomplete",value:c,onChange:S,fullWidth:l})})}),e("div",{className:"vm-explore-logs-header-bottom-helpful",children:[e("a",{className:"vm-link vm-link_with-icon",target:"_blank",href:"https://docs.victoriametrics.com/victorialogs/logsql/",rel:"help noreferrer",children:[e(to,{}),"Query language docs"]}),e("a",{className:"vm-link vm-link_with-icon",target:"_blank",href:"https://docs.victoriametrics.com/victorialogs/",rel:"help noreferrer",children:[e(co,{}),"Documentation"]})]}),e("div",{className:"vm-explore-logs-header-bottom-buttons",children:[e(_i,{handleSelectQuery:y,historyKey:"LOGS_QUERY_HISTORY"}),e("div",{className:"vm-explore-logs-header-bottom-execute",children:e(H,{startIcon:a?e(rr,{}):e(ao,{}),onClick:i,fullWidth:!0,children:e("div",{children:[e("span",{className:"vm-explore-logs-header-bottom-execute__text",children:a?"Cancel Query":"Execute Query"}),e("span",{className:"vm-explore-logs-header-bottom-execute__text_hidden",children:"Execute Query"})]})})})]})]})]})},bi=({onChange:t})=>{const[n,o]=X(),a=D(null),{value:r,toggle:s,setFalse:i}=Q(),[l,c]=ie(!1,"stacked"),[d,u]=ie("true","fill"),[m,h]=ie(!1,"hide_chart"),g=E(()=>({graphStyle:we.BAR,stacked:l,fill:d==="true",hideChart:m}),[l,d,m]),p=b=>{u(`${b}`),n.set("fill",`${b}`),o(n)},v=b=>{c(b),b?n.set("stacked","true"):n.delete("stacked"),o(n)},_=()=>{h(b=>{const f=!b;return f?n.set("hide_chart","true"):n.delete("hide_chart"),o(n),f})};return x(()=>{t(g)},[g]),e("div",{className:"vm-bar-hits-options",children:[e("div",{ref:a,children:e(B,{title:"Graph settings",children:e(H,{variant:"text",color:"primary",startIcon:e(Ee,{}),onClick:s,ariaLabel:"settings"})})}),e(B,{title:m?"Show chart and resume hits updates":"Hide chart and pause hits updates",children:e(H,{variant:"text",color:"primary",startIcon:m?e(lo,{}):e(st,{}),onClick:_,ariaLabel:"settings"})}),e(ce,{open:r,placement:"bottom-right",onClose:i,buttonRef:a,title:"Graph settings",children:e("div",{className:"vm-bar-hits-options-settings",children:[e("div",{className:"vm-bar-hits-options-settings-item",children:e(pe,{label:"Stacked",value:l,onChange:v})}),e("div",{className:"vm-bar-hits-options-settings-item",children:e(pe,{label:"Fill",value:d==="true",onChange:p})})]})})]})},yi=()=>{const[t,n]=A(null),[o,a]=A({width:0,height:0}),r=V(()=>{a({width:t?.offsetWidth||0,height:t?.offsetHeight||0})},[t?.offsetHeight,t?.offsetWidth]);return J("resize",r),x(r,[t?.offsetHeight,t?.offsetWidth]),[n,o]},wi=({period:t,setPeriod:n})=>{const[o,a]=A({min:t.start,max:t.end}),r=({min:s,max:i})=>{const l=(i-s)*1e3;l<an.min||l>an.max||n({from:O(s*1e3).toDate(),to:O(i*1e3).toDate()})};return x(()=>{a({min:t.start,max:t.end})},[t]),{xRange:o,setPlotScale:r}},ki=t=>t instanceof MouseEvent,Mn=t=>ki(t)?t.clientX:t.touches[0].clientX,Ci=({dragSpeed:t=.85,setPanning:n,setPlotScale:o})=>{const a=D({leftStart:0,xUnitsPerPx:0,scXMin:0,scXMax:0}),r=l=>{l.preventDefault();const c=Mn(l),{leftStart:d,xUnitsPerPx:u,scXMin:m,scXMax:h}=a.current,g=u*((c-d)*t);o({min:m-g,max:h-g})},s=()=>{n(!1),document.removeEventListener("mousemove",r),document.removeEventListener("mouseup",s),document.removeEventListener("touchmove",r),document.removeEventListener("touchend",s)},i=()=>{document.addEventListener("mousemove",r),document.addEventListener("mouseup",s),document.addEventListener("touchmove",r),document.addEventListener("touchend",s)};return({e:l,u:c})=>{l.preventDefault(),n(!0),a.current={leftStart:Mn(l),xUnitsPerPx:c.posToVal(1,"x")-c.posToVal(0,"x"),scXMin:c.scales.x.min||0,scXMax:c.scales.x.max||0},i()}},Si=t=>{const{ctrlKey:n,metaKey:o,button:a}=t;return a===0&&(n||o)},At=.9,Ai=t=>{const[n,o]=A(!1),a=Ci({dragSpeed:At,setPanning:o,setPlotScale:t});return{onReadyChart:s=>{const i=c=>{const d=c instanceof MouseEvent&&Si(c),u=window.TouchEvent&&c instanceof TouchEvent&&c.touches.length>1;(d||u)&&a({u:s,e:c})},l=c=>{if(!c.ctrlKey&&!c.metaKey)return;c.preventDefault();const{width:d}=s.over.getBoundingClientRect(),u=s.cursor.left&&s.cursor.left>0?s.cursor.left:0,m=s.posToVal(u,"x"),h=(s.scales.x.max||0)-(s.scales.x.min||0),g=c.deltaY<0?h*At:h/At,p=m-u/d*g,v=p+g;s.batch(()=>t({min:p,max:v}))};s.over.addEventListener("mousedown",i),s.over.addEventListener("touchstart",i),s.over.addEventListener("wheel",l)},isPanning:n}},In=t=>{const n=t[0].clientX-t[1].clientX,o=t[0].clientY-t[1].clientY;return Math.sqrt(n*n+o*o)},Ni=({uPlotInst:t,xRange:n,setPlotScale:o})=>{const[a,r]=A(0),s=V(c=>{const{target:d,ctrlKey:u,metaKey:m,key:h}=c,g=d instanceof HTMLInputElement||d instanceof HTMLTextAreaElement;if(!t||g)return;const p=h==="+"||h==="=";if((h==="-"||p)&&!(u||m)){c.preventDefault();const b=(n.max-n.min)/10*(p?1:-1);o({min:n.min+b,max:n.max-b})}},[t,n]),i=c=>{c.touches.length===2&&(c.preventDefault(),r(In(c.touches)))},l=V(c=>{if(!t||c.touches.length!==2)return;c.preventDefault();const d=In(c.touches),u=a-d,m=t.scales.x.max||n.max,h=t.scales.x.min||n.min,g=m-h,p=u>0?-1:1,v=g/50*p;t.batch(()=>o({min:h+v,max:m-v}))},[t,a,n]);return J("keydown",s),J("touchmove",l),J("touchstart",i),null};function xi(t,n){const o=[];let a=[];const r=t[0].length,s=Array(r);for(let i=0;i<r;i++)s[i]=0;for(let i=1;i<t.length;i++)o.push(n(i)?t[i]:t[i].map((l,c)=>s[c]+=+(l??0)));for(let i=1;i<t.length;i++)!n(i)&&a.push({series:[t.findIndex((l,c)=>c>i&&!n(c)),i]});return a=a.filter(i=>i.series[1]>-1),{data:[t[0]].concat(o),bands:a}}const Pn=t=>O(t*1e3).tz().format(Te),Li=({data:t,focusDataIdx:n,uPlotInst:o})=>{const a=D(null),r=E(()=>{const i=o?.series||[],[l,...c]=t.map(g=>g[n]||0),d=t[0][1]-t[0][0],u=l+d,m=c.map((g,p)=>{const v=i[p+1],_=v?.stroke?.(),b=v?.label,f=v?.show;return{label:b,stroke:_,value:g,show:f}}).filter(g=>g.value>0&&g.show).sort(Ao("value"));return{point:{top:m[0]&&o?.valToPos?.(m[0].value,"y")||0,left:o?.valToPos?.(l,"x")||0},values:m,total:m.reduce((g,p)=>g+p.value,0),timestamp:`${Pn(l)} - ${Pn(u)}`}},[n,o,t]),s=E(()=>{if(!o||!r.total||!a.current)return;const{top:i,left:l}=r.point,c={left:parseFloat(o.over.style.left),top:parseFloat(o.over.style.top)},{width:d,height:u}=o.over.getBoundingClientRect(),{width:m,height:h}=a.current.getBoundingClientRect(),g=50,p=l+m>=d?m+2*g:0,v=i+h>=u?h+2*g:0,_={top:i+c.top+g-v,left:l+c.left+g-p};return _.left<0&&(_.left=20),_.top<0&&(_.top=20),_},[r,o,a.current]);return e("div",{className:I({"vm-chart-tooltip":!0,"vm-chart-tooltip_hits":!0,"vm-bar-hits-tooltip":!0,"vm-bar-hits-tooltip_visible":n!==-1&&r.values.length}),ref:a,style:s,children:[e("div",{children:r.values.map((i,l)=>e("div",{className:"vm-chart-tooltip-data",children:[e("span",{className:"vm-chart-tooltip-data__marker",style:{background:i.stroke}}),e("p",{className:"vm-bar-hits-tooltip-item",children:[e("span",{className:"vm-bar-hits-tooltip-item__label",children:i.label}),e("span",{children:i.value.toLocaleString("en-US")})]})]},l))}),r.values.length>1&&e("div",{className:"vm-chart-tooltip-data",children:[e("span",{}),e("p",{className:"vm-bar-hits-tooltip-item",children:[e("span",{className:"vm-bar-hits-tooltip-item__label",children:"Total"}),e("span",{children:r.total.toLocaleString("en-US")})]})]}),e("div",{className:"vm-chart-tooltip-header",children:e("div",{className:"vm-chart-tooltip-header__title vm-bar-hits-tooltip__date",children:r.timestamp})})]})},Ti=({legend:t})=>{const n=t.total.toLocaleString("en-US"),o=Math.round(t.total/t.totalHits*100);return e("div",{className:"vm-legend-hits-menu-section",children:e("div",{className:"vm-legend-hits-menu-row",children:e("div",{className:"vm-legend-hits-menu-row__title",children:["Total: ",n," (",o,"%)"]})})})},_t=({title:t,handler:n,iconStart:o,iconEnd:a,className:r,submenu:s})=>{const i=D(null),l=D(null),c=D(null),[d,u]=A(!1),[m,h]=A(!1),[g,p]=A(!1),v=!!s?.length,_=()=>{h(S=>!S)},b=()=>{h(!1)},f=()=>{n&&n(),v&&_()};x(()=>{l.current&&u(l.current.scrollWidth>l.current.clientWidth)},[t,l]),x(()=>{requestAnimationFrame(()=>{if(!m||!c.current){p(!1);return}const{left:S,width:N}=c.current.getBoundingClientRect();p(S+N>window.innerWidth)})},[c,m]),et(i,b);const k=e("div",{ref:l,className:"vm-legend-hits-menu-row__title",children:t});return e("div",{ref:i,className:I({"vm-legend-hits-menu-row":!0,"vm-legend-hits-menu-row_interactive":!!n||v,[`${r}`]:r}),onClick:f,children:[o&&e("div",{className:"vm-legend-hits-menu-row__icon",children:o}),d?e(B,{title:t,children:k}):k,a&&!v&&e("div",{className:"vm-legend-hits-menu-row__icon",children:a}),v&&e("div",{className:"vm-legend-hits-menu-row__icon vm-legend-hits-menu-row__icon_drop",children:e(Pe,{})}),m&&s&&e("div",{ref:c,className:I({"vm-legend-hits-menu":!0,"vm-legend-hits-menu_submenu":!0,"vm-legend-hits-menu_submenu_left":g}),children:e("div",{className:"vm-legend-hits-menu-section",children:s.map(({icon:S,title:N,handler:y})=>e(_t,{iconStart:S,title:N,handler:y},N))})})]})},Ei=({legend:t,onApplyFilter:n,onClose:o})=>{const a=ve(),r=()=>{n(`${oe}: ${t.label}`),o()},s=()=>{n(`(NOT ${oe}: ${t.label})`),o()},i=async()=>{await a(t.label,`${t.label} has been copied`),o()},l=[{title:`Copy ${oe} name`,icon:e(ke,{}),handler:i},{title:`Add ${oe} to filter`,icon:e(uo,{}),handler:r},{title:`Exclude ${oe} to filter`,icon:e(mo,{}),handler:s}];return e("div",{className:"vm-legend-hits-menu-section",children:l.map(({icon:c,title:d,handler:u})=>e(_t,{iconStart:c,title:d,handler:u},d))})},Mi=({fields:t,onApplyFilter:n,onClose:o})=>{const a=ve(),r=d=>async()=>{await a(d,`${d} has been copied`),o()},s=d=>()=>{n(d),o()},i=d=>()=>{n(`-${d}`),o()},l=d=>[{title:"Copy",icon:e(ke,{}),handler:r(d)},{title:"Add to filter",icon:e(uo,{}),handler:s(d)},{title:"Exclude to filter",icon:e(mo,{}),handler:i(d)}],c=E(()=>t.map(d=>{const u=So(d);return{title:u,submenu:l(u)}}),[t]);return e("div",{className:"vm-legend-hits-menu-section",children:c?.map(d=>e(_t,{...d},d.title))})},Ii=`aggregated results for fields not in the top ${jn}`,Pi=({legend:t,fields:n,onApplyFilter:o,onClose:a})=>e("div",{className:"vm-legend-hits-menu",children:[e("div",{className:"vm-legend-hits-menu-section",children:e(_t,{className:"vm-legend-hits-menu-row_info",title:t.isOther?Ii:t.label})}),!t.isOther&&e(Ei,{legend:t,onApplyFilter:o,onClose:a}),!t.isOther&&e(Mi,{fields:n,onApplyFilter:o,onClose:a}),e(Ti,{legend:t})]}),Oi=({legend:t,series:n,onRedrawGraph:o,onApplyFilter:a})=>{const{value:r,setTrue:s,setFalse:i}=Q(),l=D(null),[c,d]=A(null),u=E(()=>n.find(_=>_.label===t.label),[n]),m=E(()=>ko(t.label),[t.label]),h=m.join(", "),g=es(t.total),p=_=>{if(u){if(_.metaKey||_.ctrlKey)u.show=!u.show;else{const b=n.every(f=>f===u||!f.show);n.forEach(f=>{f.show=b||f===u})}o()}},v=_=>{_.preventDefault(),d({top:_.clientY,left:_.clientX}),s()};return e("div",{ref:l,className:I({"vm-bar-hits-legend-item":!0,"vm-bar-hits-legend-item_other":t.isOther,"vm-bar-hits-legend-item_hide":!u?.show}),onClick:p,onContextMenu:v,children:[e("div",{className:"vm-bar-hits-legend-item__marker",style:{backgroundColor:`${t.stroke}`}}),e("div",{className:"vm-bar-hits-legend-item__label",children:h}),e("span",{className:"vm-bar-hits-legend-item__total",children:["(",g,")"]}),e(ce,{placement:"fixed",open:r,buttonRef:l,placementPosition:c,onClose:i,children:e(Pi,{legend:t,fields:m,onApplyFilter:a,onClose:i})})]})},Ri=({uPlotInst:t,legendDetails:n,onApplyFilter:o})=>{const[a,r]=A([]),s=n[0]?.totalHits||0,i=()=>t.series.filter(c=>c.scale!=="x"),l=()=>{t.redraw()};return x(()=>{t.hooks.draw||(t.hooks.draw=[]),t.hooks.draw.push(()=>{r(i())})},[t]),e("div",{className:"vm-bar-hits-legend",children:[n.map(c=>e(Oi,{legend:c,series:a,onRedrawGraph:l,onApplyFilter:o},c.label)),e("div",{className:"vm-bar-hits-legend-info",children:[e("div",{children:["Total hits: ",e("b",{children:s.toLocaleString("en-US")})]}),e("div",{children:[e("code",{children:"L-Click"})," toggles visibility.",e("code",{children:"R-Click"})," opens menu."]})]})]})},Di=({graphOptions:t,logHits:n,data:o,period:a,setPeriod:r,onApplyFilter:s})=>{const[i,l]=yi(),c=D(null),[d,u]=A(),{xRange:m,setPlotScale:h}=wi({period:a,setPeriod:r}),{onReadyChart:g,isPanning:p}=Ai(h);Ni({uPlotInst:d,xRange:m,setPlotScale:h});const{data:v,bands:_}=E(()=>t.stacked?xi(o,()=>!1):{data:o,bands:[]},[t,o]),{options:b,series:f,focusDataIdx:k}=as({data:v,logHits:n,bands:_,xRange:m,containerSize:l,onReadyChart:g,setPlotScale:h,graphOptions:t}),S=V((y,C)=>y.map(w=>{const L=wo(w);return{label:L,isOther:w._isOther,fields:w.fields,total:w.total||0,totalHits:C,stroke:f.find(P=>P.label===L)?.stroke}}).sort(Ao("total")),[f]),N=E(()=>{const y=rs(n);return S(n,y)},[n,S]);return x(()=>{if(!d)return;const y=new Map(d.series.map(w=>[w.label,w])),C=f.map(w=>{const L=y.get(w.label);return L?{...w,show:L.show}:w});yo(d),jr(d,C,!0),Wr(d,C),d.redraw()},[f,d]),x(()=>{d&&(d.delBand(),_.forEach(y=>{d.addBand(y)}),d.redraw())},[_]),x(()=>{if(!c.current)return;const y=new Ht(b,v,c.current);return u(y),()=>y.destroy()},[c.current]),x(()=>{d&&(d.scales.x.range=()=>[m.min,m.max],d.redraw())},[m]),x(()=>{d&&(d.setSize(l),d.redraw())},[l]),x(()=>{d&&(d.setData(v),d.redraw())},[v]),e(Y,{children:[e("div",{className:I({"vm-bar-hits-chart":!0,"vm-bar-hits-chart_panning":p}),ref:i,children:[e("div",{className:"vm-line-chart__u-plot",ref:c}),e(Li,{uPlotInst:d,data:o,focusDataIdx:k})]}),d&&e(Ri,{uPlotInst:d,onApplyFilter:s,legendDetails:N})]})},zi=({logHits:t,data:n,period:o,setPeriod:a,onApplyFilter:r})=>{const[s,i]=A({graphStyle:we.LINE_STEPPED,stacked:!1,fill:!1,hideChart:!1});return e("div",{className:I({"vm-bar-hits-chart__wrapper":!0,"vm-bar-hits-chart__wrapper_hidden":s.hideChart}),children:[!s.hideChart&&e(Di,{logHits:t,data:n,period:o,setPeriod:a,onApplyFilter:r,graphOptions:s}),e(bi,{onChange:i})]})},Fi=({logHits:t,period:n,error:o,isLoading:a,onApplyFilter:r})=>{const{isMobile:s}=G(),i=Qe(),[l]=X(),c=E(()=>l.get("hide_chart"),[l]),d=(p,v)=>p.map(_=>{const b=new Map;return _.timestamps.forEach((f,k)=>{const S=O(f).unix();b.set(S,_.values[k]||null)}),v.map(f=>b.get(f)||null)}),u=V(p=>{const v=[],{start:_,end:b,step:f}=Co(n),k=Math.ceil(_.diff(p,"milliseconds")/f);let S=p.add(k*f,"milliseconds");S.isBefore(_)&&(S=_.clone());const N=Math.floor(b.diff(S,"milliseconds")/f);for(let y=0;y<=N;y++)v.push(S.add(y*f,"milliseconds").unix());return v},[n]),m=E(()=>{if(!t.length)return[[],[]];const p=u(O(t[0].timestamps[0])),v=d(t,p);return[p,...v]},[t]),h=E(()=>{if(a)return"";const p=m.every(b=>b.length===0),v=m[0].length===0,_=m[1].length===0;return c?"Chart hidden. Hits updates paused.":p?`No logs volume available
No volume information available for the current queries and time range.`:v?"No timestamp information available for the current queries and time range.":_?"No value information available for the current queries and time range.":""},[m,c,a]),g=({from:p,to:v})=>{i({type:"SET_PERIOD",payload:{from:p,to:v}})};return e("section",{className:I({"vm-explore-logs-chart":!0,"vm-block":!0,"vm-block_mobile":s}),children:[a&&e(fo,{}),!o&&h&&e("div",{className:"vm-explore-logs-chart__empty",children:e(ge,{variant:"info",children:h})}),o&&h&&e("div",{className:"vm-explore-logs-chart__empty",children:e(ge,{variant:"error",children:o})}),m&&e(zi,{logHits:t,data:m,period:n,setPeriod:g,onApplyFilter:r})]})};function Hi(t,n){return Object.fromEntries(Object.entries(t).filter(n))}function Mo(t){return Hi(t,n=>!!n[1]||typeof n[1]=="number")}function Vi(t){return Object.keys(t).length===0}const $i=(t,n)=>{const o=pt(),[a]=X(),[r,s]=A([]),[i,l]=A([]),[c,d]=A(),u=D(new AbortController),m=E(()=>a.get("hide_chart"),[a]),h=E(()=>Gs(t),[t]),g=(v,_,b)=>{const{start:f,end:k,step:S}=Co(_);return{signal:b,method:"POST",headers:{...o},body:new URLSearchParams({query:v.trim(),step:`${S}ms`,start:f.toISOString(),end:k.toISOString(),fields_limit:`${jn}`,field:oe})}},p=V(async v=>{u.current.abort(),u.current=new AbortController;const{signal:_}=u.current,b=Date.now();l(f=>({...f,[b]:!0})),d(void 0);try{const f=g(n,v,_),k=await fetch(h,f);if(!k.ok||!k.body){const y=await k.text();d(y),s([]),l(C=>({...C,[b]:!1}));return}const N=(await k.json())?.hits;N||d("Error: No 'hits' field in response"),s(N.map(Bi).sort(Ui))}catch(f){f instanceof Error&&f.name!=="AbortError"&&(d(String(f)),console.error(f),s([]))}l(f=>({...f,[b]:!1}))},[h,n,o]);return x(()=>()=>{u.current.abort()},[]),x(()=>{m&&(s([]),d(void 0))},[m]),{logHits:r,isLoading:Object.values(i).some(v=>v),error:c,fetchLogHits:p,abortController:u.current}},Bi=t=>({...t,_isOther:Vi(t.fields)}),Ui=(t,n)=>t._isOther!==n._isOther?t._isOther?-1:1:n.total-t.total;function Yi(t){const n=D(t);x(()=>{n.current=t},[t]),x(()=>()=>{n.current()},[])}function ji(t,n=500,o){const a=D(t);a.current=t;const r=E(()=>{const s=Bn((...l)=>a.current(...l),n,o),i=(...l)=>{s(...l)};return i.cancel=s.cancel,i.flush=s.flush,i},[n,o]);return Yi(()=>{r.cancel()}),r}function Dt(t){const n=D();return x(()=>{n.current=t},[t]),n.current}const On=Number(_e("LOGS_LIMIT")),qi=isNaN(On)?Jo:On,Gi=()=>{const{serverUrl:t}=ee(),{queryHistory:n}=dt(),o=qt(),{duration:a,relativeTime:r,period:s}=Ke(),{setSearchParamsFromKeys:i}=He(),[l]=X(),c=E(()=>l.get("hide_chart"),[l]),d=Dt(c),u=E(()=>l.get("hide_logs"),[l]),m=Dt(u),[h,g]=ie(qi,"limit"),[p,v]=ie("*","query"),_=()=>{const j=Ia(p,n[0]);o({type:"SET_QUERY_HISTORY",payload:{key:"LOGS_QUERY_HISTORY",history:[j]}})},[b,f]=A(!1),[k,S]=A(s),[N,y]=A(""),{logs:C,isLoading:w,error:L,fetchLogs:M,abortController:P}=Ws(t,p,h),{fetchLogHits:T,...R}=$i(t,p),z=ji(async(j,te)=>{te.logs&&!await M(j)||te.hits&&await T(j)},300),K=()=>{const j=rt.find(Re=>Re.id===r);if(!j)return s;const{duration:te,until:be}=j;return xe(te,be())},U=()=>{if(!p){y(Gn.validQuery);return}y("");const j=K();S(j),z(j,{logs:!u,hits:!c}),i({query:p,"g0.range_input":a,"g0.end_input":j.date,"g0.relative_time":r||"none"}),_()},Z=j=>{g(j),i({limit:j}),me("LOGS_LIMIT",`${j}`)},W=j=>{v(te=>`${j} AND (${te})`),f(!0)},$=()=>{w||R.isLoading?(P.abort?.(),R.abortController.abort?.()):U()};return x(()=>{p&&U()},[s]),x(()=>{b&&(U(),f(!1))},[p,b]),x(()=>{!c&&d&&T(k)},[c,d,k]),x(()=>{!u&&m&&M(k)},[u,m,k]),e("div",{className:"vm-explore-logs",children:[e(vi,{query:p,error:N,limit:h,onChange:v,onChangeLimit:Z,onRun:$,isLoading:w||R.isLoading}),L&&e(ge,{variant:"error",children:L}),!L&&e(Fi,{...R,query:p,period:k,onApplyFilter:W}),e(js,{data:C,isLoading:w})]})},ae={home:"/",icons:"/icons",alerts:"/alerts",rules:"/groups",notifiers:"/notifiers"},gt={[ae.home]:{title:"Logs Explorer",header:{}},[ae.icons]:{title:"Icons",header:{}},[ae.alerts]:{title:"Alerts",header:{}},[ae.rules]:{title:"Rules",header:{}},[ae.notifiers]:{title:"Notifiers",header:{}}};var Ge=(t=>(t[t.internalLink=0]="internalLink",t[t.externalLink=1]="externalLink",t))(Ge||{});const Wi=()=>[{value:ae.rules},{value:ae.alerts},{value:ae.notifiers}],Ki=({showAlertLink:t})=>[{label:gt[ae.home].title,value:ae.home},{value:"Alerts",submenu:Wi(),hide:!t}],zt=({activeMenu:t,label:n,value:o,type:a,color:r})=>a===Ge.externalLink?e("a",{className:I({"vm-header-nav-item":!0,"vm-header-nav-item_active":t===o}),style:{color:r},href:o,target:"_blank",rel:"noreferrer",children:n}):e(Vn,{className:I({"vm-header-nav-item":!0,"vm-header-nav-item_active":t===o}),style:{color:r},to:o,children:n}),Qi=({activeMenu:t,label:n,color:o,background:a,submenu:r,direction:s})=>{const{pathname:i}=Ae(),[l,c]=A(null),d=D(null),{value:u,setFalse:m,setTrue:h}=Q(),g=()=>{h(),l&&clearTimeout(l)},p=()=>{l&&clearTimeout(l);const _=setTimeout(m,300);c(_)},v=()=>{l&&clearTimeout(l)};return x(()=>{m()},[i]),s==="column"?e(Y,{children:r.map(_=>e(zt,{activeMenu:t,value:_.value||"",label:_.label||"",type:_.type||Ge.internalLink},_.value))}):e("div",{className:I({"vm-header-nav-item":!0,"vm-header-nav-item_sub":!0,"vm-header-nav-item_open":u,"vm-header-nav-item_active":r.find(_=>_.value===t)}),style:{color:o},onMouseEnter:g,onMouseLeave:p,ref:d,children:[n,e(Pe,{}),e(ce,{open:u,placement:"bottom-left",offset:{top:12,left:0},onClose:m,buttonRef:d,children:e("div",{className:"vm-header-nav-item-submenu",style:{background:a},onMouseLeave:p,onMouseEnter:v,children:r.map(_=>e(zt,{activeMenu:t,value:_.value||"",label:_.label||"",color:o,type:_.type||Ge.internalLink},_.value))})})]})},Zi=t=>{try{return t.replace(/^\/+/,"").replace(/-/g," ").trim().replace(/^\w/,n=>n.toUpperCase())}catch{return t}},Io=t=>t.filter(n=>!n.hide).map(n=>{const o={...n};return o.value&&!o.label&&(o.label=gt[o.value]?.title||Zi(o.value)),o.submenu&&o.submenu.length>0&&(o.submenu=Io(o.submenu)),o}),Ji=()=>{const{flags:t}=ee(),n=!!t["vmalert.proxyURL"],o=Ki({showAlertLink:n});return Io(o)},Po=({color:t,background:n,direction:o})=>{const{pathname:a}=Ae(),[r,s]=A(a),i=Ji();return x(()=>{s(a)},[a]),e("nav",{className:I({"vm-header-nav":!0,[`vm-header-nav_${o}`]:o}),children:i.map(l=>l.submenu?e(Qi,{activeMenu:r,label:l.label||"",submenu:l.submenu,color:t,background:n,direction:o},l.label):e(zt,{activeMenu:r,value:l.value||"",label:l.label||"",color:t,type:l.type||Ge.internalLink},l.value))})},Xi=({open:t})=>e("button",{className:I({"vm-menu-burger":!0,"vm-menu-burger_opened":t}),"aria-label":"menu",children:e("span",{})}),el=({background:t,color:n})=>{const{pathname:o}=Ae(),a=D(null),{value:r,toggle:s,setFalse:i}=Q();return x(i,[o]),et(a,i),e("div",{className:"vm-header-sidebar",ref:a,children:[e("div",{className:I({"vm-header-sidebar-button":!0,"vm-header-sidebar-button_open":r}),onClick:s,children:e(Xi,{open:r})}),e("div",{className:I({"vm-header-sidebar-menu":!0,"vm-header-sidebar-menu_open":r}),children:e("div",{children:e(Po,{color:n,background:t,direction:"column"})})})]})},tl=t=>`${t.replace(/^(.+)(\/select.+)/,"$1")}/admin/tenants`,nl=()=>{const{useTenantID:t}=ut(),n=Ne(),{serverUrl:o}=ee(),[a,r]=A(!1),[s,i]=A(),[l,c]=A([]),d=E(()=>tl(o),[o]),u=n?!t:!0;return x(()=>{if(u)return;(async()=>{r(!0);try{const h=await fetch(d),g=await h.json(),p=g.data||[];c(p.sort((v,_)=>v.localeCompare(_))),h.ok?i(void 0):i(`${g.errorType}\r
${g?.error}`)}catch(h){h instanceof Error&&i(`${h.name}: ${h.message}`)}r(!1)})().catch(console.error)},[d]),{accountIds:l,isLoading:a,error:s}},ol=({controlsComponent:t,isMobile:n,...o})=>{const a=Ne(),{pathname:r}=Ae(),{accountIds:s}=nl(),{value:i,toggle:l,setFalse:c}=Q(),d=E(()=>(gt[r]||{}).header||{},[r]),u=e(t,{...o,isMobile:n,accountIds:s,headerSetup:d});return n?e(Y,{children:[e("div",{children:e(H,{className:I({"vm-header-button":!a}),startIcon:e(Za,{}),onClick:l,ariaLabel:"controls"})}),e(Oe,{title:"Controls",onClose:c,isOpen:i,className:I({"vm-header-controls-modal":!0,"vm-header-controls-modal_open":i}),children:u})]}):u},Rn=()=>e(Ba,{}),al=({controlsComponent:t})=>{const{isMobile:n}=G(),o=Je(),a=E(()=>window.innerWidth<1e3,[o]),{isDarkTheme:r}=ee(),s=Ne(),i=E(()=>fe(r?"color-background-block":"color-primary"),[r]),{background:l,color:c}=E(()=>{const{headerStyles:{background:m=s?"#FFF":i,color:h=s?i:"#FFF"}={}}=ut();return{background:m,color:h}},[i]),d=lt(),u=()=>{d({pathname:ae.home}),window.location.reload()};return e("header",{className:I({"vm-header":!0,"vm-header_app":s,"vm-header_dark":r,"vm-header_sidebar":a,"vm-header_mobile":n}),style:{background:l,color:c},children:[a?e(el,{background:l,color:c}):e(Y,{children:[!s&&e("div",{className:"vm-header-logo",onClick:u,style:{color:c},children:e(Rn,{})}),e(Po,{color:c,background:l})]}),a&&e("div",{className:I({"vm-header-logo":!0,"vm-header-logo_mobile":!0}),onClick:u,style:{color:c},children:e(Rn,{})}),e(ol,{controlsComponent:t,displaySidebar:a,isMobile:n})]})},rl={href:"https://github.com/VictoriaMetrics/VictoriaLogs/issues/new/choose",Icon:Ka,title:"Create an issue"},Oo=[{href:"https://docs.victoriametrics.com/victorialogs/logsql/",Icon:so,title:"LogsQL"},{href:"https://docs.victoriametrics.com/victorialogs/",Icon:co,title:"Documentation"},rl],sl=Fe(({links:t=Oo})=>{const n=`2019-${new Date().getFullYear()}`;return e("footer",{className:"vm-footer",children:[e("a",{className:"vm-link vm-footer__website",target:"_blank",href:"https://victoriametrics.com/",rel:"me noreferrer",children:[e(Ua,{}),"victoriametrics.com"]}),t.map(({href:o,Icon:a,title:r})=>e("a",{className:"vm-link vm-footer__link",target:"_blank",href:o,rel:"help noreferrer",children:[e(a,{}),r]},`${o}-${r}`)),e("div",{className:"vm-footer__copyright",children:[" ",n," VictoriaMetrics"]})]})}),il="Browser timezone is not recognized, supported, or could not be determined.",ll=()=>e(B,{title:il,children:e(no,{})}),nt=Jn(),cl=Un((t,n)=>{const{isMobile:o}=G(),a=sn(),{timezone:r,defaultTimezone:s}=Ke(),i=Qe(),[l,c]=A(r),[d,u]=A(""),m=D(null),{value:h,toggle:g,setFalse:p}=Q(),v=E(()=>[{title:`Default time (${s})`,region:s,utc:s?je(s):"UTC"},{title:nt.title,region:nt.region,utc:je(nt.region),isInvalid:!nt.isValid},{title:"UTC (Coordinated Universal Time)",region:"UTC",utc:"UTC"}].filter(y=>y.region),[s]),_=E(()=>{if(!d)return a;try{return sn(d)}catch{return{}}},[d,a]),b=E(()=>Object.keys(_),[_]),f=E(()=>({region:l,utc:je(l)}),[l]),k=y=>{u(y)},S=y=>{c(y.region),u(""),p()},N=y=>()=>{S(y)};return x(()=>{c(r)},[r]),Uo(n,()=>({handleApply:()=>{i({type:"SET_TIMEZONE",payload:l})}}),[l]),e("div",{className:"vm-timezones",children:[e("div",{className:"vm-server-configurator__title",children:"Time zone"}),e("div",{className:"vm-timezones-item vm-timezones-item_selected",onClick:g,ref:m,children:[e("div",{className:"vm-timezones-item__title",children:f.region}),e("div",{className:"vm-timezones-item__utc",children:f.utc}),e("div",{className:I({"vm-timezones-item__icon":!0,"vm-timezones-item__icon_open":h}),children:e(Pe,{})})]}),e(ce,{open:h,buttonRef:m,placement:"bottom-left",onClose:p,fullWidth:!0,title:o?"Time zone":void 0,children:e("div",{className:I({"vm-timezones-list":!0,"vm-timezones-list_mobile":o}),children:[e("div",{className:"vm-timezones-list-header",children:[e("div",{className:"vm-timezones-list-header__search",children:e(Ce,{autofocus:!0,label:"Search",value:d,onChange:k})}),v.map((y,C)=>y&&e("div",{className:"vm-timezones-item vm-timezones-list-group-options__item",onClick:N(y),children:[e("div",{className:"vm-timezones-item__title",children:[y.title,y.isInvalid&&e(ll,{})]}),e("div",{className:"vm-timezones-item__utc",children:y.utc})]},`${C}_${y.region}`))]}),b.map(y=>e("div",{className:"vm-timezones-list-group",children:e(Xe,{defaultExpanded:!0,title:e("div",{className:"vm-timezones-list-group__title",children:y}),children:e("div",{className:"vm-timezones-list-group-options",children:_[y]&&_[y].map(C=>e("div",{className:"vm-timezones-item vm-timezones-list-group-options__item",onClick:N(C),children:[e("div",{className:"vm-timezones-item__title",children:C.region}),e("div",{className:"vm-timezones-item__utc",children:C.utc})]},C.search))})})},y))]})})]})}),dl=({options:t,value:n,label:o,onChange:a})=>{const r=D(null),[s,i]=A({width:"0px",left:"0px",borderRadius:"0px"}),l=c=>()=>{a(c)};return x(()=>{if(!r.current){i({width:"0px",left:"0px",borderRadius:"0px"});return}const c=t.findIndex(g=>g.value===n),{width:d}=r.current.getBoundingClientRect();let u=d,m=c*u,h="0";c===0&&(h="16px 0 0 16px"),c===t.length-1&&(h="10px",m-=1,h="0 16px 16px 0"),c!==0&&c!==t.length-1&&(u+=1,m-=1),i({width:`${u}px`,left:`${m}px`,borderRadius:h})},[r,n,t]),e("div",{className:"vm-toggles",children:[o&&e("label",{className:"vm-toggles__label",children:o}),e("div",{className:"vm-toggles-group",style:{gridTemplateColumns:`repeat(${t.length}, 1fr)`},children:[s.borderRadius&&e("div",{className:"vm-toggles-group__highlight",style:s}),t.map((c,d)=>e("div",{className:I({"vm-toggles-group-item":!0,"vm-toggles-group-item_first":d===0,"vm-toggles-group-item_active":c.value===n,"vm-toggles-group-item_icon":c.icon&&c.title}),onClick:l(c.value),ref:c.value===n?r:null,children:[c.icon,c.title]},c.value))]})]})},ul=Object.values(re).map(t=>({title:t,value:t})),ml=()=>{const{isMobile:t}=G(),n=Bt(),{theme:o}=ee(),a=r=>{n({type:"SET_THEME",payload:r})};return e("div",{className:I({"vm-theme-control":!0,"vm-theme-control_mobile":t}),children:[e("div",{className:"vm-server-configurator__title",children:"Theme preferences"}),e("div",{className:"vm-theme-control__toggle",children:e(dl,{options:ul,value:o,onChange:a})},`${t}`)]})},Nt="Settings",hl=()=>{const{isMobile:t}=G(),n=Ne(),o=D(null),a=D(null),r=D(null),{value:s,setTrue:i,setFalse:l}=Q(),c=()=>{o.current&&o.current.handleApply(),a.current&&a.current.handleApply(),r.current&&r.current.handleApply(),l()},d=[{show:!0,component:e(cl,{ref:r})},{show:!n,component:e(ml,{})}].filter(u=>u.show);return e(Y,{children:[t?e("div",{className:"vm-mobile-option",onClick:i,children:[e("span",{className:"vm-mobile-option__icon",children:e(Ee,{})}),e("div",{className:"vm-mobile-option-text",children:e("span",{className:"vm-mobile-option-text__label",children:Nt})}),e("span",{className:"vm-mobile-option__arrow",children:e(le,{})})]}):e(B,{title:Nt,children:e(H,{className:I({"vm-header-button":!n}),variant:"contained",color:"primary",startIcon:e(Ee,{}),onClick:i,ariaLabel:"settings"})}),s&&e(Oe,{title:Nt,onClose:l,children:e("div",{className:I({"vm-server-configurator":!0,"vm-server-configurator_mobile":t}),children:[d.map((u,m)=>e("div",{className:"vm-server-configurator__input",children:u.component},m)),e("div",{className:"vm-server-configurator-footer",children:[e(H,{color:"error",variant:"outlined",onClick:l,children:"Cancel"}),e(H,{color:"primary",variant:"contained",onClick:c,children:"Apply"})]})]})})]})},pl=({relativeTime:t,setDuration:n})=>{const{isMobile:o}=G(),a=r=>()=>{n(r)};return e("div",{className:I({"vm-time-duration":!0,"vm-time-duration_mobile":o}),children:rt.map(({id:r,duration:s,until:i,title:l})=>e("div",{className:I({"vm-list-item":!0,"vm-list-item_mobile":o,"vm-list-item_active":r===t}),onClick:a({duration:s,until:i(),id:r}),children:l||s},r))})},_l=({viewDate:t,showArrowNav:n,onChangeViewDate:o,toggleDisplayYears:a})=>{const r=()=>{o(t.subtract(1,"month"))},s=()=>{o(t.add(1,"month"))};return e("div",{className:"vm-calendar-header",children:[e("div",{className:"vm-calendar-header-left",onClick:a,children:[e("span",{className:"vm-calendar-header-left__date",children:t.format("MMMM YYYY")}),e("div",{className:"vm-calendar-header-left__select-year",children:e(Pe,{})})]}),n&&e("div",{className:"vm-calendar-header-right",children:[e("div",{className:"vm-calendar-header-right__prev",onClick:r,children:e(le,{})}),e("div",{className:"vm-calendar-header-right__next",onClick:s,children:e(le,{})})]})]})},gl=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],fl=({viewDate:t,selectDate:n,onChangeSelectDate:o})=>{const a="YYYY-MM-DD",r=O.tz(),s=O(t.format(a)),i=E(()=>{const c=new Array(42).fill(null),d=s.startOf("month"),m=s.endOf("month").diff(d,"day")+1,h=new Array(m).fill(d).map((p,v)=>p.add(v,"day")),g=d.day();return c.splice(g,m,...h),c},[s]),l=c=>()=>{c&&o(c)};return e("div",{className:"vm-calendar-body",children:[gl.map(c=>e(B,{title:c,children:e("div",{className:"vm-calendar-body-cell vm-calendar-body-cell_weekday",children:c[0]})},c)),i.map((c,d)=>e("div",{className:I({"vm-calendar-body-cell":!0,"vm-calendar-body-cell_day":!0,"vm-calendar-body-cell_day_empty":!c,"vm-calendar-body-cell_day_active":(c&&c.format(a))===n.format(a),"vm-calendar-body-cell_day_today":(c&&c.format(a))===r.format(a)}),onClick:l(c),children:c&&c.format("D")},c?c.format(a):d))]})},vl=({viewDate:t,onChangeViewDate:n})=>{const o=O().format("YYYY"),a=E(()=>t.format("YYYY"),[t]),r=E(()=>{const c=O().subtract(18/2,"year");return new Array(18).fill(c).map((d,u)=>d.add(u,"year"))},[t]);x(()=>{const i=document.getElementById(`vm-calendar-year-${a}`);i&&i.scrollIntoView({block:"center"})},[]);const s=i=>()=>{n(i)};return e("div",{className:"vm-calendar-years",children:r.map(i=>e("div",{className:I({"vm-calendar-years__year":!0,"vm-calendar-years__year_selected":i.format("YYYY")===a,"vm-calendar-years__year_today":i.format("YYYY")===o}),id:`vm-calendar-year-${i.format("YYYY")}`,onClick:s(i),children:i.format("YYYY")},i.format("YYYY")))})},bl=({viewDate:t,selectDate:n,onChangeViewDate:o})=>{const a=O().format("MM"),r=E(()=>n.format("MM"),[n]),s=E(()=>new Array(12).fill("").map((l,c)=>O(t).month(c)),[t]);x(()=>{const l=document.getElementById(`vm-calendar-year-${r}`);l&&l.scrollIntoView({block:"center"})},[]);const i=l=>()=>{o(l)};return e("div",{className:"vm-calendar-years",children:s.map(l=>e("div",{className:I({"vm-calendar-years__year":!0,"vm-calendar-years__year_selected":l.format("MM")===r,"vm-calendar-years__year_today":l.format("MM")===a}),id:`vm-calendar-year-${l.format("MM")}`,onClick:i(l),children:l.format("MMMM")},l.format("MM")))})},yl=({date:t,format:n=Te,onChange:o})=>{const[a,r]=A(0),[s,i]=A(O.tz(t)),[l,c]=A(O.tz(t)),d=O.tz(),u=d.format(on)===s.format(on),{isMobile:m}=G(),h=()=>{r(_=>_===2?0:2)},g=_=>{i(_),r(b=>b===2?1:0)},p=_=>{c(_)},v=()=>{i(d)};return x(()=>{l.format()!==O.tz(t).format()&&o(l.format(n))},[l]),x(()=>{const _=O.tz(t);i(_),c(_)},[t]),e("div",{className:I({"vm-calendar":!0,"vm-calendar_mobile":m}),children:[e(_l,{viewDate:s,onChangeViewDate:g,toggleDisplayYears:h,showArrowNav:a===0}),a===0&&e(fl,{viewDate:s,selectDate:l,onChangeSelectDate:p}),a===2&&e(vl,{viewDate:s,onChangeViewDate:g}),a===1&&e(bl,{selectDate:l,viewDate:s,onChangeViewDate:g}),!u&&a===0&&e("div",{className:"vm-calendar-footer",children:e(H,{variant:"text",size:"small",onClick:v,children:"show today"})})]})},wl=Un(({date:t,targetRef:n,format:o=Te,onChange:a,label:r},s)=>{const i=E(()=>O(t).isValid()?O.tz(t):O().tz(),[t]),{isMobile:l}=G(),{value:c,toggle:d,setFalse:u}=Q(),m=g=>{a(g),u()},h=g=>{(g.key==="Escape"||g.key==="Enter")&&u()};return J("click",d,n),J("keyup",h),e(Y,{children:e(ce,{open:c,buttonRef:n,placement:"bottom-right",onClose:u,title:l?r:void 0,children:e("div",{ref:s,children:e(yl,{date:i,format:o,onChange:m})})})})}),Dn=t=>O(t).isValid()?O.tz(t).format(Te):t,zn=({value:t="",label:n,pickerLabel:o,pickerRef:a,onChange:r,onEnter:s})=>{const i=D(null),[l,c]=A(null),[d,u]=A(Dn(t)),[m,h]=A(!1),[g,p]=A(!1),v=O(d).isValid()?"":"Invalid date format",_=S=>{u(S.currentTarget.value)},b=()=>{r(d)},f=S=>{S.key==="Enter"&&(r(d),p(!0))},k=S=>{u(S),h(!0)};return x(()=>{const S=Dn(t);S!==d&&u(S),g&&(s(),p(!1))},[t]),x(()=>{m&&l&&(l.focus(),l.setSelectionRange(11,11),h(!1))},[m]),e("div",{className:I({"vm-date-time-input":!0,"vm-date-time-input_error":v}),children:[e("label",{children:n}),e(Yo,{tabIndex:1,inputRef:c,mask:"9999-99-99 99:99:99",placeholder:"YYYY-MM-DD HH:mm:ss",value:d,autoCapitalize:"none",inputMode:"numeric",maskChar:null,onChange:_,onBlur:b,onKeyUp:f}),v&&e("span",{className:"vm-date-time-input__error-text",children:v}),e("div",{className:"vm-date-time-input__icon",ref:i,children:e(H,{variant:"text",color:"gray",size:"small",startIcon:e(qa,{}),ariaLabel:"calendar"})}),e(wl,{label:o,ref:a,date:d,onChange:k,targetRef:i})]})},kl=()=>{const{isMobile:t}=G(),{isDarkTheme:n}=ee(),o=D(null),a=Je(),r=E(()=>a.width>1120,[a]),[s,i]=A(),[l,c]=A(),{period:{end:d,start:u},relativeTime:m,timezone:h,duration:g}=Ke(),p=Qe(),v=Ne(),_=Dt(h),{value:b,toggle:f,setFalse:k}=Q(),S=E(()=>({region:h,utc:je(h)}),[h]);x(()=>{i(Ue(he(d)))},[h,d]),x(()=>{c(Ue(he(u)))},[h,u]);const N=({duration:F,until:z,id:K})=>{p({type:"SET_RELATIVE_TIME",payload:{duration:F,until:z,id:K}}),k()},y=E(()=>{const F=O.tz(he(u)).format(Te),z=O.tz(he(d)).format(Te);return{start:F,end:z}},[u,d,h]),C=E(()=>m&&m!=="none"?m.replace(/_/g," "):`${y.start} - ${y.end}`,[m,y]),w=D(null),L=D(null),M=D(null),P=()=>{l&&s&&p({type:"SET_PERIOD",payload:{from:O.tz(l).toDate(),to:O.tz(s).toDate()}}),k()},T=()=>p({type:"RUN_QUERY_TO_NOW"}),R=()=>{i(Ue(he(d))),c(Ue(he(u))),k()};return x(()=>{const F=Ut({relativeTimeId:m,defaultDuration:g,defaultEndInput:he(d)});_&&h!==_&&N({id:F.relativeTimeId,duration:F.duration,until:F.endInput})},[h,_]),et(o,F=>{if(t)return;const z=F.target,K=w?.current&&w?.current?.contains(z),U=L?.current&&L?.current?.contains(z);K||U||k()}),e(Y,{children:[e("div",{ref:M,children:t?e("div",{className:"vm-mobile-option",onClick:f,children:[e("span",{className:"vm-mobile-option__icon",children:e(Mt,{})}),e("div",{className:"vm-mobile-option-text",children:[e("span",{className:"vm-mobile-option-text__label",children:"Time range"}),e("span",{className:"vm-mobile-option-text__value",children:C})]}),e("span",{className:"vm-mobile-option__arrow",children:e(le,{})})]}):e(B,{title:r?"Time range controls":C,children:e(H,{className:v?"":"vm-header-button",variant:"contained",color:"primary",startIcon:e(Mt,{}),onClick:f,ariaLabel:"time range controls",children:r&&e("span",{children:C})})})}),e(ce,{open:b,buttonRef:M,placement:"bottom-right",onClose:k,clickOutside:!1,title:t?"Time range controls":"",children:e("div",{className:I({"vm-time-selector":!0,"vm-time-selector_mobile":t}),ref:o,children:[e("div",{className:"vm-time-selector-left",children:[e("div",{className:I({"vm-time-selector-left-inputs":!0,"vm-time-selector-left-inputs_dark":n}),children:[e(zn,{value:l,label:"From:",pickerLabel:"Date From",pickerRef:w,onChange:c,onEnter:P}),e(zn,{value:s,label:"To:",pickerLabel:"Date To",pickerRef:L,onChange:i,onEnter:P})]}),e("div",{className:"vm-time-selector-left-timezone",children:[e("div",{className:"vm-time-selector-left-timezone__title",children:S.region}),e("div",{className:"vm-time-selector-left-timezone__utc",children:S.utc})]}),e(H,{variant:"text",startIcon:e(Ga,{}),onClick:T,children:"switch to now"}),e("div",{className:"vm-time-selector-left__controls",children:[e(H,{color:"error",variant:"outlined",onClick:R,children:"Cancel"}),e(H,{color:"primary",onClick:P,children:"Apply"})]})]}),e(pl,{relativeTime:m||"",setDuration:N})]})})]})},Cl=()=>{const t=Ne(),{isMobile:n}=G(),o=Qe(),[a,r]=X(),[s,i]=ie("0","accountID"),[l,c]=ie("0","projectID"),d=`${s}:${l}`,u=D(null),{value:m,toggle:h,setFalse:g}=Q(),p=()=>{a.set("accountID",s),a.set("projectID",l),r(a),g(),o({type:"RUN_QUERY"})},v=()=>{i(a.get("accountID")||"0"),c(a.get("projectID")||"0")};return x(()=>{m||v()},[m]),e("div",{className:"vm-tenant-input",children:[e(B,{title:"Define Tenant ID if you need request to another storage",children:e("div",{ref:u,children:n?e("div",{className:"vm-mobile-option",onClick:h,children:[e("span",{className:"vm-mobile-option__icon",children:e(It,{})}),e("div",{className:"vm-mobile-option-text",children:[e("span",{className:"vm-mobile-option-text__label",children:"Tenant ID"}),e("span",{className:"vm-mobile-option-text__value",children:d})]}),e("span",{className:"vm-mobile-option__arrow",children:e(le,{})})]}):e(H,{className:t?"":"vm-header-button",variant:"contained",color:"primary",fullWidth:!0,startIcon:e(It,{}),endIcon:e("div",{className:I({"vm-execution-controls-buttons__arrow":!0,"vm-execution-controls-buttons__arrow_open":m}),children:e(le,{})}),onClick:h,children:d})})}),e(ce,{open:m,placement:"bottom-right",onClose:g,buttonRef:u,title:n?"Define Tenant ID":void 0,children:e("div",{className:I({"vm-list vm-tenant-input-list":!0,"vm-list vm-tenant-input-list_mobile":n,"vm-tenant-input-list_inline":!0}),children:[e(Ce,{autofocus:!0,label:"accountID",value:s,onChange:i,type:"number"}),e(Ce,{autofocus:!0,label:"projectID",value:l,onChange:c,type:"number"}),e("div",{className:"vm-tenant-input-list__buttons",children:[e(B,{title:"Multitenancy in VictoriaLogs documentation",children:e("a",{href:"https://docs.victoriametrics.com/victorialogs/#multitenancy",target:"_blank",rel:"help noreferrer",children:e(H,{variant:"text",color:"gray",startIcon:e(Qa,{})})})}),e(H,{variant:"contained",color:"primary",onClick:p,children:"Apply"})]})]})})]})},xt=[{seconds:0,title:"Off"},{seconds:1,title:"1s"},{seconds:2,title:"2s"},{seconds:5,title:"5s"},{seconds:10,title:"10s"},{seconds:30,title:"30s"},{seconds:60,title:"1m"},{seconds:300,title:"5m"},{seconds:900,title:"15m"},{seconds:1800,title:"30m"},{seconds:3600,title:"1h"},{seconds:7200,title:"2h"}],Sl=()=>{const{isMobile:t}=G(),n=Qe(),o=Ne(),[a,r]=A(!1),[s,i]=A(xt[0]),{value:l,toggle:c,setFalse:d}=Q(),u=D(null),m=p=>{(a&&!p.seconds||!a&&p.seconds)&&r(v=>!v),i(p),d()},h=()=>{n({type:"RUN_QUERY"})};x(()=>{const p=s.seconds;let v;return a?v=setInterval(()=>{n({type:"RUN_QUERY"})},p*1e3):i(xt[0]),()=>{v&&clearInterval(v)}},[s,a]);const g=p=>()=>{m(p)};return e(Y,{children:[e("div",{className:"vm-execution-controls",children:e("div",{className:I({"vm-execution-controls-buttons":!0,"vm-execution-controls-buttons_mobile":t,"vm-header-button":!o}),children:[!t&&e(B,{title:"Refresh dashboard",children:e(H,{variant:"contained",color:"primary",onClick:h,startIcon:e(oo,{}),ariaLabel:"refresh dashboard"})}),t?e("div",{className:"vm-mobile-option",onClick:c,children:[e("span",{className:"vm-mobile-option__icon",children:e(ot,{})}),e("div",{className:"vm-mobile-option-text",children:[e("span",{className:"vm-mobile-option-text__label",children:"Auto-refresh"}),e("span",{className:"vm-mobile-option-text__value",children:s.title})]}),e("span",{className:"vm-mobile-option__arrow",children:e(le,{})})]}):e(B,{title:"Auto-refresh control",children:e("div",{ref:u,children:e(H,{variant:"contained",color:"primary",fullWidth:!0,endIcon:e("div",{className:I({"vm-execution-controls-buttons__arrow":!0,"vm-execution-controls-buttons__arrow_open":l}),children:e(le,{})}),onClick:c,children:s.title})})})]})}),e(ce,{open:l,placement:"bottom-right",onClose:d,buttonRef:u,title:t?"Auto-refresh duration":void 0,children:e("div",{className:I({"vm-execution-controls-list":!0,"vm-execution-controls-list_mobile":t}),children:xt.map(p=>e("div",{className:I({"vm-list-item":!0,"vm-list-item_mobile":t,"vm-list-item_active":p.seconds===s.seconds}),onClick:g(p),children:p.title},p.seconds))})})]})},Al=({isMobile:t})=>e("div",{className:I({"vm-header-controls":!0,"vm-header-controls_mobile":t}),children:[e(Cl,{}),e(kl,{}),e(Sl,{}),e(hl,{})]}),Nl=()=>{const{serverUrl:t}=ee(),n=Bt(),[o,a]=A(!1),[r,s]=A("");return x(()=>{(async()=>{if(t){s(""),a(!0);try{const d=(await(await fetch(`${t}/flags`)).text()).split(`
`).filter(u=>u.trim()!=="").reduce((u,m)=>{const[h,g]=m.split("="),p=h.trim().replace(/^-/,"");return u[p.trim()]=g?g.trim().replace(/^"(.*)"$/,"$1"):null,u},{});n({type:"SET_FLAGS",payload:d})}catch(l){a(!1),l instanceof Error&&s(`${l.name}: ${l.message}`)}}})()},[t]),{isLoading:o,error:r}},xl=()=>{const t=Ne(),{isMobile:n}=G(),{pathname:o}=Ae();return x(()=>{const r="UI for VictoriaLogs",s=gt[ae.home]?.title;document.title=`${s} - ${r}`},[o]),Nl(),e("section",{className:"vm-container",children:[e(al,{controlsComponent:Al}),e("div",{className:I({"vm-container-body":!0,"vm-container-body_mobile":n,"vm-container-body_app":t}),children:e(jo,{})}),!t&&e(sl,{links:Oo})]})},Ll=({rule_types:t,states:n})=>{const{setSearchParamsFromKeys:o}=He(),a=()=>{const r=Mo({rule_types:t,states:n});o(r)};x(a,[t,n]),x(a,[])},Tl=({kinds:t})=>{const{setSearchParamsFromKeys:n}=He(),o=()=>{const a=Mo({kinds:t});n(a)};x(o,[t]),x(o,[])},Ro=({containerStyles:t,message:n})=>{const{isDarkTheme:o}=ee();return e("div",{className:I({"vm-spinner":!0,"vm-spinner_dark":o}),style:t,children:[e("div",{className:"half-circle-spinner",children:[e("div",{className:"circle circle-1"}),e("div",{className:"circle circle-2"})]}),n&&e("div",{className:"vm-spinner__message",children:n})]})},El=(t,n)=>{let o=`${t}/api/v1/rules`;return n&&(o=`${o}?type=${n}`),o},Ml=t=>`${t}/api/v1/notifiers`,Il=({ruleTypeFilter:t})=>{const{serverUrl:n}=ee(),[o,a]=A([]),[r,s]=A(!1),[i,l]=A(),c=E(()=>El(n,t),[n,t]);return x(()=>{(async()=>{s(!0);try{const u=await fetch(c),m=await u.json();if(u.ok){const h=m.data.groups||[];a(h.sort((g,p)=>g.name.localeCompare(p.name))),l(void 0)}else l(`${m.errorType}\r
${m?.error}`)}catch(u){u instanceof Error&&l(`${u.name}: ${u.message}`)}s(!1)})().catch(console.error)},[c]),{groups:o,isLoading:r,error:i}},Pl=({ruleTypes:t,ruleTypeFilter:n,allRuleTypes:o,states:a,allStates:r,onChangeRuleTypes:s,onChangeStates:i,onChangeSearch:l})=>{const c=E(()=>t.length?"":"No states. Please select rule states",[t]),{isMobile:d}=G();return e(Y,{children:e("div",{className:I({"vm-explore-alerts-header":!0,"vm-explore-alerts-header_mobile":d,"vm-block":!0,"vm-block_mobile":d}),children:[n===""&&e("div",{className:"vm-explore-alerts-header__rule_type",children:e(Me,{value:t,list:o,label:"Rules type",placeholder:"Please select rule type",onChange:s,autofocus:!!t.length&&!d,includeAll:!0,searchable:!0})}),e("div",{className:"vm-explore-alerts-header__state",children:e(Me,{value:a,list:r,label:"State",placeholder:"Please rule state",onChange:i,noOptionsText:c,includeAll:!0,searchable:!0})}),e("div",{className:"vm-explore-alerts-header-search",children:e(Ce,{label:"Search",placeholder:"Fitler by rule, name or labels",startIcon:e(Qt,{}),onChange:l})})]})})},Ol=({group:t})=>{const{isMobile:n}=G(),o=ve(),a=async()=>{const r=`${window.location.origin}${window.location.pathname}#/groups#group-${t.id}`;await o(r,"Link to group has been copied")};return n?e("div",{className:"vm-explore-alerts-group-header vm-explore-alerts-group-header_mobile",children:[e("div",{className:"vm-explore-alerts-group-header__name",children:t.name}),e("div",{className:"circle-container",children:[Object.entries(t.states||{}).map(([r,s])=>e("div",{className:`circle ${r.toLowerCase().replace(" ","-")}`,children:s},r)),e(H,{variant:"outlined",startIcon:e(ke,{}),onClick:a})]})]}):e("div",{className:"vm-explore-alerts-group-header",children:[e("div",{className:"vm-explore-alerts-group-header__desc",children:[e("div",{className:"vm-explore-alerts-group-header__name",children:t.name}),e("div",{className:"vm-explore-alerts-group-header__file",children:t.file})]}),e("div",{className:"circle-container",children:[Object.entries(t.states||{}).map(([r,s])=>e("div",{className:`circle ${r.toLowerCase().replace(" ","-")}`,children:s},r)),e(H,{variant:"outlined",startIcon:e(ke,{}),onClick:a})]})]})},Rl=({rule:t})=>{const{isMobile:n}=G(),o=ve(),a=async()=>{const r=`${window.location.origin}${window.location.pathname}#/groups#rule-${t.id}`;await o(r,"Link to rule has been copied")};return e("div",{className:`vm-explore-alerts-rule-header ${n&&"vm-explore-alerts-rule-header_mobile"}`,id:`rule-${t.id}`,children:[e("div",{className:"vm-explore-alerts-rule-header__title",children:[t.type==="alerting"?e(Va,{}):e($a,{}),e("div",{className:"vm-explore-alerts-rule-header__name",children:t.name})]}),e(H,{variant:"outlined",startIcon:e(ke,{}),onClick:a})]})},Dl=({state:t,rule:n,expandRules:o,onRulesChange:a})=>{const r=i=>()=>{window.open(i,"_blank")},s=`/?query=${encodeURI(n.query)}`;return e("div",{className:`vm-explore-alerts-rule ${t.replace(" ","-")}`,children:e(Xe,{defaultExpanded:o.has(n.id),onChange:a,title:e(Rl,{rule:n}),children:e("div",{className:"vm-explore-alerts-rule-item",children:[e("table",{children:e("tbody",{children:[e("tr",{children:[e("td",{className:"vm-col-small",children:"Query"}),e("td",{children:s&&e(qo,{to:s,children:e("pre",{children:e("code",{className:"language-promql",children:n.query})})})||e("pre",{children:e("code",{className:"language-promql",children:n.query})})})]}),e("tr",{children:[e("td",{className:"vm-col-small",children:"Duration"}),e("td",{children:O.duration(n.duration,"seconds").humanize()})]}),e("tr",{children:[e("td",{className:"vm-col-small",children:"Last evaluation"}),e("td",{children:O().to(O(n.lastEvaluation))})]}),n.lastError&&e("tr",{children:[e("td",{className:"vm-col-small",children:"Last error"}),e("td",{children:n.lastError})]}),n.labels&&e("tr",{children:[e("td",{className:"vm-col-small",children:"Labels"}),e("td",{children:e("div",{className:"vm-badge-container",children:Object.entries(n.labels).map(([i,l])=>e("span",{className:"vm-badge",children:`${i}: ${l}`},i))})})]}),n.annotations&&e("tr",{children:e("td",{colSpan:2,children:"Annotations"})}),Object.entries(n.annotations||{}).map(([i,l])=>e("tr",{children:[e("td",{className:"vm-col-small",children:i}),e("td",{children:l})]},i))]})}),n.alerts&&e(Y,{children:[e("span",{className:"title",children:"Alerts"}),e("table",{children:[e("thead",{children:e("tr",{children:[e("th",{className:"vm-col-small",children:"Active since"}),e("th",{className:"vm-col-small",children:"Value"}),e("th",{children:"Labels"})]})}),e("tbody",{children:n.alerts.map(i=>e("tr",{id:`alert-${i.id}`,onClick:r(i.source),children:[e("td",{className:"vm-col-small",children:O().to(O(i.activeAt))}),e("td",{className:"vm-col-small",children:e("div",{className:`vm-badge ${i.state}`,children:i.value})}),e("td",{className:"vm-badge-container",children:Object.entries(i.labels||{}).map(([l,c])=>e("span",{className:"vm-badge",children:`${l}: ${c}`},l))})]},i.id))})]})]})]})},`rule-${n.id}`)})},Ft=(t,n)=>{if(t==="All")return[];const o=new Set(n);return o.has(t)?o.delete(t):o.add(t),Array.from(o)},zl=se("rule_types",""),Fl=zl.split("&").filter(t=>t),Hl=se("states",""),Vl=Hl.split("&").filter(t=>t),$l=se("q",""),Fn=({ruleTypeFilter:t})=>{const{groups:n,isLoading:o,error:a}=Il({ruleTypeFilter:t}),[r,s]=A(new Set),[i,l]=A(new Set),[c,d]=A($l),[u,m]=A(Fl),[h,g]=A(Vl);Ll({rule_types:u.join("&"),states:h.join("&")});const{hash:p}=Ae(),v=E(()=>o,[o]),_=E(()=>a,[a]);!v&&n&&p&&!_&&x(()=>{const T=document.querySelector(p);if(T){let R=T.closest("details");for(;R;)R.open=!0,R=R.parentElement.closest("details");T.scrollIntoView()}},[p]);const b=T=>{d(T||"")},f=V(T=>R=>{s(F=>{const z=new Set(F);return R?z.add(T):z.delete(T),z})},[]),k=V(T=>R=>{l(F=>{const z=new Set(F);return R?z.add(T):z.delete(T),z})},[]),S=new Set,N=new Set,y=[],C=T=>{let R=T.state||"ok";return!T.lastSamples&&!T.lastSeriesFetched?R="no match":T.health!="ok"&&(R="unhealthy"),R},w=new RegExp(c,"i");n.forEach(T=>{const R=[],F={};if(T.rules.forEach(z=>{const K=z.type.charAt(0).toUpperCase()+z.type.slice(1);if(S.add(K),u?.length&&!u.includes(K))return;const U=C(z),Z=U.charAt(0).toUpperCase()+U.slice(1);N.add(Z),!(h?.length&&!h.includes(Z))&&(c&&!w.test(z.name)&&!w.test(T.name)||(R.push(z),!(U!=="no match"&&U!=="unhealthy"&&U!=="firing")&&(Z in F?F[Z]++:F[Z]=1)))}),R.length){const z=Object.assign({},T);z.rules=R,z.states=F,y.push(z)}});const L=T=>{g(Ft(T,h))},M=T=>{m(Ft(T,u))};let P="No rules found!";return t==="alert"?P="No alerting rules found!":t==="record"&&(P="No recording rules found!"),e("div",{className:"vm-explore-alerts",children:[e(Pl,{ruleTypeFilter:t,ruleTypes:u,allRuleTypes:Array.from(S),states:h,allStates:Array.from(N),onChangeRuleTypes:M,onChangeStates:L,onChangeSearch:b}),v&&e(Ro,{}),_&&e(ge,{variant:"error",children:_}),!y.length&&e(ge,{variant:"info",children:P}),e("div",{className:"vm-explore-alerts-body",children:y.map(T=>e("div",{className:"vm-explore-alert-group vm-block vm-block_empty-padding",id:`group-${T.id}`,children:e(Xe,{defaultExpanded:r.has(T.id),onChange:f(T.id),title:e(Ol,{group:T}),children:e("div",{className:"vm-explore-alerts-rules",children:T.rules.map(R=>e(Dl,{rule:R,expandRules:i,onRulesChange:k(R.id),state:C(R)},`rule-${R.id}`))})},`group-${T.id}`)},T.id))})]})},Bl=()=>{const{serverUrl:t}=ee(),[n,o]=A([]),[a,r]=A(!1),[s,i]=A(),l=E(()=>Ml(t),[t]);return x(()=>{(async()=>{r(!0);try{const d=await fetch(l),u=await d.json();if(d.ok){const m=u.data.notifiers||[];o(m.sort((h,g)=>h.kind.localeCompare(g.kind))),i(void 0)}else i(`${u.errorType}\r
${u?.error}`)}catch(d){d instanceof Error&&i(`${d.name}: ${d.message}`)}r(!1)})().catch(console.error)},[l]),{notifiers:n,isLoading:a,error:s}},Ul=({kinds:t,allKinds:n,onChangeKinds:o,onChangeSearch:a})=>{const{isMobile:r}=G();return e(Y,{children:e("div",{className:I({"vm-explore-alerts-header":!0,"vm-explore-alerts-header_mobile":r,"vm-block":!0,"vm-block_mobile":r}),children:[e("div",{className:"vm-explore-alerts-header__rule_type",children:e(Me,{value:t,list:n,label:"Notifier type",placeholder:"Please select notifier type",onChange:o,autofocus:!!t.length&&!r,includeAll:!0,searchable:!0})}),e("div",{className:"vm-explore-alerts-header-search",children:e(Ce,{label:"Search",placeholder:"Fitler by kind, address or labels",startIcon:e(Qt,{}),onChange:a})})]})})},Yl=({notifier:t})=>{const{isMobile:n}=G();return e("div",{className:I({"vm-explore-alerts-notifier-header":!0,"vm-explore-alerts-notifier-header_mobile":n}),children:e("div",{className:"vm-explore-alerts-notifier-header__name",children:t.kind})})},jl=({targets:t})=>e("div",{className:"vm-explore-alerts-notifier",children:e("table",{children:[e("thead",{children:e("tr",{children:[e("th",{className:"vm-col-small",children:"Address"}),e("th",{children:"Labels"})]})}),e("tbody",{children:t.map(n=>e("tr",{children:[e("td",{className:"vm-col-small",children:n.address}),e("td",{className:"vm-badge-container",children:Object.entries(n.labels||{}).map(([o,a])=>e("span",{className:"vm-badge",children:`${o}: ${a}`},o))})]},n.address))})]})}),ql=se("kinds",""),Gl=ql.split("&").filter(t=>t),Wl=se("q",""),Kl=()=>{const{notifiers:t,isLoading:n,error:o}=Bl(),[a,r]=A(new Set),[s,i]=A(Wl),[l,c]=A(Gl);Tl({kinds:l.join("&")});const{hash:d}=Ae(),u=E(()=>n,[n]),m=E(()=>o,[o]);x(()=>{if(u||!t||!d||m)return;const f=document.querySelector(d);if(!f)return;let k=f.closest("details");for(;k;)k.open=!0,k=k.parentElement.closest("details");f.scrollIntoView()},[d]);const h=f=>{i(f||"")},g=V(f=>k=>{r(S=>{const N=new Set(S);return k?N.add(f):N.delete(f),N})},[]),p=new Set,v=[],_=new RegExp(s,"i");t.forEach(f=>{const k=[];if((f.targets||[]).forEach(N=>{p.add(f.kind),!(l?.length&&!l.includes(f.kind))&&(s&&!_.test(N.address)&&!_.test(f.kind)||k.push(N))}),k.length){const N=Object.assign({},f);N.targets=k,v.push(N)}});const b=f=>{c(Ft(f,l))};return e("div",{className:"vm-explore-alerts",children:[e(Ul,{kinds:l,allKinds:Array.from(p),onChangeKinds:b,onChangeSearch:h}),u&&e(Ro,{}),m&&e(ge,{variant:"error",children:m}),!v.length&&e(ge,{variant:"info",children:"No notifiers found!"}),e("div",{className:"vm-explore-alerts-body",children:v.map(f=>e("div",{className:"vm-explore-alert-group vm-block vm-block_empty-padding",id:`notifier-${f.kind}`,children:e(Xe,{defaultExpanded:a.has(f.kind),onChange:g(f.kind),title:e(Yl,{notifier:f}),children:e(jl,{targets:f.targets})},`notifier-${f.kind}`)},f.kind))})]})};function Ql(t){const{emojis:n}=t;if(!n)throw new Error("Must provide emojis to markedEmoji");const o=Object.keys(n).map(s=>s.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")).join("|");if(o.length===0)throw new Error("Emoji list is empty; provide at least one emoji.");const a=new RegExp(`:(${o}):`),r=new RegExp(`^${a.source}`);return{extensions:[{name:"emoji",level:"inline",start(s){return s.match(a)?.index},tokenizer(s){const i=r.exec(s);if(!i)return;const l=i[1],c=n[l];if(c)return{type:"emoji",raw:i[0],name:l,emoji:c}},renderer(s){return t.renderer(s)}}]}}const Zl={100:"",1234:"",grinning:"",smiley:"",smile:"",grin:"",laughing:"",satisfied:"",sweat_smile:"",rofl:"",joy:"",slightly_smiling_face:"",upside_down_face:"",melting_face:"",wink:"",blush:"",innocent:"",smiling_face_with_three_hearts:"",heart_eyes:"",star_struck:"",kissing_heart:"",kissing:"",relaxed:"",kissing_closed_eyes:"",kissing_smiling_eyes:"",smiling_face_with_tear:"",yum:"",stuck_out_tongue:"",stuck_out_tongue_winking_eye:"",zany_face:"",stuck_out_tongue_closed_eyes:"",money_mouth_face:"",hugs:"",hand_over_mouth:"",face_with_open_eyes_and_hand_over_mouth:"",face_with_peeking_eye:"",shushing_face:"",thinking:"",saluting_face:"",zipper_mouth_face:"",raised_eyebrow:"",neutral_face:"",expressionless:"",no_mouth:"",dotted_line_face:"",face_in_clouds:"",smirk:"",unamused:"",roll_eyes:"",grimacing:"",face_exhaling:"",lying_face:"",shaking_face:"",relieved:"",pensive:"",sleepy:"",drooling_face:"",sleeping:"",mask:"",face_with_thermometer:"",face_with_head_bandage:"",nauseated_face:"",vomiting_face:"",sneezing_face:"",hot_face:"",cold_face:"",woozy_face:"",dizzy_face:"",face_with_spiral_eyes:"",exploding_head:"",cowboy_hat_face:"",partying_face:"",disguised_face:"",sunglasses:"",nerd_face:"",monocle_face:"",confused:"",face_with_diagonal_mouth:"",worried:"",slightly_frowning_face:"",frowning_face:"",open_mouth:"",hushed:"",astonished:"",flushed:"",pleading_face:"",face_holding_back_tears:"",frowning:"",anguished:"",fearful:"",cold_sweat:"",disappointed_relieved:"",cry:"",sob:"",scream:"",confounded:"",persevere:"",disappointed:"",sweat:"",weary:"",tired_face:"",yawning_face:"",triumph:"",rage:"",pout:"",angry:"",cursing_face:"",smiling_imp:"",imp:"",skull:"",skull_and_crossbones:"",hankey:"",poop:"",shit:"",clown_face:"",japanese_ogre:"",japanese_goblin:"",ghost:"",alien:"",space_invader:"",robot:"",smiley_cat:"",smile_cat:"",joy_cat:"",heart_eyes_cat:"",smirk_cat:"",kissing_cat:"",scream_cat:"",crying_cat_face:"",pouting_cat:"",see_no_evil:"",hear_no_evil:"",speak_no_evil:"",love_letter:"",cupid:"",gift_heart:"",sparkling_heart:"",heartpulse:"",heartbeat:"",revolving_hearts:"",two_hearts:"",heart_decoration:"",heavy_heart_exclamation:"",broken_heart:"",heart_on_fire:"",mending_heart:"",heart:"",pink_heart:"",orange_heart:"",yellow_heart:"",green_heart:"",blue_heart:"",light_blue_heart:"",purple_heart:"",brown_heart:"",black_heart:"",grey_heart:"",white_heart:"",kiss:"",anger:"",boom:"",collision:"",dizzy:"",sweat_drops:"",dash:"",hole:"",speech_balloon:"",eye_speech_bubble:"",left_speech_bubble:"",right_anger_bubble:"",thought_balloon:"",zzz:"",wave:"",raised_back_of_hand:"",raised_hand_with_fingers_splayed:"",hand:"",raised_hand:"",vulcan_salute:"",rightwards_hand:"",leftwards_hand:"",palm_down_hand:"",palm_up_hand:"",leftwards_pushing_hand:"",rightwards_pushing_hand:"",ok_hand:"",pinched_fingers:"",pinching_hand:"",v:"",crossed_fingers:"",hand_with_index_finger_and_thumb_crossed:"",love_you_gesture:"",metal:"",call_me_hand:"",point_left:"",point_right:"",point_up_2:"",middle_finger:"",fu:"",point_down:"",point_up:"",index_pointing_at_the_viewer:"","+1":"",thumbsup:"","-1":"",thumbsdown:"",fist_raised:"",fist:"",fist_oncoming:"",facepunch:"",punch:"",fist_left:"",fist_right:"",clap:"",raised_hands:"",heart_hands:"",open_hands:"",palms_up_together:"",handshake:"",pray:"",writing_hand:"",nail_care:"",selfie:"",muscle:"",mechanical_arm:"",mechanical_leg:"",leg:"",foot:"",ear:"",ear_with_hearing_aid:"",nose:"",brain:"",anatomical_heart:"",lungs:"",tooth:"",bone:"",eyes:"",eye:"",tongue:"",lips:"",biting_lip:"",baby:"",child:"",boy:"",girl:"",adult:"",blond_haired_person:"",man:"",bearded_person:"",man_beard:"",woman_beard:"",red_haired_man:"",curly_haired_man:"",white_haired_man:"",bald_man:"",woman:"",red_haired_woman:"",person_red_hair:"",curly_haired_woman:"",person_curly_hair:"",white_haired_woman:"",person_white_hair:"",bald_woman:"",person_bald:"",blond_haired_woman:"",blonde_woman:"",blond_haired_man:"",older_adult:"",older_man:"",older_woman:"",frowning_person:"",frowning_man:"",frowning_woman:"",pouting_face:"",pouting_man:"",pouting_woman:"",no_good:"",no_good_man:"",ng_man:"",no_good_woman:"",ng_woman:"",ok_person:"",ok_man:"",ok_woman:"",tipping_hand_person:"",information_desk_person:"",tipping_hand_man:"",sassy_man:"",tipping_hand_woman:"",sassy_woman:"",raising_hand:"",raising_hand_man:"",raising_hand_woman:"",deaf_person:"",deaf_man:"",deaf_woman:"",bow:"",bowing_man:"",bowing_woman:"",facepalm:"",man_facepalming:"",woman_facepalming:"",shrug:"",man_shrugging:"",woman_shrugging:"",health_worker:"",man_health_worker:"",woman_health_worker:"",student:"",man_student:"",woman_student:"",teacher:"",man_teacher:"",woman_teacher:"",judge:"",man_judge:"",woman_judge:"",farmer:"",man_farmer:"",woman_farmer:"",cook:"",man_cook:"",woman_cook:"",mechanic:"",man_mechanic:"",woman_mechanic:"",factory_worker:"",man_factory_worker:"",woman_factory_worker:"",office_worker:"",man_office_worker:"",woman_office_worker:"",scientist:"",man_scientist:"",woman_scientist:"",technologist:"",man_technologist:"",woman_technologist:"",singer:"",man_singer:"",woman_singer:"",artist:"",man_artist:"",woman_artist:"",pilot:"",man_pilot:"",woman_pilot:"",astronaut:"",man_astronaut:"",woman_astronaut:"",firefighter:"",man_firefighter:"",woman_firefighter:"",police_officer:"",cop:"",policeman:"",policewoman:"",detective:"",male_detective:"",female_detective:"",guard:"",guardsman:"",guardswoman:"",ninja:"",construction_worker:"",construction_worker_man:"",construction_worker_woman:"",person_with_crown:"",prince:"",princess:"",person_with_turban:"",man_with_turban:"",woman_with_turban:"",man_with_gua_pi_mao:"",woman_with_headscarf:"",person_in_tuxedo:"",man_in_tuxedo:"",woman_in_tuxedo:"",person_with_veil:"",man_with_veil:"",woman_with_veil:"",bride_with_veil:"",pregnant_woman:"",pregnant_man:"",pregnant_person:"",breast_feeding:"",woman_feeding_baby:"",man_feeding_baby:"",person_feeding_baby:"",angel:"",santa:"",mrs_claus:"",mx_claus:"",superhero:"",superhero_man:"",superhero_woman:"",supervillain:"",supervillain_man:"",supervillain_woman:"",mage:"",mage_man:"",mage_woman:"",fairy:"",fairy_man:"",fairy_woman:"",vampire:"",vampire_man:"",vampire_woman:"",merperson:"",merman:"",mermaid:"",elf:"",elf_man:"",elf_woman:"",genie:"",genie_man:"",genie_woman:"",zombie:"",zombie_man:"",zombie_woman:"",troll:"",massage:"",massage_man:"",massage_woman:"",haircut:"",haircut_man:"",haircut_woman:"",walking:"",walking_man:"",walking_woman:"",standing_person:"",standing_man:"",standing_woman:"",kneeling_person:"",kneeling_man:"",kneeling_woman:"",person_with_probing_cane:"",man_with_probing_cane:"",woman_with_probing_cane:"",person_in_motorized_wheelchair:"",man_in_motorized_wheelchair:"",woman_in_motorized_wheelchair:"",person_in_manual_wheelchair:"",man_in_manual_wheelchair:"",woman_in_manual_wheelchair:"",runner:"",running:"",running_man:"",running_woman:"",woman_dancing:"",dancer:"",man_dancing:"",business_suit_levitating:"",dancers:"",dancing_men:"",dancing_women:"",sauna_person:"",sauna_man:"",sauna_woman:"",climbing:"",climbing_man:"",climbing_woman:"",person_fencing:"",horse_racing:"",skier:"",snowboarder:"",golfing:"",golfing_man:"",golfing_woman:"",surfer:"",surfing_man:"",surfing_woman:"",rowboat:"",rowing_man:"",rowing_woman:"",swimmer:"",swimming_man:"",swimming_woman:"",bouncing_ball_person:"",bouncing_ball_man:"",basketball_man:"",bouncing_ball_woman:"",basketball_woman:"",weight_lifting:"",weight_lifting_man:"",weight_lifting_woman:"",bicyclist:"",biking_man:"",biking_woman:"",mountain_bicyclist:"",mountain_biking_man:"",mountain_biking_woman:"",cartwheeling:"",man_cartwheeling:"",woman_cartwheeling:"",wrestling:"",men_wrestling:"",women_wrestling:"",water_polo:"",man_playing_water_polo:"",woman_playing_water_polo:"",handball_person:"",man_playing_handball:"",woman_playing_handball:"",juggling_person:"",man_juggling:"",woman_juggling:"",lotus_position:"",lotus_position_man:"",lotus_position_woman:"",bath:"",sleeping_bed:"",people_holding_hands:"",two_women_holding_hands:"",couple:"",two_men_holding_hands:"",couplekiss:"",couplekiss_man_woman:"",couplekiss_man_man:"",couplekiss_woman_woman:"",couple_with_heart:"",couple_with_heart_woman_man:"",couple_with_heart_man_man:"",couple_with_heart_woman_woman:"",family:"",family_man_woman_boy:"",family_man_woman_girl:"",family_man_woman_girl_boy:"",family_man_woman_boy_boy:"",family_man_woman_girl_girl:"",family_man_man_boy:"",family_man_man_girl:"",family_man_man_girl_boy:"",family_man_man_boy_boy:"",family_man_man_girl_girl:"",family_woman_woman_boy:"",family_woman_woman_girl:"",family_woman_woman_girl_boy:"",family_woman_woman_boy_boy:"",family_woman_woman_girl_girl:"",family_man_boy:"",family_man_boy_boy:"",family_man_girl:"",family_man_girl_boy:"",family_man_girl_girl:"",family_woman_boy:"",family_woman_boy_boy:"",family_woman_girl:"",family_woman_girl_boy:"",family_woman_girl_girl:"",speaking_head:"",bust_in_silhouette:"",busts_in_silhouette:"",people_hugging:"",footprints:"",monkey_face:"",monkey:"",gorilla:"",orangutan:"",dog:"",dog2:"",guide_dog:"",service_dog:"",poodle:"",wolf:"",fox_face:"",raccoon:"",cat:"",cat2:"",black_cat:"",lion:"",tiger:"",tiger2:"",leopard:"",horse:"",moose:"",donkey:"",racehorse:"",unicorn:"",zebra:"",deer:"",bison:"",cow:"",ox:"",water_buffalo:"",cow2:"",pig:"",pig2:"",boar:"",pig_nose:"",ram:"",sheep:"",goat:"",dromedary_camel:"",camel:"",llama:"",giraffe:"",elephant:"",mammoth:"",rhinoceros:"",hippopotamus:"",mouse:"",mouse2:"",rat:"",hamster:"",rabbit:"",rabbit2:"",chipmunk:"",beaver:"",hedgehog:"",bat:"",bear:"",polar_bear:"",koala:"",panda_face:"",sloth:"",otter:"",skunk:"",kangaroo:"",badger:"",feet:"",paw_prints:"",turkey:"",chicken:"",rooster:"",hatching_chick:"",baby_chick:"",hatched_chick:"",bird:"",penguin:"",dove:"",eagle:"",duck:"",swan:"",owl:"",dodo:"",feather:"",flamingo:"",peacock:"",parrot:"",wing:"",black_bird:"",goose:"",frog:"",crocodile:"",turtle:"",lizard:"",snake:"",dragon_face:"",dragon:"",sauropod:"","t-rex":"",whale:"",whale2:"",dolphin:"",flipper:"",seal:"",fish:"",tropical_fish:"",blowfish:"",shark:"",octopus:"",shell:"",coral:"",jellyfish:"",snail:"",butterfly:"",bug:"",ant:"",bee:"",honeybee:"",beetle:"",lady_beetle:"",cricket:"",cockroach:"",spider:"",spider_web:"",scorpion:"",mosquito:"",fly:"",worm:"",microbe:"",bouquet:"",cherry_blossom:"",white_flower:"",lotus:"",rosette:"",rose:"",wilted_flower:"",hibiscus:"",sunflower:"",blossom:"",tulip:"",hyacinth:"",seedling:"",potted_plant:"",evergreen_tree:"",deciduous_tree:"",palm_tree:"",cactus:"",ear_of_rice:"",herb:"",shamrock:"",four_leaf_clover:"",maple_leaf:"",fallen_leaf:"",leaves:"",empty_nest:"",nest_with_eggs:"",mushroom:"",grapes:"",melon:"",watermelon:"",tangerine:"",orange:"",mandarin:"",lemon:"",banana:"",pineapple:"",mango:"",apple:"",green_apple:"",pear:"",peach:"",cherries:"",strawberry:"",blueberries:"",kiwi_fruit:"",tomato:"",olive:"",coconut:"",avocado:"",eggplant:"",potato:"",carrot:"",corn:"",hot_pepper:"",bell_pepper:"",cucumber:"",leafy_green:"",broccoli:"",garlic:"",onion:"",peanuts:"",beans:"",chestnut:"",ginger_root:"",pea_pod:"",bread:"",croissant:"",baguette_bread:"",flatbread:"",pretzel:"",bagel:"",pancakes:"",waffle:"",cheese:"",meat_on_bone:"",poultry_leg:"",cut_of_meat:"",bacon:"",hamburger:"",fries:"",pizza:"",hotdog:"",sandwich:"",taco:"",burrito:"",tamale:"",stuffed_flatbread:"",falafel:"",egg:"",fried_egg:"",shallow_pan_of_food:"",stew:"",fondue:"",bowl_with_spoon:"",green_salad:"",popcorn:"",butter:"",salt:"",canned_food:"",bento:"",rice_cracker:"",rice_ball:"",rice:"",curry:"",ramen:"",spaghetti:"",sweet_potato:"",oden:"",sushi:"",fried_shrimp:"",fish_cake:"",moon_cake:"",dango:"",dumpling:"",fortune_cookie:"",takeout_box:"",crab:"",lobster:"",shrimp:"",squid:"",oyster:"",icecream:"",shaved_ice:"",ice_cream:"",doughnut:"",cookie:"",birthday:"",cake:"",cupcake:"",pie:"",chocolate_bar:"",candy:"",lollipop:"",custard:"",honey_pot:"",baby_bottle:"",milk_glass:"",coffee:"",teapot:"",tea:"",sake:"",champagne:"",wine_glass:"",cocktail:"",tropical_drink:"",beer:"",beers:"",clinking_glasses:"",tumbler_glass:"",pouring_liquid:"",cup_with_straw:"",bubble_tea:"",beverage_box:"",mate:"",ice_cube:"",chopsticks:"",plate_with_cutlery:"",fork_and_knife:"",spoon:"",hocho:"",knife:"",jar:"",amphora:"",earth_africa:"",earth_americas:"",earth_asia:"",globe_with_meridians:"",world_map:"",japan:"",compass:"",mountain_snow:"",mountain:"",volcano:"",mount_fuji:"",camping:"",beach_umbrella:"",desert:"",desert_island:"",national_park:"",stadium:"",classical_building:"",building_construction:"",bricks:"",rock:"",wood:"",hut:"",houses:"",derelict_house:"",house:"",house_with_garden:"",office:"",post_office:"",european_post_office:"",hospital:"",bank:"",hotel:"",love_hotel:"",convenience_store:"",school:"",department_store:"",factory:"",japanese_castle:"",european_castle:"",wedding:"",tokyo_tower:"",statue_of_liberty:"",church:"",mosque:"",hindu_temple:"",synagogue:"",shinto_shrine:"",kaaba:"",fountain:"",tent:"",foggy:"",night_with_stars:"",cityscape:"",sunrise_over_mountains:"",sunrise:"",city_sunset:"",city_sunrise:"",bridge_at_night:"",hotsprings:"",carousel_horse:"",playground_slide:"",ferris_wheel:"",roller_coaster:"",barber:"",circus_tent:"",steam_locomotive:"",railway_car:"",bullettrain_side:"",bullettrain_front:"",train2:"",metro:"",light_rail:"",station:"",tram:"",monorail:"",mountain_railway:"",train:"",bus:"",oncoming_bus:"",trolleybus:"",minibus:"",ambulance:"",fire_engine:"",police_car:"",oncoming_police_car:"",taxi:"",oncoming_taxi:"",car:"",red_car:"",oncoming_automobile:"",blue_car:"",pickup_truck:"",truck:"",articulated_lorry:"",tractor:"",racing_car:"",motorcycle:"",motor_scooter:"",manual_wheelchair:"",motorized_wheelchair:"",auto_rickshaw:"",bike:"",kick_scooter:"",skateboard:"",roller_skate:"",busstop:"",motorway:"",railway_track:"",oil_drum:"",fuelpump:"",wheel:"",rotating_light:"",traffic_light:"",vertical_traffic_light:"",stop_sign:"",construction:"",anchor:"",ring_buoy:"",boat:"",sailboat:"",canoe:"",speedboat:"",passenger_ship:"",ferry:"",motor_boat:"",ship:"",airplane:"",small_airplane:"",flight_departure:"",flight_arrival:"",parachute:"",seat:"",helicopter:"",suspension_railway:"",mountain_cableway:"",aerial_tramway:"",artificial_satellite:"",rocket:"",flying_saucer:"",bellhop_bell:"",luggage:"",hourglass:"",hourglass_flowing_sand:"",watch:"",alarm_clock:"",stopwatch:"",timer_clock:"",mantelpiece_clock:"",clock12:"",clock1230:"",clock1:"",clock130:"",clock2:"",clock230:"",clock3:"",clock330:"",clock4:"",clock430:"",clock5:"",clock530:"",clock6:"",clock630:"",clock7:"",clock730:"",clock8:"",clock830:"",clock9:"",clock930:"",clock10:"",clock1030:"",clock11:"",clock1130:"",new_moon:"",waxing_crescent_moon:"",first_quarter_moon:"",moon:"",waxing_gibbous_moon:"",full_moon:"",waning_gibbous_moon:"",last_quarter_moon:"",waning_crescent_moon:"",crescent_moon:"",new_moon_with_face:"",first_quarter_moon_with_face:"",last_quarter_moon_with_face:"",thermometer:"",sunny:"",full_moon_with_face:"",sun_with_face:"",ringed_planet:"",star:"",star2:"",stars:"",milky_way:"",cloud:"",partly_sunny:"",cloud_with_lightning_and_rain:"",sun_behind_small_cloud:"",sun_behind_large_cloud:"",sun_behind_rain_cloud:"",cloud_with_rain:"",cloud_with_snow:"",cloud_with_lightning:"",tornado:"",fog:"",wind_face:"",cyclone:"",rainbow:"",closed_umbrella:"",open_umbrella:"",umbrella:"",parasol_on_ground:"",zap:"",snowflake:"",snowman_with_snow:"",snowman:"",comet:"",fire:"",droplet:"",ocean:"",jack_o_lantern:"",christmas_tree:"",fireworks:"",sparkler:"",firecracker:"",sparkles:"",balloon:"",tada:"",confetti_ball:"",tanabata_tree:"",bamboo:"",dolls:"",flags:"",wind_chime:"",rice_scene:"",red_envelope:"",ribbon:"",gift:"",reminder_ribbon:"",tickets:"",ticket:"",medal_military:"",trophy:"",medal_sports:"","1st_place_medal":"","2nd_place_medal":"","3rd_place_medal":"",soccer:"",baseball:"",softball:"",basketball:"",volleyball:"",football:"",rugby_football:"",tennis:"",flying_disc:"",bowling:"",cricket_game:"",field_hockey:"",ice_hockey:"",lacrosse:"",ping_pong:"",badminton:"",boxing_glove:"",martial_arts_uniform:"",goal_net:"",golf:"",ice_skate:"",fishing_pole_and_fish:"",diving_mask:"",running_shirt_with_sash:"",ski:"",sled:"",curling_stone:"",dart:"",yo_yo:"",kite:"",gun:"","8ball":"",crystal_ball:"",magic_wand:"",video_game:"",joystick:"",slot_machine:"",game_die:"",jigsaw:"",teddy_bear:"",pinata:"",mirror_ball:"",nesting_dolls:"",spades:"",hearts:"",diamonds:"",clubs:"",chess_pawn:"",black_joker:"",mahjong:"",flower_playing_cards:"",performing_arts:"",framed_picture:"",art:"",thread:"",sewing_needle:"",yarn:"",knot:"",eyeglasses:"",dark_sunglasses:"",goggles:"",lab_coat:"",safety_vest:"",necktie:"",shirt:"",tshirt:"",jeans:"",scarf:"",gloves:"",coat:"",socks:"",dress:"",kimono:"",sari:"",one_piece_swimsuit:"",swim_brief:"",shorts:"",bikini:"",womans_clothes:"",folding_hand_fan:"",purse:"",handbag:"",pouch:"",shopping:"",school_satchel:"",thong_sandal:"",mans_shoe:"",shoe:"",athletic_shoe:"",hiking_boot:"",flat_shoe:"",high_heel:"",sandal:"",ballet_shoes:"",boot:"",hair_pick:"",crown:"",womans_hat:"",tophat:"",mortar_board:"",billed_cap:"",military_helmet:"",rescue_worker_helmet:"",prayer_beads:"",lipstick:"",ring:"",gem:"",mute:"",speaker:"",sound:"",loud_sound:"",loudspeaker:"",mega:"",postal_horn:"",bell:"",no_bell:"",musical_score:"",musical_note:"",notes:"",studio_microphone:"",level_slider:"",control_knobs:"",microphone:"",headphones:"",radio:"",saxophone:"",accordion:"",guitar:"",musical_keyboard:"",trumpet:"",violin:"",banjo:"",drum:"",long_drum:"",maracas:"",flute:"",iphone:"",calling:"",phone:"",telephone:"",telephone_receiver:"",pager:"",fax:"",battery:"",low_battery:"",electric_plug:"",computer:"",desktop_computer:"",printer:"",keyboard:"",computer_mouse:"",trackball:"",minidisc:"",floppy_disk:"",cd:"",dvd:"",abacus:"",movie_camera:"",film_strip:"",film_projector:"",clapper:"",tv:"",camera:"",camera_flash:"",video_camera:"",vhs:"",mag:"",mag_right:"",candle:"",bulb:"",flashlight:"",izakaya_lantern:"",lantern:"",diya_lamp:"",notebook_with_decorative_cover:"",closed_book:"",book:"",open_book:"",green_book:"",blue_book:"",orange_book:"",books:"",notebook:"",ledger:"",page_with_curl:"",scroll:"",page_facing_up:"",newspaper:"",newspaper_roll:"",bookmark_tabs:"",bookmark:"",label:"",moneybag:"",coin:"",yen:"",dollar:"",euro:"",pound:"",money_with_wings:"",credit_card:"",receipt:"",chart:"",envelope:"",email:"","e-mail":"",incoming_envelope:"",envelope_with_arrow:"",outbox_tray:"",inbox_tray:"",package:"",mailbox:"",mailbox_closed:"",mailbox_with_mail:"",mailbox_with_no_mail:"",postbox:"",ballot_box:"",pencil2:"",black_nib:"",fountain_pen:"",pen:"",paintbrush:"",crayon:"",memo:"",pencil:"",briefcase:"",file_folder:"",open_file_folder:"",card_index_dividers:"",date:"",calendar:"",spiral_notepad:"",spiral_calendar:"",card_index:"",chart_with_upwards_trend:"",chart_with_downwards_trend:"",bar_chart:"",clipboard:"",pushpin:"",round_pushpin:"",paperclip:"",paperclips:"",straight_ruler:"",triangular_ruler:"",scissors:"",card_file_box:"",file_cabinet:"",wastebasket:"",lock:"",unlock:"",lock_with_ink_pen:"",closed_lock_with_key:"",key:"",old_key:"",hammer:"",axe:"",pick:"",hammer_and_pick:"",hammer_and_wrench:"",dagger:"",crossed_swords:"",bomb:"",boomerang:"",bow_and_arrow:"",shield:"",carpentry_saw:"",wrench:"",screwdriver:"",nut_and_bolt:"",gear:"",clamp:"",balance_scale:"",probing_cane:"",link:"",chains:"",hook:"",toolbox:"",magnet:"",ladder:"",alembic:"",test_tube:"",petri_dish:"",dna:"",microscope:"",telescope:"",satellite:"",syringe:"",drop_of_blood:"",pill:"",adhesive_bandage:"",crutch:"",stethoscope:"",x_ray:"",door:"",elevator:"",mirror:"",window:"",bed:"",couch_and_lamp:"",chair:"",toilet:"",plunger:"",shower:"",bathtub:"",mouse_trap:"",razor:"",lotion_bottle:"",safety_pin:"",broom:"",basket:"",roll_of_paper:"",bucket:"",soap:"",bubbles:"",toothbrush:"",sponge:"",fire_extinguisher:"",shopping_cart:"",smoking:"",coffin:"",headstone:"",funeral_urn:"",nazar_amulet:"",hamsa:"",moyai:"",placard:"",identification_card:"",atm:"",put_litter_in_its_place:"",potable_water:"",wheelchair:"",men:"",women:"",restroom:"",baby_symbol:"",wc:"",passport_control:"",customs:"",baggage_claim:"",left_luggage:"",warning:"",children_crossing:"",no_entry:"",no_entry_sign:"",no_bicycles:"",no_smoking:"",do_not_litter:"","non-potable_water":"",no_pedestrians:"",no_mobile_phones:"",underage:"",radioactive:"",biohazard:"",arrow_up:"",arrow_upper_right:"",arrow_right:"",arrow_lower_right:"",arrow_down:"",arrow_lower_left:"",arrow_left:"",arrow_upper_left:"",arrow_up_down:"",left_right_arrow:"",leftwards_arrow_with_hook:"",arrow_right_hook:"",arrow_heading_up:"",arrow_heading_down:"",arrows_clockwise:"",arrows_counterclockwise:"",back:"",end:"",on:"",soon:"",top:"",place_of_worship:"",atom_symbol:"",om:"",star_of_david:"",wheel_of_dharma:"",yin_yang:"",latin_cross:"",orthodox_cross:"",star_and_crescent:"",peace_symbol:"",menorah:"",six_pointed_star:"",khanda:"",aries:"",taurus:"",gemini:"",cancer:"",leo:"",virgo:"",libra:"",scorpius:"",sagittarius:"",capricorn:"",aquarius:"",pisces:"",ophiuchus:"",twisted_rightwards_arrows:"",repeat:"",repeat_one:"",arrow_forward:"",fast_forward:"",next_track_button:"",play_or_pause_button:"",arrow_backward:"",rewind:"",previous_track_button:"",arrow_up_small:"",arrow_double_up:"",arrow_down_small:"",arrow_double_down:"",pause_button:"",stop_button:"",record_button:"",eject_button:"",cinema:"",low_brightness:"",high_brightness:"",signal_strength:"",wireless:"",vibration_mode:"",mobile_phone_off:"",female_sign:"",male_sign:"",transgender_symbol:"",heavy_multiplication_x:"",heavy_plus_sign:"",heavy_minus_sign:"",heavy_division_sign:"",heavy_equals_sign:"",infinity:"",bangbang:"",interrobang:"",question:"",grey_question:"",grey_exclamation:"",exclamation:"",heavy_exclamation_mark:"",wavy_dash:"",currency_exchange:"",heavy_dollar_sign:"",medical_symbol:"",recycle:"",fleur_de_lis:"",trident:"",name_badge:"",beginner:"",o:"",white_check_mark:"",ballot_box_with_check:"",heavy_check_mark:"",x:"",negative_squared_cross_mark:"",curly_loop:"",loop:"",part_alternation_mark:"",eight_spoked_asterisk:"",eight_pointed_black_star:"",sparkle:"",copyright:"",registered:"",tm:"",hash:"#",asterisk:"*",zero:"0",one:"1",two:"2",three:"3",four:"4",five:"5",six:"6",seven:"7",eight:"8",nine:"9",keycap_ten:"",capital_abcd:"",abcd:"",symbols:"",abc:"",a:"",ab:"",b:"",cl:"",cool:"",free:"",information_source:"",id:"",m:"",new:"",ng:"",o2:"",ok:"",parking:"",sos:"",up:"",vs:"",koko:"",sa:"",u6708:"",u6709:"",u6307:"",ideograph_advantage:"",u5272:"",u7121:"",u7981:"",accept:"",u7533:"",u5408:"",u7a7a:"",congratulations:"",secret:"",u55b6:"",u6e80:"",red_circle:"",orange_circle:"",yellow_circle:"",green_circle:"",large_blue_circle:"",purple_circle:"",brown_circle:"",black_circle:"",white_circle:"",red_square:"",orange_square:"",yellow_square:"",green_square:"",blue_square:"",purple_square:"",brown_square:"",black_large_square:"",white_large_square:"",black_medium_square:"",white_medium_square:"",black_medium_small_square:"",white_medium_small_square:"",black_small_square:"",white_small_square:"",large_orange_diamond:"",large_blue_diamond:"",small_orange_diamond:"",small_blue_diamond:"",small_red_triangle:"",small_red_triangle_down:"",diamond_shape_with_a_dot_inside:"",radio_button:"",white_square_button:"",black_square_button:"",checkered_flag:"",triangular_flag_on_post:"",crossed_flags:"",black_flag:"",white_flag:"",rainbow_flag:"",transgender_flag:"",pirate_flag:"",ascension_island:"",andorra:"",united_arab_emirates:"",afghanistan:"",antigua_barbuda:"",anguilla:"",albania:"",armenia:"",angola:"",antarctica:"",argentina:"",american_samoa:"",austria:"",australia:"",aruba:"",aland_islands:"",azerbaijan:"",bosnia_herzegovina:"",barbados:"",bangladesh:"",belgium:"",burkina_faso:"",bulgaria:"",bahrain:"",burundi:"",benin:"",st_barthelemy:"",bermuda:"",brunei:"",bolivia:"",caribbean_netherlands:"",brazil:"",bahamas:"",bhutan:"",bouvet_island:"",botswana:"",belarus:"",belize:"",canada:"",cocos_islands:"",congo_kinshasa:"",central_african_republic:"",congo_brazzaville:"",switzerland:"",cote_divoire:"",cook_islands:"",chile:"",cameroon:"",cn:"",colombia:"",clipperton_island:"",costa_rica:"",cuba:"",cape_verde:"",curacao:"",christmas_island:"",cyprus:"",czech_republic:"",de:"",diego_garcia:"",djibouti:"",denmark:"",dominica:"",dominican_republic:"",algeria:"",ceuta_melilla:"",ecuador:"",estonia:"",egypt:"",western_sahara:"",eritrea:"",es:"",ethiopia:"",eu:"",european_union:"",finland:"",fiji:"",falkland_islands:"",micronesia:"",faroe_islands:"",fr:"",gabon:"",gb:"",uk:"",grenada:"",georgia:"",french_guiana:"",guernsey:"",ghana:"",gibraltar:"",greenland:"",gambia:"",guinea:"",guadeloupe:"",equatorial_guinea:"",greece:"",south_georgia_south_sandwich_islands:"",guatemala:"",guam:"",guinea_bissau:"",guyana:"",hong_kong:"",heard_mcdonald_islands:"",honduras:"",croatia:"",haiti:"",hungary:"",canary_islands:"",indonesia:"",ireland:"",israel:"",isle_of_man:"",india:"",british_indian_ocean_territory:"",iraq:"",iran:"",iceland:"",it:"",jersey:"",jamaica:"",jordan:"",jp:"",kenya:"",kyrgyzstan:"",cambodia:"",kiribati:"",comoros:"",st_kitts_nevis:"",north_korea:"",kr:"",kuwait:"",cayman_islands:"",kazakhstan:"",laos:"",lebanon:"",st_lucia:"",liechtenstein:"",sri_lanka:"",liberia:"",lesotho:"",lithuania:"",luxembourg:"",latvia:"",libya:"",morocco:"",monaco:"",moldova:"",montenegro:"",st_martin:"",madagascar:"",marshall_islands:"",macedonia:"",mali:"",myanmar:"",mongolia:"",macau:"",northern_mariana_islands:"",martinique:"",mauritania:"",montserrat:"",malta:"",mauritius:"",maldives:"",malawi:"",mexico:"",malaysia:"",mozambique:"",namibia:"",new_caledonia:"",niger:"",norfolk_island:"",nigeria:"",nicaragua:"",netherlands:"",norway:"",nepal:"",nauru:"",niue:"",new_zealand:"",oman:"",panama:"",peru:"",french_polynesia:"",papua_new_guinea:"",philippines:"",pakistan:"",poland:"",st_pierre_miquelon:"",pitcairn_islands:"",puerto_rico:"",palestinian_territories:"",portugal:"",palau:"",paraguay:"",qatar:"",reunion:"",romania:"",serbia:"",ru:"",rwanda:"",saudi_arabia:"",solomon_islands:"",seychelles:"",sudan:"",sweden:"",singapore:"",st_helena:"",slovenia:"",svalbard_jan_mayen:"",slovakia:"",sierra_leone:"",san_marino:"",senegal:"",somalia:"",suriname:"",south_sudan:"",sao_tome_principe:"",el_salvador:"",sint_maarten:"",syria:"",swaziland:"",tristan_da_cunha:"",turks_caicos_islands:"",chad:"",french_southern_territories:"",togo:"",thailand:"",tajikistan:"",tokelau:"",timor_leste:"",turkmenistan:"",tunisia:"",tonga:"",tr:"",trinidad_tobago:"",tuvalu:"",taiwan:"",tanzania:"",ukraine:"",uganda:"",us_outlying_islands:"",united_nations:"",us:"",uruguay:"",uzbekistan:"",vatican_city:"",st_vincent_grenadines:"",venezuela:"",british_virgin_islands:"",us_virgin_islands:"",vietnam:"",vanuatu:"",wallis_futuna:"",samoa:"",kosovo:"",yemen:"",mayotte:"",south_africa:"",zambia:"",zimbabwe:"",england:"",scotland:"",wales:"",large_purple_circle:""};$n.use(Ql({emojis:Zl,renderer:t=>t.emoji}));const Jl=()=>{const[t,n]=A(!1);return e(Y,{children:e(Go,{children:e(vr,{children:e(Y,{children:[e(kr,{onLoaded:n}),t&&e(Wo,{children:e(Ve,{path:"/",element:e(xl,{}),children:[e(Ve,{path:"/",element:e(Gi,{})}),e(Ve,{path:ae.rules,element:e(Fn,{ruleTypeFilter:""})}),e(Ve,{path:ae.alerts,element:e(Fn,{ruleTypeFilter:"alert"})}),e(Ve,{path:ae.notifiers,element:e(Kl,{})})]})})]})})})})},Hn=document.getElementById("root");Hn&&Ko(e(Jl,{}),Hn);
