const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./FileSystemFileHandle-lLeEq4i7.js","./config-BJNG_Aa3.js","./downloader-B69BFsAs.js"])))=>i.map(i=>d[i]);
import{d as O,t as Jr,a as Xr,u as ea,r as ta,q as na,K as Ke,h as ut,T,b as e,x as ke,A as R,y as L,c as A,e as F,k as j,N as Vo,f as J,g as It,i as z,$ as Ve,M as Ze,j as $e,l as Ot,D as Rt,L as $o,m as oa,n as Cn,o as ra,p as aa,s as Bo,_ as sa,v as qo,F as Uo,I as ia,O as la,w as ca,z as da,H as ua,R as ma,B as nt,C as ha}from"./vendor-C94UKcFU.js";(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))r(a);new MutationObserver(a=>{for(const s of a)if(s.type==="childList")for(const i of s.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&r(i)}).observe(document,{childList:!0,subtree:!0});function o(a){const s={};return a.integrity&&(s.integrity=a.integrity),a.referrerPolicy&&(s.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?s.credentials="include":a.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(a){if(a.ep)return;a.ep=!0;const s=o(a);fetch(a.href,s)}})();O.extend(Jr);O.extend(Xr);O.extend(ea);O.extend(ta);const pa="modulepreload",ga=function(t,n){return new URL(t,n).href},Zn={},Jn=function(n,o,r){let a=Promise.resolve();if(o&&o.length>0){let u=function(d){return Promise.all(d.map(h=>Promise.resolve(h).then(m=>({status:"fulfilled",value:m}),m=>({status:"rejected",reason:m}))))};const i=document.getElementsByTagName("link"),l=document.querySelector("meta[property=csp-nonce]"),c=l?.nonce||l?.getAttribute("nonce");a=u(o.map(d=>{if(d=ga(d,r),d in Zn)return;Zn[d]=!0;const h=d.endsWith(".css"),m=h?'[rel="stylesheet"]':"";if(!!r)for(let _=i.length-1;_>=0;_--){const f=i[_];if(f.href===d&&(!h||f.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${d}"]${m}`))return;const g=document.createElement("link");if(g.rel=h?"stylesheet":pa,h||(g.as="script"),g.crossOrigin="",g.href=d,c&&g.setAttribute("nonce",c),document.head.appendChild(g),h)return new Promise((_,f)=>{g.addEventListener("load",_),g.addEventListener("error",()=>f(new Error(`Unable to preload CSS for ${d}`)))})}))}function s(i){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=i,window.dispatchEvent(l),!l.defaultPrevented)throw i}return a.then(i=>{for(const l of i||[])l.status==="rejected"&&s(l.reason);return n().catch(s)})},_a=()=>window.location.href.replace(/(\/(select\/)?vmui\/.*|\/#\/.*)/,""),Xn="YYYY-MM-DD",ye="YYYY-MM-DD HH:mm:ss",kn="YYYY-MM-DD[T]HH:mm:ss",fa=50,va=500,at=1e4,Qt="vmui.logs.limit.warn.dismissed",jo=100,Nn=5,cn="Ungrouped",ve="_stream",We="_msg",Ge=`${ye}.SSS`,ne={LIMIT:"limit",GROUP_BY:"groupBy",DISPLAY_FIELDS:"displayFields",NO_WRAP_LINES:"noWrapLines",COMPACT_GROUP_HEADER:"compactGroupHeader",DATE_FORMAT:"dateFormat",ROWS_PER_PAGE:"rows_per_page"},dn=1,Yo=25,Ie=(t,n)=>{const o=window.location.hash.split("?")[1];return na.parse(o,{ignoreQueryPrefix:!0})?.[t]??n??""},ba=()=>{const n=(window.location.hash.split("?")[1]||"").match(/g\d+\.expr/g)?.length||1;return new Array(n>dn?dn:n).fill(1).map((o,r)=>Ie(`g${r}.expr`,""))},eo=(t,n,o)=>{const r=new URLSearchParams(t);if(o==="append")n.forEach((a,s)=>r.append(s,a));else for(const[a,s]of n)r.set(a,s);return r},we=(t,n)=>{n?window.localStorage.setItem(t,JSON.stringify({value:n})):ya([t]),window.dispatchEvent(new Event("storage"))},Se=t=>{const n=window.localStorage.getItem(t);if(n!==null)try{return JSON.parse(n)?.value}catch{return n}},ya=t=>t.forEach(n=>window.localStorage.removeItem(n));var _e=(t=>(t.yhat="yhat",t.yhatUpper="yhat_upper",t.yhatLower="yhat_lower",t.anomaly="vmui_anomalies_points",t.training="vmui_training_data",t.actual="actual",t.anomalyScore="anomaly_score",t))(_e||{}),un=(t=>(t.table="table",t.chart="chart",t.code="code",t))(un||{}),Go=(t=>(t.emptyServer="Please enter Server URL",t.validServer="Please provide a valid Server URL",t.validQuery="Please enter a valid Query and execute it",t.traceNotFound="Not found the tracing information",t.emptyTitle="Please enter title",t.positiveNumber="Please enter positive number",t.validStep="Please enter a valid step",t.unknownType="Unknown server response format: must have 'errorType'",t))(Go||{}),me=(t=>(t.system="system",t.light="light",t.dark="dark",t))(me||{});const xe=t=>getComputedStyle(document.documentElement).getPropertyValue(`--${t}`),Ye=(t,n)=>{document.documentElement.style.setProperty(`--${t}`,n)},xt=()=>window.matchMedia("(prefers-color-scheme: dark)").matches,wa=t=>t===me.system&&xt()||t===me.dark,Wo=t=>t.replace(/\/$/,""),Ca=Ie("g0.tenantID",""),ka={serverUrl:Wo(_a()),tenantId:Ca,theme:Se("THEME")||me.system,isDarkTheme:null,flags:{},appConfig:{}};function Na(t,n){switch(n.type){case"SET_SERVER":return{...t,serverUrl:Wo(n.payload)};case"SET_TENANT_ID":return{...t,tenantId:n.payload};case"SET_THEME":return we("THEME",n.payload),{...t,theme:n.payload};case"SET_DARK_THEME":return{...t,isDarkTheme:wa(t.theme)};case"SET_FLAGS":return{...t,flags:n.payload};case"SET_APP_CONFIG":return{...t,appConfig:n.payload};default:throw new Error}}const Sn=Ke({}),re=()=>ke(Sn).state,Qo=()=>ke(Sn).dispatch,Sa=Object.entries(ka).reduce((t,[n,o])=>({...t,[n]:Ie(n)||o}),{}),Aa=({children:t})=>{const[n,o]=ut(Na,Sa),r=T(()=>({state:n,dispatch:o}),[n,o]);return e(Sn.Provider,{value:r,children:t})},xa=["Africa/Abidjan","Africa/Accra","Africa/Addis_Ababa","Africa/Algiers","Africa/Asmera","Africa/Bamako","Africa/Bangui","Africa/Banjul","Africa/Bissau","Africa/Blantyre","Africa/Brazzaville","Africa/Bujumbura","Africa/Cairo","Africa/Casablanca","Africa/Ceuta","Africa/Conakry","Africa/Dakar","Africa/Dar_es_Salaam","Africa/Djibouti","Africa/Douala","Africa/El_Aaiun","Africa/Freetown","Africa/Gaborone","Africa/Harare","Africa/Johannesburg","Africa/Juba","Africa/Kampala","Africa/Khartoum","Africa/Kigali","Africa/Kinshasa","Africa/Lagos","Africa/Libreville","Africa/Lome","Africa/Luanda","Africa/Lubumbashi","Africa/Lusaka","Africa/Malabo","Africa/Maputo","Africa/Maseru","Africa/Mbabane","Africa/Mogadishu","Africa/Monrovia","Africa/Nairobi","Africa/Ndjamena","Africa/Niamey","Africa/Nouakchott","Africa/Ouagadougou","Africa/Porto-Novo","Africa/Sao_Tome","Africa/Tripoli","Africa/Tunis","Africa/Windhoek","America/Adak","America/Anchorage","America/Anguilla","America/Antigua","America/Araguaina","America/Argentina/La_Rioja","America/Argentina/Rio_Gallegos","America/Argentina/Salta","America/Argentina/San_Juan","America/Argentina/San_Luis","America/Argentina/Tucuman","America/Argentina/Ushuaia","America/Aruba","America/Asuncion","America/Bahia","America/Bahia_Banderas","America/Barbados","America/Belem","America/Belize","America/Blanc-Sablon","America/Boa_Vista","America/Bogota","America/Boise","America/Buenos_Aires","America/Cambridge_Bay","America/Campo_Grande","America/Cancun","America/Caracas","America/Catamarca","America/Cayenne","America/Cayman","America/Chicago","America/Chihuahua","America/Coral_Harbour","America/Cordoba","America/Costa_Rica","America/Creston","America/Cuiaba","America/Curacao","America/Danmarkshavn","America/Dawson","America/Dawson_Creek","America/Denver","America/Detroit","America/Dominica","America/Edmonton","America/Eirunepe","America/El_Salvador","America/Fort_Nelson","America/Fortaleza","America/Glace_Bay","America/Godthab","America/Goose_Bay","America/Grand_Turk","America/Grenada","America/Guadeloupe","America/Guatemala","America/Guayaquil","America/Guyana","America/Halifax","America/Havana","America/Hermosillo","America/Indiana/Knox","America/Indiana/Marengo","America/Indiana/Petersburg","America/Indiana/Tell_City","America/Indiana/Vevay","America/Indiana/Vincennes","America/Indiana/Winamac","America/Indianapolis","America/Inuvik","America/Iqaluit","America/Jamaica","America/Jujuy","America/Juneau","America/Kentucky/Monticello","America/Kralendijk","America/La_Paz","America/Lima","America/Los_Angeles","America/Louisville","America/Lower_Princes","America/Maceio","America/Managua","America/Manaus","America/Marigot","America/Martinique","America/Matamoros","America/Mazatlan","America/Mendoza","America/Menominee","America/Merida","America/Metlakatla","America/Mexico_City","America/Miquelon","America/Moncton","America/Monterrey","America/Montevideo","America/Montreal","America/Montserrat","America/Nassau","America/New_York","America/Nipigon","America/Nome","America/Noronha","America/North_Dakota/Beulah","America/North_Dakota/Center","America/North_Dakota/New_Salem","America/Ojinaga","America/Panama","America/Pangnirtung","America/Paramaribo","America/Phoenix","America/Port-au-Prince","America/Port_of_Spain","America/Porto_Velho","America/Puerto_Rico","America/Punta_Arenas","America/Rainy_River","America/Rankin_Inlet","America/Recife","America/Regina","America/Resolute","America/Rio_Branco","America/Santa_Isabel","America/Santarem","America/Santiago","America/Santo_Domingo","America/Sao_Paulo","America/Scoresbysund","America/Sitka","America/St_Barthelemy","America/St_Johns","America/St_Kitts","America/St_Lucia","America/St_Thomas","America/St_Vincent","America/Swift_Current","America/Tegucigalpa","America/Thule","America/Thunder_Bay","America/Tijuana","America/Toronto","America/Tortola","America/Vancouver","America/Whitehorse","America/Winnipeg","America/Yakutat","America/Yellowknife","Antarctica/Casey","Antarctica/Davis","Antarctica/DumontDUrville","Antarctica/Macquarie","Antarctica/Mawson","Antarctica/McMurdo","Antarctica/Palmer","Antarctica/Rothera","Antarctica/Syowa","Antarctica/Troll","Antarctica/Vostok","Arctic/Longyearbyen","Asia/Aden","Asia/Almaty","Asia/Amman","Asia/Anadyr","Asia/Aqtau","Asia/Aqtobe","Asia/Ashgabat","Asia/Atyrau","Asia/Baghdad","Asia/Bahrain","Asia/Baku","Asia/Bangkok","Asia/Barnaul","Asia/Beirut","Asia/Bishkek","Asia/Brunei","Asia/Calcutta","Asia/Chita","Asia/Choibalsan","Asia/Colombo","Asia/Damascus","Asia/Dhaka","Asia/Dili","Asia/Dubai","Asia/Dushanbe","Asia/Famagusta","Asia/Gaza","Asia/Hebron","Asia/Hong_Kong","Asia/Hovd","Asia/Irkutsk","Asia/Jakarta","Asia/Jayapura","Asia/Jerusalem","Asia/Kabul","Asia/Kamchatka","Asia/Karachi","Asia/Katmandu","Asia/Khandyga","Asia/Krasnoyarsk","Asia/Kuala_Lumpur","Asia/Kuching","Asia/Kuwait","Asia/Macau","Asia/Magadan","Asia/Makassar","Asia/Manila","Asia/Muscat","Asia/Nicosia","Asia/Novokuznetsk","Asia/Novosibirsk","Asia/Omsk","Asia/Oral","Asia/Phnom_Penh","Asia/Pontianak","Asia/Pyongyang","Asia/Qatar","Asia/Qostanay","Asia/Qyzylorda","Asia/Rangoon","Asia/Riyadh","Asia/Saigon","Asia/Sakhalin","Asia/Samarkand","Asia/Seoul","Asia/Shanghai","Asia/Singapore","Asia/Srednekolymsk","Asia/Taipei","Asia/Tashkent","Asia/Tbilisi","Asia/Tehran","Asia/Thimphu","Asia/Tokyo","Asia/Tomsk","Asia/Ulaanbaatar","Asia/Urumqi","Asia/Ust-Nera","Asia/Vientiane","Asia/Vladivostok","Asia/Yakutsk","Asia/Yekaterinburg","Asia/Yerevan","Atlantic/Azores","Atlantic/Bermuda","Atlantic/Canary","Atlantic/Cape_Verde","Atlantic/Faeroe","Atlantic/Madeira","Atlantic/Reykjavik","Atlantic/South_Georgia","Atlantic/St_Helena","Atlantic/Stanley","Australia/Adelaide","Australia/Brisbane","Australia/Broken_Hill","Australia/Currie","Australia/Darwin","Australia/Eucla","Australia/Hobart","Australia/Lindeman","Australia/Lord_Howe","Australia/Melbourne","Australia/Perth","Australia/Sydney","Europe/Amsterdam","Europe/Andorra","Europe/Astrakhan","Europe/Athens","Europe/Belgrade","Europe/Berlin","Europe/Bratislava","Europe/Brussels","Europe/Bucharest","Europe/Budapest","Europe/Busingen","Europe/Chisinau","Europe/Copenhagen","Europe/Dublin","Europe/Gibraltar","Europe/Guernsey","Europe/Helsinki","Europe/Isle_of_Man","Europe/Istanbul","Europe/Jersey","Europe/Kaliningrad","Europe/Kiev","Europe/Kirov","Europe/Lisbon","Europe/Ljubljana","Europe/London","Europe/Luxembourg","Europe/Madrid","Europe/Malta","Europe/Mariehamn","Europe/Minsk","Europe/Monaco","Europe/Moscow","Europe/Oslo","Europe/Paris","Europe/Podgorica","Europe/Prague","Europe/Riga","Europe/Rome","Europe/Samara","Europe/San_Marino","Europe/Sarajevo","Europe/Saratov","Europe/Simferopol","Europe/Skopje","Europe/Sofia","Europe/Stockholm","Europe/Tallinn","Europe/Tirane","Europe/Ulyanovsk","Europe/Uzhgorod","Europe/Vaduz","Europe/Vatican","Europe/Vienna","Europe/Vilnius","Europe/Volgograd","Europe/Warsaw","Europe/Zagreb","Europe/Zaporozhye","Europe/Zurich","Indian/Antananarivo","Indian/Chagos","Indian/Christmas","Indian/Cocos","Indian/Comoro","Indian/Kerguelen","Indian/Mahe","Indian/Maldives","Indian/Mauritius","Indian/Mayotte","Indian/Reunion","Pacific/Apia","Pacific/Auckland","Pacific/Bougainville","Pacific/Chatham","Pacific/Easter","Pacific/Efate","Pacific/Enderbury","Pacific/Fakaofo","Pacific/Fiji","Pacific/Funafuti","Pacific/Galapagos","Pacific/Gambier","Pacific/Guadalcanal","Pacific/Guam","Pacific/Honolulu","Pacific/Johnston","Pacific/Kiritimati","Pacific/Kosrae","Pacific/Kwajalein","Pacific/Majuro","Pacific/Marquesas","Pacific/Midway","Pacific/Nauru","Pacific/Niue","Pacific/Norfolk","Pacific/Noumea","Pacific/Pago_Pago","Pacific/Palau","Pacific/Pitcairn","Pacific/Ponape","Pacific/Port_Moresby","Pacific/Rarotonga","Pacific/Saipan","Pacific/Tahiti","Pacific/Tarawa","Pacific/Tongatapu","Pacific/Truk","Pacific/Wake","Pacific/Wallis"],La=window.innerWidth/4,to={min:1,max:1578e8},no=Intl.supportedValuesOf,Ta=no?no("timeZone"):xa,Ko=[{long:"years",short:"y",possible:"year"},{long:"weeks",short:"w",possible:"week"},{long:"days",short:"d",possible:"day"},{long:"hours",short:"h",possible:"hour"},{long:"minutes",short:"m",possible:"min"},{long:"seconds",short:"s",possible:"sec"},{long:"milliseconds",short:"ms",possible:"millisecond"}],Ea=Ko.map(t=>t.short),Ma=t=>Math.round(t*1e3)/1e3,Fa=t=>xn(O.duration(t,"seconds").asMilliseconds()),Pa=t=>{let n=Ma(t);const o=Math.round(t);return t>=100&&(n=o-o%10),t<100&&t>=10&&(n=o-o%5),t<10&&t>=1&&(n=o),t<1&&t>.01&&(n=Math.round(t*40)/40),Fa(n||.001).replace(/\s/g,"")},Ia=t=>{const n=t.match(/\d+/g),o=t.match(/[a-zA-Z]+/g);if(o&&n&&Ea.includes(o[0]))return{[o[0]]:n[0]}},Oa=t=>{const n=Ko.map(s=>s.short).join("|"),o=new RegExp(`\\d+(\\.\\d+)?[${n}]+`,"g"),a=(t.match(o)||[]).reduce((s,i)=>{const l=Ia(i);return l?{...s,...l}:{...s}},{});return O.duration(a).asSeconds()};un.table,un.code;const Ra=(t,n,o)=>Pa(t/La),De=(t,n)=>{const o=(n||O().toDate()).valueOf()/1e3,r=Oa(t);return{start:o-r,end:o,step:Ra(r),date:An(n||O().toDate())}},Da=t=>O(t).utcOffset(0,!0).toDate(),An=t=>O.tz(t).utc().format(kn),Nt=t=>O.tz(t).format(kn),za=()=>O().utc().format(kn),xn=t=>{if(t===0)return"0ms";const n=Math.floor(t%1e3),o=Math.floor(t/1e3%60),r=Math.floor(t/1e3/60%60),a=Math.floor(t/1e3/3600%24),s=Math.floor(t/(1e3*60*60*24)),i=["d","h","m","s","ms"];return[s,a,r,o,n].map((c,u)=>c?`${c}${i[u]}`:"").filter(c=>c).join("")},Ha=t=>{const n=t.to.valueOf()-t.from.valueOf();return xn(n)},Ne=t=>{const n=O(t*1e3);return n.isValid()?n.toDate():new Date},Va=()=>O().tz().subtract(1,"day").endOf("day").toDate(),$a=()=>O().tz().endOf("day").toDate(),Lt=[{title:"Last 5 minutes",duration:"5m",isDefault:!0},{title:"Last 15 minutes",duration:"15m"},{title:"Last 30 minutes",duration:"30m"},{title:"Last 1 hour",duration:"1h"},{title:"Last 3 hours",duration:"3h"},{title:"Last 6 hours",duration:"6h"},{title:"Last 12 hours",duration:"12h"},{title:"Last 24 hours",duration:"24h"},{title:"Last 2 days",duration:"2d"},{title:"Last 7 days",duration:"7d"},{title:"Last 30 days",duration:"30d"},{title:"Last 90 days",duration:"90d"},{title:"Last 180 days",duration:"180d"},{title:"Last 1 year",duration:"1y"},{title:"Yesterday",duration:"1d",until:Va},{title:"Today",duration:"1d",until:$a}].map(t=>({id:t.title.replace(/\s/g,"_").toLocaleLowerCase(),until:t.until?t.until:()=>O().tz().toDate(),...t})),Ln=({relativeTimeId:t,defaultDuration:n,defaultEndInput:o})=>{const r=Lt.find(i=>i.isDefault)?.id,a=t||Ie("g0.relative_time",r),s=Lt.find(i=>i.id===a);return{relativeTimeId:s?a:"none",duration:s?s.duration:n,endInput:s?s.until():o}},it=t=>`UTC${O().tz(t).format("Z")}`,oo=(t="")=>{const n=new RegExp(t,"i");return Ta.reduce((o,r)=>{const a=(r.match(/^(.*?)\//)||[])[1]||"unknown",s=it(r),i=s.replace(/UTC|0/,""),l=r.replace(/[/_]/g," "),c={region:r,utc:s,search:`${r} ${s} ${l} ${i}`},u=!t||t&&n.test(c.search);return u&&o[a]?o[a].push(c):u&&(o[a]=[c]),o},{})},Zo=t=>{O.tz.setDefault(t)},Ba=t=>{try{return O().tz(t),!0}catch{return!1}},Jo=()=>{const t=O.tz.guess(),n=Ba(t);return{isValid:n,title:n?`Browser Time (${t})`:"Browser timezone (UTC)",region:n?t:"UTC"}},ro=t=>{if(!t)return 0n;const n=O(t).valueOf();if(!t.includes("."))return BigInt(n)*1000000n;const o=t.match(/\.(\d+)Z/);if(!o)return BigInt(n)*1000000n;let r=o[1];r=r.padEnd(9,"0");const a=parseInt(r.slice(3),10);return BigInt(n)*1000000n+BigInt(a)},Xo=t=>{const n=t.match(/^(.+T\d{2}:\d{2}:\d{2})(\.(\d+))?Z$/);if(!n)throw new Error("Invalid time format");const o=n[1],a=((n[3]||"")+"000000000").slice(0,9);return`${o}.${a}Z`},qa=t=>{const{start:n,end:o,step:r}=t,a=o-n,s=n-a,i=o-a;return{start:s,end:i,step:r,date:An(Ne(i))}},Ua=(t,n)=>{if(!t)return"";if(!/\.SSS/.test(n))return O(t).tz().format(n);let r;try{r=Xo(t).match(/\.(\d{9})Z$/)?.[1]||"000000000"}catch{r=(t.match(/\.(\d+)(?:Z|[+-]\d{2}:?\d{2})?$/)?.[1]||"").padEnd(9,"0").slice(0,9)}const a=n.replace(/\.SSS/g,"");return`${O(t).tz().format(a)}.${r}`},ao=t=>O(t).valueOf()/1e3,er=Se("TIMEZONE")||Jo().region;Zo(er);const ja=()=>{const t=Ie("g0.range_input"),{duration:n,endInput:o,relativeTimeId:r}=Ln({defaultDuration:t||"1h",defaultEndInput:Da(Ie("g0.end_input",za())),relativeTimeId:t?Ie("g0.relative_time","none"):void 0});return{duration:n,period:De(n,o),relativeTime:r}},Ya={...ja(),timezone:er};function Ga(t,n){switch(n.type){case"SET_TIME_STATE":return{...t,...n.payload};case"SET_DURATION":return{...t,duration:n.payload,period:De(n.payload,Ne(t.period.end)),relativeTime:"none"};case"SET_RELATIVE_TIME":return{...t,duration:n.payload.duration,period:De(n.payload.duration,n.payload.until),relativeTime:n.payload.id};case"SET_PERIOD":const o=Ha(n.payload);return{...t,duration:o,period:De(o,n.payload.to),relativeTime:"none"};case"RUN_QUERY":const{duration:r,endInput:a}=Ln({relativeTimeId:t.relativeTime,defaultDuration:t.duration,defaultEndInput:Ne(t.period.end)});return{...t,period:De(r,a)};case"RUN_QUERY_TO_NOW":return{...t,period:De(t.duration)};case"SET_TIMEZONE":return Zo(n.payload),we("TIMEZONE",n.payload),t.defaultTimezone&&we("DISABLED_DEFAULT_TIMEZONE",n.payload!==t.defaultTimezone),{...t,timezone:n.payload};case"SET_DEFAULT_TIMEZONE":return{...t,defaultTimezone:n.payload};default:throw new Error}}const Tn=Ke({}),se=()=>ke(Tn).state,mt=()=>ke(Tn).dispatch,Wa=({children:t})=>{const[n,o]=ut(Ga,Ya),r=T(()=>({state:n,dispatch:o}),[n,o]);return e(Tn.Provider,{value:r,children:t})},Dt=t=>{const n=Se(t);return n?JSON.parse(n):{}},Qa=(t,n,o)=>{const r=Dt(t);we(t,JSON.stringify({...r,[n]:o}))},ot=(t,n)=>Dt(t)[n]||[],Ka=(t,n)=>{const o=n.map(c=>c.values[c.index]),r=Dt(t),a=r.QUERY_HISTORY||[];a[0]||(a[0]=[]);const s=a[0],i=Yo*dn;o.forEach(c=>{!s.includes(c)&&c&&s.unshift(c),s.length>i&&s.pop()});const l={...r,QUERY_HISTORY:[s]};we(t,JSON.stringify(l))},Za=(t,n)=>{Qa(t,"QUERY_FAVORITES",n)},Ja=(t,n)=>{const o=Dt(t);we(t,JSON.stringify({...o,[n]:[]}))},Xa=(t,n)=>{const o=n||{values:[]},r=t===o.values[o.values.length-1],a=!r&&t?[...o.values,t]:o.values;return a.length>Yo&&a.shift(),{index:o.values.length-Number(r),values:a}},lt={displayResults:50,queryLimit:1e3,cacheLimit:1e3};class es{maxSize;map;constructor(){this.maxSize=lt.cacheLimit,this.map=new Map}get(n){for(const[o,r]of this.map){const a=JSON.parse(o),s=a.start===n.start&&a.end===n.end,i=a.type===n.type,l=n.value&&a.value&&n.value.includes(a.value),c=a.match===n.match||l,u=r.length<lt.queryLimit;if(c&&s&&i&&u)return r}return this.map.get(JSON.stringify(n))}put(n,o){if(this.map.size>=this.maxSize){const r=this.map.keys().next().value;r&&this.map.delete(r)}this.map.set(JSON.stringify(n),o)}}const so=ba(),ts={query:so,queryHistory:so.map(t=>({index:0,values:[t]})),autocomplete:Se("AUTOCOMPLETE")||!1,autocompleteQuick:!1,autocompleteCache:new es,metricsQLFunctions:[]};function ns(t,n){switch(n.type){case"SET_QUERY":return{...t,query:n.payload.map(o=>o)};case"SET_QUERY_HISTORY":return Ka(n.payload.key,n.payload.history),{...t,queryHistory:n.payload.history};case"SET_QUERY_HISTORY_BY_INDEX":return t.queryHistory.splice(n.payload.queryNumber,1,n.payload.value),{...t,queryHistory:t.queryHistory};case"TOGGLE_AUTOCOMPLETE":return we("AUTOCOMPLETE",!t.autocomplete),{...t,autocomplete:!t.autocomplete};case"SET_AUTOCOMPLETE_QUICK":return{...t,autocompleteQuick:n.payload};case"SET_AUTOCOMPLETE_CACHE":return t.autocompleteCache.put(n.payload.key,n.payload.value),{...t};default:throw new Error}}const En=Ke({}),zt=()=>ke(En).state,Mn=()=>ke(En).dispatch,os=({children:t})=>{const[n,o]=ut(ns,ts),r=T(()=>({state:n,dispatch:o}),[n,o]);return e(En.Provider,{value:r,children:t})},rs={markdownParsing:Se("LOGS_MARKDOWN")==="true",ansiParsing:Se("LOGS_ANSI")==="true",autocompleteCache:new Map};function as(t,n){switch(n.type){case"SET_MARKDOWN_PARSING":return we("LOGS_MARKDOWN",`${n.payload}`),{...t,markdownParsing:n.payload};case"SET_ANSI_PARSING":return we("LOGS_ANSI",`${n.payload}`),{...t,ansiParsing:n.payload};case"SET_AUTOCOMPLETE_CACHE":{if(t.autocompleteCache.size>=lt.cacheLimit){const o=t.autocompleteCache.keys().next().value;o&&t.autocompleteCache.delete(o)}return t.autocompleteCache.set(n.payload.key,n.payload.value),{...t,autocompleteCache:t.autocompleteCache}}default:throw new Error}}const Fn=Ke({}),Pn=()=>ke(Fn).state,tr=()=>ke(Fn).dispatch,ss=({children:t})=>{const[n,o]=ut(as,rs),r=T(()=>({state:n,dispatch:o}),[n,o]);return e(Fn.Provider,{value:r,children:t})},is={totalLogs:0,fieldNames:[],fieldNamesParamsKey:null,streamsFieldNames:[],streamsFieldNamesParamsKey:null};function ls(t,n){switch(n.type){case"SET_TOTAL_LOGS":return{...t,totalLogs:n.payload};case"SET_FIELD_NAMES":return{...t,fieldNames:n.payload.rows,fieldNamesParamsKey:n.payload.key};case"SET_STREAM_FIELD_NAMES":return{...t,streamsFieldNames:n.payload.rows,streamsFieldNamesParamsKey:n.payload.key};default:throw new Error("Unknown action")}}const In=Ke({}),Je=()=>ke(In).state,On=()=>ke(In).dispatch,cs=Object.entries(is).reduce((t,[n,o])=>({...t,[n]:Ie(n)||o}),{}),ds=({children:t})=>{const[n,o]=ut(ls,cs),r=T(()=>({state:n,dispatch:o}),[n,o]);return e(In.Provider,{value:r,children:t})},nr=()=>e("svg",{viewBox:"0 0 85 38",fill:"currentColor",children:[e("path",{d:"M11.12 10.48c.36.28.8.43 1.26.43h.05c.48 0 .96-.19 1.25-.44 1.5-1.28 5.88-5.29 5.88-5.29 1.17-1.09-2.1-2.17-7.13-2.18h-.06c-5.04 0-8.3 1.1-7.13 2.18 0 0 4.37 4 5.88 5.3Zm2.56 2.16c-.36.28-.8.44-1.26.45h-.04c-.46 0-.9-.17-1.26-.45-1.04-.88-4.74-4.22-6.12-5.5v1.94c0 .21.08.5.22.63l.07.06c1.05.96 4.55 4.16 5.83 5.25.36.28.8.43 1.26.44h.04c.49-.02.96-.2 1.26-.44 1.3-1.11 4.94-4.45 5.88-5.31.15-.14.23-.42.23-.63V7.15a455.13 455.13 0 0 1-6.11 5.5Zm-1.26 4.99c.46 0 .9-.16 1.26-.44 2.05-1.82 4.09-3.65 6.1-5.5v1.94c0 .2-.07.48-.22.62-.94.87-4.57 4.2-5.88 5.3-.3.26-.77.44-1.26.45h-.04c-.46 0-.9-.16-1.26-.44-1.2-1.02-4.38-3.92-5.62-5.06l-.28-.25c-.14-.14-.22-.42-.22-.62v-1.94c1.38 1.26 5.08 4.6 6.12 5.5.36.28.8.43 1.26.44h.04ZM40 5l-5.84 14.46h-2.43L25.89 5h2.16a.9.9 0 0 1 .9.61l3.41 8.82a18.8 18.8 0 0 1 .62 2.02 19.44 19.44 0 0 1 .57-2.02l3.39-8.82c.05-.15.16-.3.31-.42a.9.9 0 0 1 .58-.19H40Zm17.18 0v14.46H54.8v-9.34c0-.37.02-.78.06-1.21l-4.37 8.21c-.21.4-.53.59-.95.59h-.38c-.43 0-.75-.2-.95-.59L43.8 8.88a22.96 22.96 0 0 1 .07 1.24v9.34H41.5V5h2.03l.3.01c.1 0 .17.02.24.05.07.03.13.07.19.13a1 1 0 0 1 .17.24l4.33 8.03a16.97 16.97 0 0 1 .6 1.36 14.34 14.34 0 0 1 .6-1.38l4.28-8.01c.05-.1.1-.18.17-.24.06-.06.12-.1.19-.13a.9.9 0 0 1 .24-.05l.3-.01h2.04Zm8.88 13.73a4.5 4.5 0 0 0 1.82-.35 3.96 3.96 0 0 0 2.22-2.47c.2-.57.3-1.19.3-1.85V5.31h1.02v8.75c0 .78-.12 1.51-.37 2.19a4.88 4.88 0 0 1-2.76 2.95c-.66.29-1.4.43-2.23.43-.82 0-1.57-.14-2.24-.43a5.01 5.01 0 0 1-2.75-2.95 6.37 6.37 0 0 1-.37-2.19V5.31h1.03v8.74c0 .66.1 1.28.3 1.85a3.98 3.98 0 0 0 2.21 2.47c.53.24 1.14.36 1.82.36Zm10.38.73h-1.03V5.31h1.03v14.15ZM1.73 36v-5.17l-.67-.07a.6.6 0 0 1-.21-.1.23.23 0 0 1-.08-.18v-.44h.96v-.59c0-.34.05-.65.14-.92a1.79 1.79 0 0 1 1.08-1.11 2.45 2.45 0 0 1 1.62-.02l-.03.53c0 .1-.06.15-.16.16H4c-.18 0-.35.03-.5.08a.95.95 0 0 0-.39.23c-.1.11-.19.25-.25.43-.05.18-.08.4-.08.65v.56h1.75v.78H2.8V36H1.73Zm6.17-6.17c.45 0 .85.07 1.2.22a2.57 2.57 0 0 1 1.5 1.62c.13.38.2.81.2 1.29s-.07.91-.2 1.3a2.57 2.57 0 0 1-1.49 1.61c-.36.14-.76.21-1.2.21-.45 0-.86-.07-1.22-.21a2.57 2.57 0 0 1-1.5-1.62c-.12-.38-.19-.81-.19-1.3 0-.47.07-.9.2-1.28a2.57 2.57 0 0 1 1.5-1.62c.35-.15.76-.22 1.2-.22Zm0 5.42c.6 0 1.05-.2 1.35-.6.3-.4.44-.97.44-1.69s-.15-1.28-.44-1.69c-.3-.4-.75-.6-1.35-.6-.3 0-.57.05-.8.15-.22.1-.4.26-.56.45-.15.2-.26.44-.33.73-.08.28-.11.6-.11.96 0 .72.15 1.29.44 1.69.3.4.76.6 1.36.6Zm5.26-4.11c.2-.42.43-.74.71-.97.28-.24.62-.36 1.03-.36.13 0 .25.02.36.05.12.02.23.07.32.13l-.08.8c-.02.1-.08.15-.18.15l-.24-.04a1.7 1.7 0 0 0-.88.05c-.15.05-.29.14-.4.25-.12.1-.23.24-.32.4-.1.17-.18.35-.26.56V36h-1.07v-6.08h.61c.12 0 .2.02.24.07.05.04.08.12.1.23l.06.92Zm13.73-3.82L23.39 36h-1.46l-3.5-8.68h1.29a.54.54 0 0 1 .54.37l2.04 5.3a11.31 11.31 0 0 1 .37 1.21 11.65 11.65 0 0 1 .35-1.22l2.03-5.29c.03-.1.1-.18.19-.25.1-.08.21-.12.35-.12h1.3Zm2.2 2.52V36H27.6v-6.16h1.49Zm.2-1.79c0 .13-.02.25-.08.36a1 1 0 0 1-.51.5.96.96 0 0 1-.73 0 1.02 1.02 0 0 1-.5-.5.96.96 0 0 1 0-.73.93.93 0 0 1 .86-.58.9.9 0 0 1 .37.08c.12.05.22.11.3.2a.94.94 0 0 1 .3.67Zm5.72 3.1a.68.68 0 0 1-.13.13c-.04.03-.1.05-.18.05a.42.42 0 0 1-.22-.07 3.95 3.95 0 0 0-.62-.31c-.14-.05-.3-.07-.51-.07-.26 0-.5.04-.69.14-.2.1-.36.23-.49.4-.13.18-.22.4-.29.64-.06.25-.1.53-.1.85 0 .33.04.62.1.88.08.25.18.47.32.64.13.18.29.3.48.4.18.09.4.13.63.13a1.6 1.6 0 0 0 .94-.27l.26-.2a.4.4 0 0 1 .25-.09.3.3 0 0 1 .27.14l.43.54a2.76 2.76 0 0 1-1.77.96c-.22.03-.43.05-.65.05a2.57 2.57 0 0 1-1.96-.83c-.25-.28-.45-.6-.6-1-.14-.4-.21-.85-.21-1.35 0-.45.06-.87.2-1.25a2.61 2.61 0 0 1 1.51-1.67c.37-.16.8-.24 1.28-.24.46 0 .86.07 1.2.22.35.15.66.36.94.64l-.4.54Zm3.43 4.95c-.54 0-.95-.15-1.24-.45-.28-.3-.42-.73-.42-1.26v-3.44h-.63a.29.29 0 0 1-.2-.07c-.06-.06-.09-.13-.09-.24v-.59l.99-.16.31-1.68a.33.33 0 0 1 .12-.18.34.34 0 0 1 .21-.07h.77v1.94h1.64v1.05h-1.64v3.34c0 .2.05.34.14.45.1.1.22.16.39.16a.73.73 0 0 0 .39-.1l.12-.07a.2.2 0 0 1 .11-.03c.05 0 .08.01.11.03l.09.1.44.72c-.21.18-.46.32-.74.4-.28.1-.57.15-.87.15Zm5.09-6.35c.46 0 .87.07 1.24.22a2.7 2.7 0 0 1 1.58 1.63c.14.39.22.83.22 1.31 0 .49-.08.93-.22 1.32-.14.4-.35.73-.62 1-.26.28-.58.49-.96.64-.37.15-.78.22-1.24.22a3.4 3.4 0 0 1-1.25-.22 2.71 2.71 0 0 1-1.59-1.64 3.8 3.8 0 0 1-.21-1.32c0-.48.07-.92.21-1.31a2.75 2.75 0 0 1 1.58-1.63c.38-.15.8-.22 1.26-.22Zm0 5.2c.51 0 .89-.17 1.13-.52.25-.34.38-.84.38-1.5a2.6 2.6 0 0 0-.38-1.53c-.24-.34-.62-.52-1.13-.52-.52 0-.9.18-1.16.53-.25.35-.37.85-.37 1.51s.12 1.17.37 1.51c.25.35.64.52 1.16.52Zm5.56-4.04c.2-.37.42-.65.69-.86.26-.21.57-.32.94-.32.28 0 .5.06.68.19l-.1 1.1a.3.3 0 0 1-.09.16.24.24 0 0 1-.15.04 1.8 1.8 0 0 1-.27-.03 2.01 2.01 0 0 0-.34-.03c-.16 0-.3.03-.44.08a1.1 1.1 0 0 0-.34.2c-.1.1-.2.2-.27.33-.08.13-.15.27-.22.44V36H47.7v-6.16h.87c.15 0 .26.03.31.09.06.05.1.15.13.29l.09.7Zm4.62-1.07V36h-1.49v-6.16h1.49Zm.2-1.79c0 .13-.02.25-.07.36a1 1 0 0 1-.51.5.96.96 0 0 1-.74 0 1.02 1.02 0 0 1-.5-.5.96.96 0 0 1 0-.73.93.93 0 0 1 .86-.58.9.9 0 0 1 .38.08c.11.05.21.11.3.2a.94.94 0 0 1 .28.67Zm4.56 5.32a7.8 7.8 0 0 0-1.08.12c-.29.05-.52.12-.7.2a.92.92 0 0 0-.38.3.64.64 0 0 0-.11.36c0 .26.07.45.23.56.15.11.35.17.6.17.3 0 .57-.06.79-.17.22-.1.44-.28.65-.5v-1.04Zm-3.4-2.67c.71-.65 1.57-.97 2.56-.97.36 0 .68.06.97.18a1.99 1.99 0 0 1 1.16 1.24c.1.3.16.61.16.96V36h-.67a.7.7 0 0 1-.33-.06c-.07-.04-.13-.13-.18-.26l-.13-.44c-.16.14-.3.26-.46.37a2.8 2.8 0 0 1-.97.43 2.77 2.77 0 0 1-1.32-.05 1.62 1.62 0 0 1-.57-.31 1.41 1.41 0 0 1-.38-.53 1.85 1.85 0 0 1-.05-1.18c.05-.16.14-.3.25-.45.12-.14.28-.27.46-.4a3 3 0 0 1 .7-.32 9.19 9.19 0 0 1 2.2-.33v-.36c0-.41-.09-.71-.26-.91-.18-.2-.43-.3-.76-.3a1.84 1.84 0 0 0-1.02.28l-.33.18c-.1.06-.2.09-.32.09-.1 0-.2-.03-.27-.08a.72.72 0 0 1-.17-.2l-.26-.47Zm11.49 4.32V36h-4.88v-8.6h1.16v7.62h3.72Zm3.16-5.2c.44 0 .84.08 1.2.23a2.57 2.57 0 0 1 1.49 1.62c.13.38.2.81.2 1.29s-.07.91-.2 1.3a2.57 2.57 0 0 1-1.49 1.61c-.36.14-.76.21-1.2.21-.45 0-.85-.07-1.21-.21a2.57 2.57 0 0 1-1.5-1.62c-.13-.38-.2-.81-.2-1.3 0-.47.07-.9.2-1.28.14-.39.33-.72.59-1 .25-.26.55-.47.9-.62.37-.15.77-.22 1.22-.22Zm0 5.43c.6 0 1.05-.2 1.34-.6.3-.4.45-.97.45-1.69s-.15-1.28-.45-1.69c-.3-.4-.74-.6-1.34-.6-.3 0-.57.05-.8.15-.22.1-.4.26-.56.45-.15.2-.26.44-.34.73-.07.28-.1.6-.1.96 0 .72.14 1.29.44 1.69.3.4.75.6 1.36.6Zm6.33-2.22c.22 0 .4-.03.57-.09.16-.06.3-.14.41-.25.12-.11.2-.24.26-.39.05-.15.08-.31.08-.5 0-.37-.11-.66-.34-.88-.23-.22-.55-.33-.98-.33-.43 0-.76.1-.99.33-.22.22-.34.51-.34.89 0 .18.03.34.09.5a1.1 1.1 0 0 0 .67.63c.16.06.35.09.57.09Zm1.93 3.3a.51.51 0 0 0-.13-.36.84.84 0 0 0-.34-.22 8.57 8.57 0 0 0-1.73-.2 7.5 7.5 0 0 1-.62-.05c-.23.1-.41.23-.56.4a.8.8 0 0 0-.1.92c.07.12.18.22.32.3.14.1.32.16.54.21a3.5 3.5 0 0 0 1.55 0c.23-.05.42-.12.57-.22.16-.1.29-.21.37-.34a.8.8 0 0 0 .13-.44Zm1.08-6.17v.4c0 .13-.08.21-.25.25l-.69.09c.14.26.2.56.2.88a1.86 1.86 0 0 1-1.36 1.82 3.07 3.07 0 0 1-1.72.04c-.12.08-.22.16-.29.25a.44.44 0 0 0-.1.27c0 .15.06.26.17.33.12.08.28.13.47.16a5 5 0 0 0 .66.06 16.56 16.56 0 0 1 1.5.13c.26.05.48.12.67.22.19.1.34.24.46.41.12.18.18.4.18.69 0 .26-.07.5-.2.75s-.31.46-.56.65c-.24.2-.54.34-.9.46a4.57 4.57 0 0 1-2.36.04c-.33-.09-.6-.2-.82-.36a1.56 1.56 0 0 1-.5-.51c-.1-.2-.16-.4-.16-.6 0-.3.1-.56.28-.77.19-.2.45-.37.77-.5a1.15 1.15 0 0 1-.43-.32.88.88 0 0 1-.15-.54c0-.09.01-.18.04-.27.04-.1.08-.2.15-.28a1.55 1.55 0 0 1 .58-.5c-.3-.16-.53-.39-.7-.66-.17-.28-.25-.6-.25-.97 0-.3.05-.57.16-.8.12-.25.28-.46.48-.63.2-.17.45-.3.73-.4a3 3 0 0 1 2.3.21h1.64Zm4.65.76a.24.24 0 0 1-.23.14.42.42 0 0 1-.2-.07 3.59 3.59 0 0 0-.67-.3 1.8 1.8 0 0 0-1.03 0c-.14.05-.27.11-.37.2a.87.87 0 0 0-.23.27.75.75 0 0 0-.08.35c0 .15.04.28.13.39.1.1.21.19.36.27.15.07.32.14.5.2a13.63 13.63 0 0 1 1.16.4c.2.08.36.18.5.3a1.33 1.33 0 0 1 .5 1.07 2 2 0 0 1-.15.78c-.1.24-.25.44-.45.62-.2.17-.43.3-.72.4a3.1 3.1 0 0 1-2.14-.05 2.97 2.97 0 0 1-.87-.53l.25-.41c.04-.05.07-.1.12-.12a.3.3 0 0 1 .17-.04.4.4 0 0 1 .22.08l.3.19a1.91 1.91 0 0 0 1.03.27c.2 0 .38-.03.54-.08.16-.06.29-.13.4-.22a.96.96 0 0 0 .3-.7c0-.17-.05-.31-.14-.42-.09-.11-.2-.2-.36-.28a2.6 2.6 0 0 0-.5-.2l-.59-.19c-.2-.06-.39-.14-.58-.22a2.14 2.14 0 0 1-.5-.3 1.45 1.45 0 0 1-.36-.46c-.1-.19-.14-.41-.14-.67a1.6 1.6 0 0 1 .57-1.23c.18-.16.4-.3.68-.39.26-.1.57-.14.91-.14a2.84 2.84 0 0 1 1.9.7l-.23.4Z"}),e("defs",{children:e("path",{d:"M0 0h85v38H0z"})})]}),or=()=>e("svg",{viewBox:"0 0 15 17",fill:"currentColor",children:e("path",{d:"M6.11767 7.47586C6.47736 7.75563 6.91931 7.90898 7.37503 7.91213H7.42681C7.90756 7.90474 8.38832 7.71987 8.67677 7.46846C10.1856 6.18921 14.5568 2.18138 14.5568 2.18138C15.7254 1.09438 12.4637 0.00739 7.42681 0H7.36764C2.3308 0.00739 -0.930935 1.09438 0.237669 2.18138C0.237669 2.18138 4.60884 6.18921 6.11767 7.47586ZM8.67677 9.64243C8.31803 9.92483 7.87599 10.0808 7.41941 10.0861H7.37503C6.91845 10.0808 6.47641 9.92483 6.11767 9.64243C5.0822 8.75513 1.38409 5.42018 0.000989555 4.14832V6.07829C0.000989555 6.29273 0.0823481 6.57372 0.222877 6.70682L0.293316 6.7712L0.293344 6.77122C1.33784 7.72579 4.83903 10.9255 6.11767 12.0161C6.47641 12.2985 6.91845 12.4545 7.37503 12.4597H7.41941C7.90756 12.4449 8.38092 12.2601 8.67677 12.0161C9.9859 10.9069 13.6249 7.57198 14.5642 6.70682C14.7121 6.57372 14.7861 6.29273 14.7861 6.07829V4.14832C12.7662 5.99804 10.7297 7.82949 8.67677 9.64243ZM7.41941 14.6263C7.87513 14.6232 8.31708 14.4698 8.67677 14.19C10.7298 12.3746 12.7663 10.5407 14.7861 8.68853V10.6259C14.7861 10.8329 14.7121 11.1139 14.5642 11.247C13.6249 12.1196 9.9859 15.4471 8.67677 16.5563C8.38092 16.8077 7.90756 16.9926 7.41941 17H7.37503C6.91931 16.9968 6.47736 16.8435 6.11767 16.5637C4.91427 15.5373 1.74219 12.6364 0.502294 11.5025C0.393358 11.4029 0.299337 11.3169 0.222877 11.247C0.0823481 11.1139 0.000989555 10.8329 0.000989555 10.6259V8.68853C1.38409 9.95303 5.0822 13.2953 6.11767 14.1827C6.47641 14.4651 6.91845 14.6211 7.37503 14.6263H7.41941Z"})}),He=()=>e("svg",{viewBox:"0 0 24 24",fill:"currentColor",children:e("path",{d:"M19.14 12.94c.04-.3.06-.61.06-.94 0-.32-.02-.64-.07-.94l2.03-1.58c.18-.14.23-.41.12-.61l-1.92-3.32c-.12-.22-.37-.29-.59-.22l-2.39.96c-.5-.38-1.03-.7-1.62-.94l-.36-2.54c-.04-.24-.24-.41-.48-.41h-3.84c-.24 0-.43.17-.47.41l-.36 2.54c-.59.24-1.13.57-1.62.94l-2.39-.96c-.22-.08-.47 0-.59.22L2.74 8.87c-.12.21-.08.47.12.61l2.03 1.58c-.05.3-.09.63-.09.94s.02.64.07.94l-2.03 1.58c-.18.14-.23.41-.12.61l1.92 3.32c.12.22.37.29.59.22l2.39-.96c.5.38 1.03.7 1.62.94l.36 2.54c.05.24.24.41.48.41h3.84c.24 0 .44-.17.47-.41l.36-2.54c.59-.24 1.13-.56 1.62-.94l2.39.96c.22.08.47 0 .59-.22l1.92-3.32c.12-.22.07-.47-.12-.61l-2.01-1.58zM12 15.6c-1.98 0-3.6-1.62-3.6-3.6s1.62-3.6 3.6-3.6 3.6 1.62 3.6 3.6-1.62 3.6-3.6 3.6z"})}),Be=()=>e("svg",{viewBox:"0 0 24 24",fill:"currentColor",children:e("path",{d:"M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"})}),st=()=>e("svg",{viewBox:"0 0 24 24",fill:"currentColor",children:e("path",{d:"M12 5V2L8 6l4 4V7c3.31 0 6 2.69 6 6 0 2.97-2.17 5.43-5 5.91v2.02c3.95-.49 7-3.85 7-7.93 0-4.42-3.58-8-8-8zm-6 8c0-1.65.67-3.15 1.76-4.24L6.34 7.34C4.9 8.79 4 10.79 4 13c0 4.08 3.05 7.44 7 7.93v-2.02c-2.83-.48-5-2.94-5-5.91z"})}),Ht=()=>e("svg",{viewBox:"0 0 24 24",fill:"currentColor",children:e("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm1 15h-2v-6h2v6zm0-8h-2V7h2v2z"})}),Vt=()=>e("svg",{viewBox:"0 0 24 24",fill:"currentColor",children:e("path",{d:"M1 21h22L12 2 1 21zm12-3h-2v-2h2v2zm0-4h-2v-4h2v4z"})}),rr=()=>e("svg",{viewBox:"0 0 24 24",fill:"currentColor",children:e("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm1 15h-2v-2h2v2zm0-4h-2V7h2v6z"})}),ar=()=>e("svg",{viewBox:"0 0 24 24",fill:"currentColor",children:e("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"})}),Rn=()=>e("svg",{viewBox:"0 0 24 24",fill:"currentColor",children:e("path",{d:"M12 6v3l4-4-4-4v3c-4.42 0-8 3.58-8 8 0 1.57.46 3.03 1.24 4.26L6.7 14.8c-.45-.83-.7-1.79-.7-2.8 0-3.31 2.69-6 6-6zm6.76 1.74L17.3 9.2c.44.84.7 1.79.7 2.8 0 3.31-2.69 6-6 6v-3l-4 4 4 4v-3c4.42 0 8-3.58 8-8 0-1.57-.46-3.03-1.24-4.26z"})}),de=()=>e("svg",{viewBox:"0 0 24 24",fill:"currentColor",children:e("path",{d:"M7.41 8.59 12 13.17l4.59-4.58L18 10l-6 6-6-6 1.41-1.41z"})}),us=()=>e("svg",{viewBox:"0 0 24 24",fill:"currentColor",children:e("path",{d:"M11.67 3.87 9.9 2.1 0 12l9.9 9.9 1.77-1.77L3.54 12z"})}),Oe=()=>e("svg",{viewBox:"0 0 24 24",fill:"currentColor",children:e("path",{d:"m7 10 5 5 5-5z"})}),Tt=()=>e("svg",{viewBox:"0 0 24 24",fill:"currentColor",children:[e("path",{d:"M11.99 2C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"}),e("path",{d:"M12.5 7H11v6l5.25 3.15.75-1.23-4.5-2.67z"})]}),sr=()=>e("svg",{viewBox:"0 0 24 24",fill:"currentColor",children:e("path",{d:"M20 3h-1V1h-2v2H7V1H5v2H4c-1.1 0-2 .9-2 2v16c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm0 18H4V8h16v13z"})}),ir=()=>e("svg",{viewBox:"0 0 24 24",fill:"currentColor",children:e("path",{d:"m22 5.72-4.6-3.86-1.29 1.53 4.6 3.86L22 5.72zM7.88 3.39 6.6 1.86 2 5.71l1.29 1.53 4.59-3.85zM12.5 8H11v6l4.75 2.85.75-1.23-4-2.37V8zM12 4c-4.97 0-9 4.03-9 9s4.02 9 9 9c4.97 0 9-4.03 9-9s-4.03-9-9-9zm0 16c-3.87 0-7-3.13-7-7s3.13-7 7-7 7 3.13 7 7-3.13 7-7 7z"})}),ms=()=>e("svg",{viewBox:"0 0 24 24",fill:"currentColor",children:e("path",{d:"M20 5H4c-1.1 0-1.99.9-1.99 2L2 17c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2zm-9 3h2v2h-2V8zm0 3h2v2h-2v-2zM8 8h2v2H8V8zm0 3h2v2H8v-2zm-1 2H5v-2h2v2zm0-3H5V8h2v2zm9 7H8v-2h8v2zm0-4h-2v-2h2v2zm0-3h-2V8h2v2zm3 3h-2v-2h2v2zm0-3h-2V8h2v2z"})}),Dn=()=>e("svg",{viewBox:"0 0 24 24",fill:"currentColor",children:e("path",{d:"M8 5v14l11-7z"})}),zn=()=>e("svg",{viewBox:"0 0 24 24",fill:"currentColor",children:e("path",{d:"m10 16.5 6-4.5-6-4.5v9zM12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8z"})}),hs=()=>e("svg",{viewBox:"0 0 24 24",fill:"currentColor",children:e("path",{d:"m3.5 18.49 6-6.01 4 4L22 6.92l-1.41-1.41-7.09 7.97-4-4L2 16.99z"})}),lr=()=>e("svg",{viewBox:"0 0 24 24",fill:"currentColor",children:e("path",{d:"M10 10.02h5V21h-5zM17 21h3c1.1 0 2-.9 2-2v-9h-5v11zm3-18H5c-1.1 0-2 .9-2 2v3h19V5c0-1.1-.9-2-2-2zM3 19c0 1.1.9 2 2 2h3V10H3v9z"})}),Hn=()=>e("svg",{viewBox:"0 0 24 24",fill:"currentColor",children:e("path",{d:"M9.4 16.6 4.8 12l4.6-4.6L8 6l-6 6 6 6 1.4-1.4zm5.2 0 4.6-4.6-4.6-4.6L16 6l6 6-6 6-1.4-1.4z"})}),ht=()=>e("svg",{viewBox:"0 0 24 24",fill:"currentColor",children:e("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM19 4h-3.5l-1-1h-5l-1 1H5v2h14V4z"})}),pt=()=>e("svg",{viewBox:"0 0 24 24",fill:"currentColor",children:e("path",{d:"M8.9999 14.7854L18.8928 4.8925C19.0803 4.70497 19.3347 4.59961 19.5999 4.59961C19.8651 4.59961 20.1195 4.70497 20.307 4.8925L21.707 6.2925C22.0975 6.68303 22.0975 7.31619 21.707 7.70672L9.70701 19.7067C9.31648 20.0972 8.68332 20.0972 8.2928 19.7067L2.6928 14.1067C2.50526 13.9192 2.3999 13.6648 2.3999 13.3996C2.3999 13.1344 2.50526 12.88 2.6928 12.6925L4.0928 11.2925C4.48332 10.902 5.11648 10.902 5.50701 11.2925L8.9999 14.7854Z"})}),Qe=()=>e("svg",{viewBox:"0 0 24 24",fill:"currentColor",children:e("path",{d:"M12 4.5C7 4.5 2.73 7.61 1 12c1.73 4.39 6 7.5 11 7.5s9.27-3.11 11-7.5c-1.73-4.39-6-7.5-11-7.5zM12 17c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5zm0-8c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3z"})}),$t=()=>e("svg",{viewBox:"0 0 24 24",fill:"currentColor",children:e("path",{d:"M12 7c2.76 0 5 2.24 5 5 0 .65-.13 1.26-.36 1.83l2.92 2.92c1.51-1.26 2.7-2.89 3.43-4.75-1.73-4.39-6-7.5-11-7.5-1.4 0-2.74.25-3.98.7l2.16 2.16C10.74 7.13 11.35 7 12 7zM2 4.27l2.28 2.28.46.46C3.08 8.3 1.78 10.02 1 12c1.73 4.39 6 7.5 11 7.5 1.55 0 3.03-.3 4.38-.84l.42.42L19.73 22 21 20.73 3.27 3 2 4.27zM7.53 9.8l1.55 1.55c-.05.21-.08.43-.08.65 0 1.66 1.34 3 3 3 .22 0 .44-.03.65-.08l1.55 1.55c-.67.33-1.41.53-2.2.53-2.76 0-5-2.24-5-5 0-.79.2-1.53.53-2.2zm4.31-.78 3.15 3.15.02-.16c0-1.66-1.34-3-3-3l-.17.01z"})}),pe=()=>e("svg",{viewBox:"0 0 24 24",fill:"currentColor",children:e("path",{d:"M16 1H4c-1.1 0-2 .9-2 2v14h2V3h12V1zm3 4H8c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h11c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2zm0 16H8V7h11v14z"})}),ps=()=>e("svg",{viewBox:"0 0 24 24",fill:"currentColor",children:e("path",{d:"M20 9H4v2h16V9zM4 15h16v-2H4v2z"})}),Vn=()=>e("svg",{viewBox:"0 0 24 24",fill:"currentColor",children:[e("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M21 5C19.89 4.65 18.67 4.5 17.5 4.5C15.55 4.5 13.45 4.9 12 6C10.55 4.9 8.45 4.5 6.5 4.5C5.33 4.5 4.11 4.65 3 5C2.25 5.25 1.6 5.55 1 6V20.6C1 20.85 1.25 21.1 1.5 21.1C1.6 21.1 1.65 21.1 1.75 21.05C3.15 20.3 4.85 20 6.5 20C8.2 20 10.65 20.65 12 21.5C13.35 20.65 15.8 20 17.5 20C19.15 20 20.85 20.3 22.25 21.05C22.35 21.1 22.4 21.1 22.5 21.1C22.75 21.1 23 20.85 23 20.6V6C22.4 5.55 21.75 5.25 21 5ZM21 18.5C19.9 18.15 18.7 18 17.5 18C15.8 18 13.35 18.65 12 19.5C10.65 18.65 8.2 18 6.5 18C5.3 18 4.1 18.15 3 18.5V7C4.1 6.65 5.3 6.5 6.5 6.5C8.2 6.5 10.65 7.15 12 8C13.35 7.15 15.8 6.5 17.5 6.5C18.7 6.5 19.9 6.65 21 7V18.5Z"}),e("path",{d:"M17.5 10.5C18.38 10.5 19.23 10.59 20 10.76V9.24C19.21 9.09 18.36 9 17.5 9C15.8 9 14.26 9.29 13 9.83V11.49C14.13 10.85 15.7 10.5 17.5 10.5ZM13 12.49V14.15C14.13 13.51 15.7 13.16 17.5 13.16C18.38 13.16 19.23 13.25 20 13.42V11.9C19.21 11.75 18.36 11.66 17.5 11.66C15.8 11.66 14.26 11.96 13 12.49ZM17.5 14.33C15.8 14.33 14.26 14.62 13 15.16V16.82C14.13 16.18 15.7 15.83 17.5 15.83C18.38 15.83 19.23 15.92 20 16.09V14.57C19.21 14.41 18.36 14.33 17.5 14.33Z"}),e("path",{d:"M6.5 10.5C5.62 10.5 4.77 10.59 4 10.76V9.24C4.79 9.09 5.64 9 6.5 9C8.2 9 9.74 9.29 11 9.83V11.49C9.87 10.85 8.3 10.5 6.5 10.5ZM11 12.49V14.15C9.87 13.51 8.3 13.16 6.5 13.16C5.62 13.16 4.77 13.25 4 13.42V11.9C4.79 11.75 5.64 11.66 6.5 11.66C8.2 11.66 9.74 11.96 11 12.49ZM6.5 14.33C8.2 14.33 9.74 14.62 11 15.16V16.82C9.87 16.18 8.3 15.83 6.5 15.83C5.62 15.83 4.77 15.92 4 16.09V14.57C4.79 14.41 5.64 14.33 6.5 14.33Z"})]}),cr=()=>e("svg",{viewBox:"0 0 24 24",fill:"currentColor",children:e("path",{d:"M12 2C6.49 2 2 6.49 2 12s4.49 10 10 10 10-4.49 10-10S17.51 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8zm3-8c0 1.66-1.34 3-3 3s-3-1.34-3-3 1.34-3 3-3 3 1.34 3 3z"})}),Bt=()=>e("svg",{viewBox:"0 0 24 24",fill:"currentColor",children:e("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12 2C6.48 2 2 6.48 2 12C2 17.52 6.48 22 12 22C17.52 22 22 17.52 22 12C22 6.48 17.52 2 12 2ZM12 6C9.79 6 8 7.79 8 10H10C10 8.9 10.9 8 12 8C13.1 8 14 8.9 14 10C14 10.8792 13.4202 11.3236 12.7704 11.8217C11.9421 12.4566 11 13.1787 11 15H13C13 13.9046 13.711 13.2833 14.4408 12.6455C15.21 11.9733 16 11.2829 16 10C16 7.79 14.21 6 12 6ZM13 16V18H11V16H13Z"})}),Et=()=>e("svg",{viewBox:"0 0 24 24",fill:"currentColor",children:e("path",{d:"M4 20h16c1.1 0 2-.9 2-2s-.9-2-2-2H4c-1.1 0-2 .9-2 2s.9 2 2 2zm0-3h2v2H4v-2zM2 6c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2s-.9-2-2-2H4c-1.1 0-2 .9-2 2zm4 1H4V5h2v2zm-2 7h16c1.1 0 2-.9 2-2s-.9-2-2-2H4c-1.1 0-2 .9-2 2s.9 2 2 2zm0-3h2v2H4v-2z"})}),$n=()=>e("svg",{viewBox:"0 0 24 24",fill:"currentColor",children:e("path",{d:"M12 8c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2zm0 2c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm0 6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z"})}),gs=()=>e("svg",{viewBox:"0 0 24 24",fill:"currentColor",children:e("path",{d:"M3 17v2h6v-2H3zM3 5v2h10V5H3zm10 16v-2h8v-2h-8v-2h-2v6h2zM7 9v2H3v2h4v2h2V9H7zm14 4v-2H11v2h10zm-6-4h2V7h4V5h-4V3h-2v6z"})}),_s=()=>e("svg",{viewBox:"0 0 24 24",fill:"currentColor",children:e("path",{d:"M7 20h4c0 1.1-.9 2-2 2s-2-.9-2-2zm-2-1h8v-2H5v2zm11.5-9.5c0 3.82-2.66 5.86-3.77 6.5H5.27c-1.11-.64-3.77-2.68-3.77-6.5C1.5 5.36 4.86 2 9 2s7.5 3.36 7.5 7.5zm4.87-2.13L20 8l1.37.63L22 10l.63-1.37L24 8l-1.37-.63L22 6l-.63 1.37zM19 6l.94-2.06L22 3l-2.06-.94L19 0l-.94 2.06L16 3l2.06.94L19 6z"})}),dr=()=>e("svg",{viewBox:"0 0 24 24",fill:"currentColor",children:e("path",{d:"M3 14h4v-4H3v4zm0 5h4v-4H3v4zM3 9h4V5H3v4zm5 5h13v-4H8v4zm0 5h13v-4H8v4zM8 5v4h13V5H8z"})}),ur=()=>e("svg",{viewBox:"0 0 24 24",fill:"currentColor",children:e("path",{d:"m22 9.24-7.19-.62L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21 12 17.27 18.18 21l-1.63-7.03L22 9.24zM12 15.4l-3.76 2.27 1-4.28-3.32-2.88 4.38-.38L12 6.1l1.71 4.04 4.38.38-3.32 2.88 1 4.28L12 15.4z"})}),mr=()=>e("svg",{viewBox:"0 0 24 24",fill:"currentColor",children:e("path",{d:"M12 17.27 18.18 21l-1.64-7.03L22 9.24l-7.19-.61L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21z"})}),mn=()=>e("svg",{viewBox:"0 0 16 16",fill:xe("color-error"),children:e("path",{d:"M13.5095 4L8.50952 1H7.50952L2.50952 4L2.01953 4.85999V10.86L2.50952 11.71L7.50952 14.71H8.50952L13.5095 11.71L13.9995 10.86V4.85999L13.5095 4ZM7.50952 13.5601L3.00952 10.86V5.69995L7.50952 8.15002V13.5601ZM3.26953 4.69995L8.00952 1.85999L12.7495 4.69995L8.00952 7.29004L3.26953 4.69995ZM13.0095 10.86L8.50952 13.5601V8.15002L13.0095 5.69995V10.86Z"})}),Mt=()=>e("svg",{viewBox:"0 0 16 16",fill:xe("color-primary"),children:e("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M2 5H4V4H1.5L1 4.5V12.5L1.5 13H4V12H2V5ZM14.5 4H12V5H14V12H12V13H14.5L15 12.5V4.5L14.5 4ZM11.76 6.56995L12 7V9.51001L11.7 9.95996L7.19995 11.96H6.73999L4.23999 10.46L4 10.03V7.53003L4.30005 7.06995L8.80005 5.06995H9.26001L11.76 6.56995ZM5 9.70996L6.5 10.61V9.28003L5 8.38V9.70996ZM5.57996 7.56006L7.03003 8.43005L10.42 6.93005L8.96997 6.06006L5.57996 7.56006ZM7.53003 10.73L11.03 9.17004V7.77002L7.53003 9.31995V10.73Z"})}),hr=()=>e("svg",{viewBox:"0 0 16 16",fill:xe("color-warning"),children:e("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M14 2H8L7 3V6H8V3H14V8H10V9H14L15 8V3L14 2ZM9 6H13V7H9.41L9 6.59V6ZM7 7H2L1 8V13L2 14H8L9 13V8L8 7H7ZM8 13H2V8H8V9V13ZM3 9H7V10H3V9ZM3 11H7V12H3V11ZM9 4H13V5H9V4Z"})}),hn=()=>e("svg",{viewBox:"0 0 16 16",fill:xe("color-primary"),children:e("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M7 3L8 2H14L15 3V8L14 9H10V8H14V3H8V6H7V3ZM9 9V8L8 7H7H2L1 8V13L2 14H8L9 13V9ZM8 8V9V13H2V8H7H8ZM9.41421 7L9 6.58579V6H13V7H9.41421ZM9 4H13V5H9V4ZM7 10H3V11H7V10Z"})}),Bn=()=>e("svg",{viewBox:"0 0 24 24",fill:"currentColor",children:e("path",{d:"M19 9h-4V3H9v6H5l7 7 7-7zM5 18v2h14v-2H5z"})}),pr=()=>e("svg",{viewBox:"0 0 24 24",fill:"currentColor",children:e("path",{d:"M12 5.83 15.17 9l1.41-1.41L12 3 7.41 7.59 8.83 9zm0 12.34L8.83 15l-1.41 1.41L12 21l4.59-4.59L15.17 15z"})}),gr=()=>e("svg",{viewBox:"0 0 24 24",fill:"currentColor",children:e("path",{d:"M7.41 18.59 8.83 20 12 16.83 15.17 20l1.41-1.41L12 14zm9.18-13.18L15.17 4 12 7.17 8.83 4 7.41 5.41 12 10z"})}),qn=()=>e("svg",{viewBox:"0 0 24 24",fill:"currentColor",children:e("path",{d:"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14"})}),qt=()=>e("svg",{viewBox:"0 0 24 24",children:e("path",{fill:"currentColor",d:"M12,4a8,8,0,0,1,7.89,6.7A1.53,1.53,0,0,0,21.38,12h0a1.5,1.5,0,0,0,1.48-1.75,11,11,0,0,0-21.72,0A1.5,1.5,0,0,0,2.62,12h0a1.53,1.53,0,0,0,1.49-1.3A8,8,0,0,1,12,4Z",children:e("animateTransform",{attributeName:"transform",dur:"0.75s",repeatCount:"indefinite",type:"rotate",values:"0 12 12;360 12 12"})})}),qe=()=>e("svg",{viewBox:"0 0 24 24",fill:"currentColor",children:e("path",{d:"M4.25 5.61C6.27 8.2 10 13 10 13v6c0 .55.45 1 1 1h2c.55 0 1-.45 1-1v-6s3.72-4.8 5.74-7.39c.51-.66.04-1.61-.79-1.61H5.04c-.83 0-1.3.95-.79 1.61"})}),Ue=()=>e("svg",{viewBox:"0 0 24 24",fill:"currentColor",children:e("path",{d:"M19.79 5.61C20.3 4.95 19.83 4 19 4H6.83l7.97 7.97zM2.81 2.81 1.39 4.22 10 13v6c0 .55.45 1 1 1h2c.55 0 1-.45 1-1v-2.17l5.78 5.78 1.41-1.41z"})}),_r=()=>e("svg",{viewBox:"0 0 24 24",fill:"currentColor",children:e("path",{d:"M6 19h4V5H6v14zm8-14v14h4V5h-4z"})}),fr=()=>e("svg",{viewBox:"0 0 24 24",fill:"currentColor",children:e("path",{d:"M8 12l4-4 4 4m-4-4v12",strokeWidth:"2",stroke:"currentColor",fill:"none"})}),gt=()=>e("svg",{viewBox:"0 0 24 24",fill:"currentColor",children:e("path",{d:"M12 7c-2.76 0-5 2.24-5 5s2.24 5 5 5 5-2.24 5-5-2.24-5-5-5m0-5C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m0 18c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8"})}),_t=()=>e("svg",{viewBox:"0 0 24 24",fill:"currentColor",children:e("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m0 18c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8"})}),vr=()=>e("svg",{viewBox:"0 0 24 24",fill:"currentColor",children:e("path",{d:"M3 18h13v-2H3zm0-5h10v-2H3zm0-7v2h13V6zm18 9.59L17.42 12 21 8.41 19.59 7l-5 5 5 5z"})}),Un=()=>e("svg",{viewBox:"0 0 24 24",fill:"currentColor",children:e("path",{d:"M19 19H5V5h7V3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2v-7h-2zM14 3v2h3.59l-9.83 9.83 1.41 1.41L19 6.41V10h2V3z"})}),fs=()=>e("svg",{viewBox:"0 0 24 24",fill:"currentColor",children:e("path",{d:"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z"})}),vs=()=>e("svg",{viewBox:"0 0 24 24",fill:"currentColor",children:e("path",{d:"M3 17.25V21h3.75L17.81 9.94l-3.75-3.75zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34a.996.996 0 0 0-1.41 0l-1.83 1.83 3.75 3.75z"})}),bs=()=>e("svg",{viewBox:"0 0 24 24",fill:"currentColor",children:e("path",{d:"m12.126 8.125 1.937-1.937 3.747 3.747-1.937 1.938zM20.71 5.63l-2.34-2.34a1 1 0 0 0-1.41 0l-1.83 1.83 3.75 3.75L20.71 7a1 1 0 0 0 0-1.37M2 5l6.63 6.63L3 17.25V21h3.75l5.63-5.62L18 21l2-2L4 3z"})}),ys=Object.freeze(Object.defineProperty({__proto__:null,AlarmIcon:ir,ArrowDownIcon:de,ArrowDropDownIcon:Oe,ArrowLeftIcon:us,CalendarIcon:sr,ChartIcon:hs,ClockIcon:Tt,CloseIcon:Be,CodeIcon:Hn,CollapseIcon:gr,ContextIcon:vr,CopyIcon:pe,DeleteIcon:ht,DoneIcon:pt,DownloadIcon:Bn,DragIcon:ps,EditIcon:vs,EditOffIcon:bs,ErrorIcon:rr,ExpandIcon:pr,FilterIcon:qe,FilterOffIcon:Ue,FocusIcon:gt,FunctionIcon:Mt,InfoIcon:Ht,IssueIcon:cr,KeyboardIcon:ms,LabelIcon:hr,ListIcon:dr,LogoLogsIcon:nr,LogoShortIcon:or,MetricIcon:mn,MoreIcon:$n,OpenNewIcon:Un,PauseIcon:_r,PlayCircleOutlineIcon:zn,PlayIcon:Dn,PlusIcon:fs,QuestionIcon:Bt,RefreshIcon:Rn,RestartIcon:st,ScrollToTopIcon:fr,SearchIcon:qn,SettingsIcon:He,SpinnerIcon:qt,StarBorderIcon:ur,StarIcon:mr,StorageIcon:Et,SuccessIcon:ar,TableIcon:lr,TipIcon:_s,TuneIcon:gs,UnfocusIcon:_t,ValueIcon:hn,VisibilityIcon:Qe,VisibilityOffIcon:$t,WarningIcon:Vt,WikiIcon:Vn},Symbol.toStringTag,{value:"Module"})),br={windows:"Windows",mac:"Mac OS",linux:"Linux"},ws=()=>Object.values(br).find(t=>navigator.userAgent.indexOf(t)>=0)||"unknown",Me=()=>ws()===br.mac,Cs=()=>["Android","webOS","iPhone","iPad","iPod","BlackBerry","Windows Phone"].map(o=>navigator.userAgent.match(new RegExp(o,"i"))).some(o=>o);function oe(t,n,o,r){const a=R(n);L(()=>{a.current=n},[n]),L(()=>{const s=o?.current??window;if(!(s&&s.addEventListener))return;const i=l=>a.current(l);return s.addEventListener(t,i,r),()=>{s.removeEventListener(t,i,r)}},[t,o,r])}const ft=()=>{const[t,n]=A({width:0,height:0}),o=()=>{n({width:window.innerWidth,height:window.innerHeight})};return oe("resize",o),L(o,[]),t};function K(){const t=ft(),n=()=>{const a=Cs(),s=window.innerWidth<500;return a||s},[o,r]=A(n());return L(()=>{r(n())},[t]),{isMobile:o}}const ks={success:e(ar,{}),error:e(rr,{}),warning:e(Vt,{}),info:e(Ht,{})},he=({variant:t,children:n})=>{const{isDarkTheme:o}=re(),{isMobile:r}=K();return e("div",{className:F({"vm-alert":!0,[`vm-alert_${t}`]:t,"vm-alert_dark":o,"vm-alert_mobile":r}),children:[e("div",{className:"vm-alert__icon",children:ks[t||"info"]}),e("div",{className:"vm-alert__content",children:n})]})},yr=Ke({showInfoMessage:()=>{}}),Ns=()=>ke(yr),Ss=({children:t})=>{const{isMobile:n}=K(),[o,r]=A({text:"",type:"info"}),[a,s]=A(!1),[i,l]=A(null);L(()=>{if(!i)return;r({...i,key:Date.now()}),s(!0);const u=setTimeout(c,i.timeout||4e3);return()=>clearTimeout(u)},[i]);const c=()=>{l(null),s(!1)};return e(yr.Provider,{value:{showInfoMessage:l},children:[a&&e("div",{className:F({"vm-snackbar":!0,"vm-snackbar_mobile":n}),children:e(he,{variant:o.type,children:e("div",{className:"vm-snackbar-content",children:[e("span",{children:o.text}),e("div",{className:"vm-snackbar-content__close",onClick:c,children:e(Be,{})})]})})}),t]})},As=(...t)=>t.reduce((n,o)=>({children:r})=>e(n,{children:e(o,{children:r})}),({children:n})=>e(j,{children:n})),xs=[Aa,Wa,os,Ss,ss,ds],Ls=As(...xs),wr=t=>{if(t.length!=7)return"0, 0, 0";const n=parseInt(t.slice(1,3),16),o=parseInt(t.slice(3,5),16),r=parseInt(t.slice(5,7),16);return`${n}, ${o}, ${r}`},Ts={[_e.yhatUpper]:"#7126a1",[_e.yhatLower]:"#7126a1",[_e.yhat]:"#da42a6",[_e.anomaly]:"#da4242",[_e.anomalyScore]:"#7126a1",[_e.actual]:"#203ea9",[_e.training]:`rgba(${wr("#203ea9")}, 0.2)`},Es=t=>{let r=1,a=0,s=1;if(t.length>0)for(let l=0;l<t.length;l++)t[l].charCodeAt(0)>a&&(a=t[l].charCodeAt(0)),s=parseInt(String(16777215/a)),r=(r+t[l].charCodeAt(0)*s*49979693)%16777215;let i=(r*t.length%16777215).toString(16);return i=i.padEnd(6,i),`#${i}`},Ms=t=>{let n=t.replace("#","").trim();if(n.length===3&&(n=n[0]+n[0]+n[1]+n[1]+n[2]+n[2]),n.length!==6)throw new Error("Invalid HEX color.");const o=parseInt(n.slice(0,2),16),r=parseInt(n.slice(2,4),16),a=parseInt(n.slice(4,6),16);return(o*299+r*587+a*114)/1e3>=128?"#000000":"#FFFFFF"},Ut=()=>{const t=document.getElementById("root")?.dataset.params||"{}";try{return JSON.parse(t)}catch(n){return console.error(n),{}}},Fe=()=>!!Object.keys(Ut()).length,Kt={"color-primary":"#589DF6","color-secondary":"#316eca","color-error":"#e5534b","color-warning":"#c69026","color-info":"#539bf5","color-success":"#57ab5a","color-background-body":"#22272e","color-background-block":"#2d333b","color-background-tooltip":"rgba(22, 22, 22, 0.8)","color-text":"#cdd9e5","color-text-secondary":"#768390","color-text-disabled":"#636e7b","box-shadow":"rgba(0, 0, 0, 0.16) 1px 2px 6px","box-shadow-popper":"rgba(0, 0, 0, 0.2) 0px 2px 8px 0px","border-divider":"1px solid rgba(99, 110, 123, 0.5)","color-hover-black":"rgba(0, 0, 0, 0.2)","color-log-hits-bar-0":"rgba(255, 255, 255, 0.18)","color-log-hits-bar-1":"#FFB74D","color-log-hits-bar-2":"#81C784","color-log-hits-bar-3":"#64B5F6","color-log-hits-bar-4":"#E57373","color-log-hits-bar-5":"#8a62f0"},Zt={"color-primary":"#3F51B5","color-secondary":"#E91E63","color-error":"#FD080E","color-warning":"#FF8308","color-info":"#03A9F4","color-success":"#4CAF50","color-background-body":"#FEFEFF","color-background-block":"#FFFFFF","color-background-tooltip":"rgba(80,80,80,0.9)","color-text":"#110f0f","color-text-secondary":"#706F6F","color-text-disabled":"#A09F9F","box-shadow":"rgba(0, 0, 0, 0.08) 1px 2px 6px","box-shadow-popper":"rgba(0, 0, 0, 0.1) 0px 2px 8px 0px","border-divider":"1px solid rgba(0, 0, 0, 0.15)","color-hover-black":"rgba(0, 0, 0, 0.06)","color-log-hits-bar-0":"rgba(0, 0, 0, 0.18)","color-log-hits-bar-1":"#FFB74D","color-log-hits-bar-2":"#81C784","color-log-hits-bar-3":"#64B5F6","color-log-hits-bar-4":"#E57373","color-log-hits-bar-5":"#8a62f0"},Fs=()=>{const[t,n]=A(xt()),o=r=>{n(r.matches)};return L(()=>{const r=window.matchMedia("(prefers-color-scheme: dark)");return r.addEventListener("change",o),()=>r.removeEventListener("change",o)},[]),t},Jt=["primary","secondary","error","warning","info","success"],Ps=({onLoaded:t})=>{const n=Fe(),{palette:o={}}=Ut(),{theme:r}=re(),a=Fs(),s=Qo(),i=ft(),[l,c]=A({[me.dark]:Kt,[me.light]:Zt,[me.system]:xt()?Kt:Zt}),u=()=>{const{innerWidth:g,innerHeight:_}=window,{clientWidth:f,clientHeight:v}=document.documentElement;Ye("scrollbar-width",`${g-f}px`),Ye("scrollbar-height",`${_-v}px`),Ye("vh",`${_*.01}px`)},d=()=>{Jt.forEach((g,_)=>{const f=xe(`color-${g}`),v=Ms(f);Ye(`${g}-text`,v),_===Jt.length-1&&(s({type:"SET_DARK_THEME"}),t(!0))})},h=()=>{Jt.forEach(g=>{const _=o[g];_&&Ye(`color-${g}`,_)}),d()},m=()=>{const g=Se("THEME")||me.system,_=l[g];Object.entries(_).forEach(([f,v])=>{Ye(f,v)}),d(),n&&h()},p=()=>{const g=xt()?Kt:Zt;if(l[me.system]===g){m();return}c(_=>({..._,[me.system]:g}))};return L(()=>{u(),m()},[l]),L(u,[i]),L(p,[r,a]),L(()=>{n&&s({type:"SET_THEME",payload:me.light})},[]),null},Is=({to:t,isNavLink:n,children:o,...r})=>n?e(Vo,{to:t,...r,children:o}):e("div",{...r,children:o}),Os=({activeItem:t,item:n,color:o=xe("color-primary"),activeNavRef:r,onChange:a,isNavLink:s})=>{const i=l=>()=>{a&&a(l)};return e(Is,{className:F({"vm-tabs-item":!0,"vm-tabs-item_active":t===n.value,[n.className||""]:n.className}),isNavLink:s,to:n.value,style:{color:o},onClick:i(n.value),ref:t===n.value?r:void 0,children:[n.icon&&e("div",{className:F({"vm-tabs-item__icon":!0,"vm-tabs-item__icon_single":!n.label}),children:n.icon}),n.label]})},jn=({activeItem:t,items:n,color:o=xe("color-primary"),onChange:r,indicatorPlacement:a="bottom",isNavLink:s})=>{const i=ft(),l=R(null),[c,u]=A({left:0,width:0,bottom:0});return L(()=>{if(l.current?.base instanceof HTMLElement){const{offsetLeft:d,offsetWidth:h,offsetHeight:m}=l.current.base;u({left:d,width:h,bottom:a==="top"?m-2:0})}},[i,t,l,n]),e("div",{className:"vm-tabs",children:[n.map(d=>e(Os,{activeItem:t,item:d,onChange:r,color:o,activeNavRef:l,isNavLink:s},d.value)),e("div",{className:"vm-tabs__indicator",style:{...c,borderColor:o}})]})},le=(t,n)=>{const[o]=J(),r=o.get(n)?o.get(n):t,[a,s]=A(r);return L(()=>{r!==a&&s(r)},[r]),[a,s]},vt=()=>{const t=It(),[n,o]=J();return{setSearchParamsFromKeys:z(a=>{const s=!!Array.from(n.values()).length;let i=!1;Object.entries(a).forEach(([l,c])=>{n.get(l)!==`${c}`&&(n.set(l,`${c}`),i=!0)}),i&&(s?o(n):t(`?${n.toString()}`,{replace:!0}))},[n,t])}},Xe=()=>e("div",{className:"vm-line-loader",children:[e("div",{className:"vm-line-loader__background"}),e("div",{className:"vm-line-loader__line"})]}),Cr=({defaultExpanded:t=!1,onChange:n,title:o,children:r})=>{const[a,s]=A(t),i=()=>{const l=window.getSelection();l&&l.toString()||s(c=>{const u=!c;return n&&n(u),u})};return L(()=>{s(t)},[t]),e(j,{children:[e("header",{className:`vm-accordion-header ${a&&"vm-accordion-header_open"}`,onClick:i,children:[o,e("div",{className:`vm-accordion-header__arrow ${a&&"vm-accordion-header__arrow_open"}`,children:e(de,{})})]}),a&&e("section",{className:"vm-accordion-section",children:r},"content")]})},kr=(t,n)=>t.length===n.length&&t.every((o,r)=>o===n[r]);function Nr(t,n){const o=t.reduce((r,a)=>{const s=n.map(i=>`${String(i)}: ${a[i]||"-"}`).join("|");return(r[s]=r[s]||[]).push(a),r},{});return Object.entries(o).map(([r,a])=>({keys:r.split("|"),values:a}))}const Rs=t=>t.length<2?!1:t.every((n,o)=>o===0||n<t[o-1]),q=({children:t,title:n,open:o,placement:r="bottom-center",offset:a={top:6,left:0}})=>{const{isMobile:s}=K(),[i,l]=A(!1),[c,u]=A({width:0,height:0}),d=R(null),h=R(null),m=()=>l(!1);L(()=>{if(!(!h.current||!i))return u({width:h.current.clientWidth,height:h.current.clientHeight}),window.addEventListener("scroll",m),()=>{window.removeEventListener("scroll",m)}},[i,n]);const p=T(()=>{const f=d?.current?.base;if(!f||!i)return{};const v=f.getBoundingClientRect(),y={top:0,left:0},b=r==="bottom-right"||r==="top-right",C=r==="bottom-left"||r==="top-left",w=r?.includes("top"),k=a?.top||0,S=a?.left||0;y.left=v.left-(c.width-v.width)/2+S,y.top=v.height+v.top+k,b&&(y.left=v.right-c.width),C&&(y.left=v.left+S),w&&(y.top=v.top-c.height-k);const{innerWidth:N,innerHeight:x}=window,E=20,M=y.top+c.height+E>x,P=y.top-E<0,H=y.left+c.width+E>N,U=y.left-E<0;return M&&(y.top=v.top-c.height-k),P&&(y.top=v.height+v.top+k),H&&(y.left=v.right-c.width-S),U&&(y.left=v.left+S),y.top<0&&(y.top=20),y.left<0&&(y.left=20),y},[d,r,i,c]),g=()=>{typeof o!="boolean"&&l(!0)},_=()=>{l(!1)};return L(()=>{typeof o=="boolean"&&l(o)},[o]),L(()=>{const f=d?.current?.base;if(f)return f.addEventListener("mouseenter",g),f.addEventListener("mouseleave",_),()=>{f.removeEventListener("mouseenter",g),f.removeEventListener("mouseleave",_)}},[d]),e(j,{children:[e(j,{ref:d,children:t}),!s&&i&&Ve(e("div",{className:"vm-tooltip",ref:h,style:p,children:n}),document.body)]})},X=t=>{const[n,o]=A(!1),r=z(()=>o(!0),[]),a=z(()=>o(!1),[]),s=z(()=>o(i=>!i),[]);return{value:n,setValue:o,setTrue:r,setFalse:a,toggle:s}},Ds=()=>{const t={0:"#000000",1:"#AA0000",2:"#00AA00",3:"#AA5500",4:"#0000AA",5:"#AA00AA",6:"#00AAAA",7:"#AAAAAA",8:"#555555",9:"#FF5555",10:"#55FF55",11:"#FFFF55",12:"#5555FF",13:"#FF55FF",14:"#55FFFF",15:"#FFFFFF"};for(let n=0;n<6;n++)for(let o=0;o<6;o++)for(let r=0;r<6;r++){const a=16+n*36+o*6+r,s=n>0?n*40+55:0,i=o>0?o*40+55:0,l=r>0?r*40+55:0;t[a]=`rgb(${s},${i},${l})`}for(let n=0;n<24;n++){const o=232+n,r=8+n*10;t[o]=`rgb(${r},${r},${r})`}return t},zs=Ds(),rt=t=>zs[t]||null,Hs="(?:\\u0007|\\u001B\\u005C|\\u009C)",Vs=[`[\\u001B\\u009B][[\\]()#;?]*(?:(?:(?:(?:;[-a-zA-Z\\d\\/#&.:=?%@~_]+)*|[a-zA-Z\\d]+(?:;[-a-zA-Z\\d\\/#&.:=?%@~_]*)*)?${Hs})`,"(?:(?:\\d{1,4}(?:;\\d{0,4})*)?[\\dA-PR-TZcf-nq-uy=><~]))"].join("|"),io=new RegExp(Vs,"g"),$s=(t,n,o)=>{switch(n){case 0:return{color:null,fontWeight:null,fontStyle:null,textDecoration:null,backgroundColor:null};case 30:case 31:case 32:case 33:case 34:case 35:case 36:case 37:return{...t,color:rt(n-30)};case 90:case 91:case 92:case 93:case 94:case 95:case 96:case 97:return{...t,color:rt(8+(n-90))};case 38:return o.length>2&&o[1]===5?{...t,color:rt(o[2])}:t;case 40:case 41:case 42:case 43:case 44:case 45:case 46:case 47:return{...t,backgroundColor:rt(n-40)};case 100:case 101:case 102:case 103:case 104:case 105:case 106:case 107:return{...t,backgroundColor:rt(8+(n-100))};case 1:return{...t,fontWeight:"bold"};case 3:return{...t,fontStyle:"italic"};case 4:return{...t,textDecoration:"underline"};case 7:case 27:return{...t,color:t.backgroundColor,backgroundColor:t.color};case 22:return{...t,fontWeight:null};case 23:return{...t,fontStyle:null};case 24:return{...t,textDecoration:null};default:return t}},Bs=t=>{let n=0;const o=[];let r={color:null,fontWeight:null,fontStyle:null,textDecoration:null,backgroundColor:null},a;for(;(a=io.exec(t))!==null;){const s=t.slice(n,a.index);s&&o.push(e("span",{style:{color:r.color||"inherit",fontWeight:r.fontWeight||"inherit",fontStyle:r.fontStyle||"inherit",textDecoration:r.textDecoration||"inherit",backgroundColor:r.backgroundColor||"inherit"},children:s},n));const i=a[0].match(/\d+/g)?.map(Number)||[];i.forEach(l=>{r=$s(r,l,i)}),n=io.lastIndex}return n<t.length&&o.push(e("span",{style:{color:r.color||"inherit",fontWeight:r.fontWeight||"inherit",fontStyle:r.fontStyle||"inherit",textDecoration:r.textDecoration||"inherit",backgroundColor:r.backgroundColor||"inherit"},children:t.slice(n)},n)),o},D=({variant:t="contained",color:n="primary",size:o="medium",ariaLabel:r,children:a,endIcon:s,startIcon:i,fullWidth:l=!1,className:c,disabled:u,onClick:d,onMouseDown:h,"data-id":m})=>{const p=F({"vm-button":!0,[`vm-button_${t}_${n}`]:!0,[`vm-button_${o}`]:o,"vm-button_icon_only":(i||s)&&!a,"vm-button_full-width":l,"vm-button_with-icons":i||s,[c||""]:c});return e("button",{className:p,disabled:u,"aria-label":r,onClick:d,onMouseDown:h,"data-id":m,children:[i,a,s]})},ue=()=>{const{showInfoMessage:t}=Ns();return async(n,o)=>{if(!navigator?.clipboard)return t({text:e(qs,{}),type:"error",timeout:2e4}),!1;try{return await navigator.clipboard.writeText(n),o&&t({text:o,type:"success"}),!0}catch(r){return r instanceof Error&&t({text:`${r.name}: ${r.message}`,type:"error"}),console.warn("Copy failed",r),!1}}},qs=()=>e("div",{className:"vm-snackbar-details",children:[e("p",{className:"vm-snackbar-details__title",children:"Clipboard not supported"}),window.isSecureContext?e("p",{className:"vm-snackbar-details__msg",children:[e("p",{children:"Common reasons:"}),e("ul",{children:[e("li",{children:"Browser restrictions"}),e("li",{children:"Insecure connection (HTTP)"}),e("li",{children:"Permissions not granted"})]}),e("p",{children:["For detailed information, visit the ",e("a",{className:"vm-link vm-link_underlined vm-link_colored",href:"https://developer.mozilla.org/en-US/docs/Web/API/Clipboard_API#security_considerations",target:"_blank",rel:"noopener noreferrer",children:"Clipboard API documentation"})]})]}):e("p",{className:"vm-snackbar-details__msg",children:[e("p",{children:"This page is not running in a secure context (HTTPS)."}),e("p",{children:"Clipboard operations require a secure context."}),e("a",{className:"vm-link vm-link_underlined vm-link_colored",href:"https://developer.mozilla.org/en-US/docs/Web/Security/Secure_Contexts",target:"_blank",rel:"noopener noreferrer",children:"Learn more about secure contexts"})]})]}),Us=({field:t,value:n,hideGroupButton:o})=>{const r=ue(),[a,s]=J(),[i,l]=A(!1),c=a.get(ne.GROUP_BY)||ve,u=a.get(ne.DISPLAY_FIELDS)||"",d=u?u.split(","):[],h=d.includes(t),m=c===t,p=z(async()=>{if(!i)try{await r(`${t}: ${JSON.stringify(n)}`),l(!0)}catch(f){console.error(f)}},[i,r]),g=()=>{const f=d,v=f.includes(t)?f.filter(y=>y!==t):[...f,t];a.set(ne.DISPLAY_FIELDS,v.join(",")),s(a)},_=()=>{m?a.delete(ne.GROUP_BY):a.set(ne.GROUP_BY,t),s(a)};return L(()=>{if(i===null)return;const f=setTimeout(()=>l(!1),2e3);return()=>clearTimeout(f)},[i]),e("tr",{className:"vm-group-logs-row-fields-item",children:[e("td",{className:"vm-group-logs-row-fields-item-controls",children:e("div",{className:"vm-group-logs-row-fields-item-controls__wrapper",children:[e(q,{title:i?"Copied":"Copy to clipboard",children:e(D,{className:"vm-group-logs-row-fields-item-controls__button",variant:"text",color:"gray",size:"small",startIcon:e(pe,{}),onClick:p,ariaLabel:"copy to clipboard"})}),e(q,{title:h?"Hide this field":"Show this field instead of the message",children:e(D,{className:"vm-group-logs-row-fields-item-controls__button",variant:"text",color:h?"secondary":"gray",size:"small",startIcon:h?e(Qe,{}):e(Qe,{}),onClick:g,ariaLabel:h?"Hide this field":"Show this field instead of the message"})}),!o&&e(q,{title:m?"Ungroup this field":"Group by this field",children:e(D,{className:"vm-group-logs-row-fields-item-controls__button",variant:"text",color:m?"secondary":"gray",size:"small",startIcon:e(Et,{}),onClick:_,ariaLabel:m?"Ungroup this field":"Group by this field"})})]})}),e("td",{className:"vm-group-logs-row-fields-item__key",children:t}),e("td",{className:"vm-group-logs-row-fields-item__value",children:n})]})},js=Ze(Us),jt=t=>{const[n,o]=A(!!Se(t)),r=z(()=>{const s=!!Se(t);s!==n&&o(s)},[t,n]),a=z(s=>{we(t,s)},[t]);return oe("storage",r),T(()=>[n,a],[n,a])},Ys=({log:t,hideGroupButton:n})=>{const o=T(()=>Object.entries(t).sort(([a],[s])=>a.localeCompare(s)),[t]),[r]=jt("LOGS_DISABLED_HOVERS");return e("div",{className:F({"vm-group-logs-row-fields":!0,"vm-group-logs-row-fields_interactive":!r}),children:e("table",{children:e("tbody",{children:o.map(([a,s])=>e(js,{field:a,value:s,hideGroupButton:n},a))})})})},Le=({title:t,children:n,onClose:o,className:r,isOpen:a=!0})=>{const{isMobile:s}=K(),i=It(),l=$e(),c=z(m=>{a&&m.key==="Escape"&&o()},[a]),u=m=>{m.stopPropagation()},d=z(()=>{a&&(i(l,{replace:!0}),o())},[a,l,o]);return L(()=>{if(a)return document.body.style.overflow="hidden",()=>{document.body.style.overflow="auto"}},[a]),oe("popstate",d),oe("keyup",c),Ve(e("div",{className:F({"vm-modal":!0,"vm-modal_mobile":s,[`${r}`]:r}),onMouseDown:o,children:e("div",{className:"vm-modal-content",onMouseDown:u,children:[e("div",{className:"vm-modal-content-header",children:[t&&e("div",{className:"vm-modal-content-header__title",children:t}),e("div",{className:"vm-modal-content-header__close",children:e(D,{variant:"text",size:"small",onClick:o,ariaLabel:"close",children:e(Be,{})})})]}),e("div",{className:"vm-modal-content-body",tabIndex:0,children:n})]})}),document.body)},Gs=t=>`${t}/select/logsql/query`,Ws=t=>`${t}/select/logsql/hits`,et=()=>{const[t]=J(),n=t.get("accountID")||"0",o=t.get("projectID")||"0";return T(()=>({AccountID:n,ProjectID:o}),[n,o])},je=(t,n)=>{const{serverUrl:o}=re(),r=et(),[a]=J(),[s,i]=A([]),[l,c]=A({}),[u,d]=A(),[h,m]=A({}),[p,g]=A(),_=R(new AbortController),f=T(()=>a.get("hide_logs"),[a]),v=T(()=>Gs(o),[o]),y=({period:w,query:k,limit:S})=>{if(!k)throw new Error("query is required to /select/logsql/query.");const N=new URLSearchParams({query:k.trim()});return S&&N.set("limit",String(S)),w&&(N.set("start",O(w.start*1e3).tz().toISOString()),N.set("end",O(w.end*1e3).tz().toISOString())),N},b=({signal:w})=>({signal:w,method:"POST",headers:{...r,Accept:"application/stream+json"}}),C=z(async({query:w=t,limit:k=n,period:S,extraParams:N,beforeFetch:x,isDownload:E=!1})=>{_.current=new AbortController;const{signal:M}=_.current,P=b({signal:M});let H=y({query:w,limit:k,period:S});const U={...Object.fromEntries(H),...P.headers};if(c(U),x){const I=await x(new URLSearchParams(H));if(I.action==="abort")return!1;I.action==="modify"&&(H=eo(H,I.body,"overwrite"))}const Y=N?eo(H,N,"append"):H,G={...Object.fromEntries(Y),...P.headers},Z=Date.now();m(I=>({...I,[Z]:!0})),g(void 0);try{const I=await fetch(v,{body:Y,...P});if(E)return I;const V=I.headers.get("vl-request-duration-seconds");d(V?Number(V)*1e3:void 0);const B=await I.text();if(!I.ok||!I.body)return g(B),i([]),!1;const $=B.split(`
`).map(Qs).filter(ee=>ee);return i($),c(G),$}catch(I){return I instanceof Error&&I.name!=="AbortError"&&(g(String(I)),console.error(I),i([])),!1}finally{m(I=>{const{[Z]:V,...B}=I;return B})}},[v,t,n,r]);return L(()=>()=>_.current.abort(),[]),L(()=>{f&&(i([]),g(void 0))},[f]),{logs:s,queryParams:l,isLoading:Object.values(h).some(w=>w),error:p,fetchLogs:C,durationMs:u,abortController:_.current}},Qs=t=>{try{return t&&JSON.parse(t)}catch(n){return console.error(`Failed to parse "${t}" to JSON
`,n),null}},Ks=(t,n,o="")=>{const r=n[0],a=n[n.length-1];return o?n.map(s=>`${lo(s,r,a)} ${o}`):n.map(s=>lo(s,r,a))},lo=(t,n,o)=>{if(t==null)return"";o=o||0,n=n||0;const r=Math.abs(o-n);if(isNaN(r)||r==0)return Math.abs(t)>=1e3?t.toLocaleString("en-US"):t.toString();let a=3+Math.floor(1+Math.log10(Math.max(Math.abs(n),Math.abs(o)))-Math.log10(r));return(isNaN(a)||a>20)&&(a=20),t.toLocaleString("en-US",{minimumSignificantDigits:1,maximumSignificantDigits:a})},Zs=(t,n)=>{const o=document.createElement("span");o.innerText=t,o.style.cssText=`position: absolute; z-index: -1; pointer-events: none; opacity: 0; font: ${n}`,document.body.appendChild(o);const r=o.offsetWidth;return o.remove(),r},Js=[[3600*24*365,"{YYYY}",null,null,null,null,null,null,1],[3600*24*28,"{MMM}",`
{YYYY}`,null,null,null,null,null,1],[3600*24,"{MM}-{DD}",`
{YYYY}`,null,null,null,null,null,1],[3600,"{HH}:{mm}",`
{YYYY}-{MM}-{DD}`,null,`
{MM}-{DD}`,null,null,null,1],[60,"{HH}:{mm}",`
{YYYY}-{MM}-{DD}`,null,`
{MM}-{DD}`,null,null,null,1],[1,"{HH}:{mm}:{ss}",`
{YYYY}-{MM}-{DD}`,null,`
{MM}-{DD} {HH}:{mm}`,null,null,null,1],[.001,":{ss}.{fff}",`
{YYYY}-{MM}-{DD} {HH}:{mm}`,null,`
{MM}-{DD} {HH}:{mm}`,null,`
{HH}:{mm}`,null,1]],Xs=(t,n)=>Array.from(new Set(t.map(o=>o.scale))).map(o=>{const r="10px Arial",a=xe("color-text"),s={scale:o,show:!0,size:ti,stroke:a,font:r,values:(i,l)=>Ks(i,l,n)};return o?!(Number(o)%2)&&o!=="y"?{...s,side:1}:s:{space:80,values:Js,stroke:a,font:r}}),ei=(t,n)=>{if(n==null)return[-1,1];const r=.02*(Math.abs(n-t)||Math.abs(t)||1);return[t-r,n+r]},ti=(t,n,o,r)=>{const a=t.axes[o];if(r>1)return a._size||60;let s=6+(a?.ticks?.size||0)+(a.gap||0);const i=(n??[]).reduce((l,c)=>c?.length>l.length?c:l,"");return i!=""&&(s+=Zs(i,"10px Arial")),Math.ceil(s)},ni=t=>{Object.keys(t.hooks).forEach(n=>{t.hooks[n]=[]})},Sr=t=>{for(let n=t.series.length-1;n>=0;n--)n&&t.delSeries(n)},oi=(t,n,o=!1)=>{n.forEach((r,a)=>{r.label&&(r.spanGaps=o),a&&t.addSeries(r)})},ri=t=>{Sr(t),ni(t),t.setData([])},ai=t=>n=>{const o=n.posToVal(n.select.left,"x"),r=n.posToVal(n.select.left+n.select.width,"x");t({min:o,max:r})},si=(t,n)=>{if(t.delBand(),n.length<2)return;const o=n.map((i,l)=>({...i,index:l})),r=o.filter(i=>i.forecast===_e.yhatUpper),a=o.filter(i=>i.forecast===_e.yhatLower),s=r.map(i=>{const l=a.find(c=>c.forecastGroup===i.forecastGroup);return l?{series:[i.index,l.index],fill:ii(_e.yhatUpper)}:null}).filter(i=>i!==null);s.length&&s.forEach(i=>{t.addBand(i)})};function ii(t){return`rgba(${wr(Ts[t])}, 0.05)`}var Ee=(t=>(t.BAR="Bars",t.LINE="Lines",t.LINE_STEPPED="Stepped lines",t.POINTS="Points",t))(Ee||{});const li=(t,n,o,r)=>{const a=t.under.clientWidth/jo-1,s=Ot?.paths?.bars?.({size:[.96,a]});return s?s(t,n,o,r):null},ci=(t,n,o,r)=>{const a=Ot?.paths?.stepped?.({align:1});return a?a(t,n,o,r):null},di=t=>{switch(t){case Ee.BAR:return li;case Ee.LINE_STEPPED:return ci;default:return}},ui=t=>{let n=t.length,o=-1/0;for(;n--;){const r=t[n];Number.isFinite(r)&&r>o&&(o=r)}return Number.isFinite(o)?o:null},mi=t=>t>=1e9?(t/1e9).toFixed(1).replace(/\.0$/,"")+"B":t>=1e6?(t/1e6).toFixed(1).replace(/\.0$/,"")+"M":t>=1e3?(t/1e3).toFixed(1).replace(/\.0$/,"")+"K":t.toString(),hi=["color-log-hits-bar-1","color-log-hits-bar-2","color-log-hits-bar-3","color-log-hits-bar-4","color-log-hits-bar-5"],pi={[Ee.BAR]:1,[Ee.LINE_STEPPED]:2,[Ee.LINE]:1.2,[Ee.POINTS]:0},pn="other",Ar=t=>t?._isOther?pn:Object.values(t?.fields||{}).map(o=>o||'""').join(", "),gi=(t,n=0,o=1)=>{const r=t.series.filter(({scale:s})=>s==="y").map(({max:s})=>s||o),a=ui(r);return ei(0,a||o)},_i=({data:t,logHits:n,xRange:o,bands:r,containerSize:a,onReadyChart:s,setPlotScale:i,graphOptions:l,timezone:c})=>{const{isDarkTheme:u}=re(),[d,h]=A(-1),m=_=>{const f=_.cursor.idx??-1;h(f)},p=T(()=>{let _=0;return t.map((f,v)=>{if(v===0)return{};const y=n?.[v-1],b=Ar(y),C=y?._isOther,w=C?"color-log-hits-bar-0":hi[_],k=_>=5?Es(b):xe(w);return C||(_+=1),{label:b,width:pi[l.graphStyle],spanGaps:!0,show:!0,stroke:k,fill:l.fill&&!C?`${k}80`:l.fill?k:"",paths:di(l.graphStyle)}})},[u,t,l]);return{options:{series:p,bands:r,width:a.width||window.innerWidth/2,height:a.height||200,cursor:{points:{width:(_,f,v)=>v/4,size:(_,f)=>(_.series?.[f]?.points?.size||1)*1.5,stroke:(_,f)=>`${p?.[f]?.stroke||"#ffffff"}`,fill:()=>"#ffffff"}},scales:{x:{time:!0,range:()=>[o.min,o.max]},y:{range:gi}},hooks:{drawSeries:[],ready:[s],setCursor:[m],setSelect:[ai(i)],destroy:[ri]},legend:{show:!1},axes:Xs([{},{scale:"y"}]),tzDate:_=>Ot.tzDate(new Date(Math.round(_*1e3)),c)},series:p,focusDataIdx:d}},xr=t=>(/^{.+}$/.test(t)?t.slice(1,-1).split(","):[t]).filter(Boolean),Lr=t=>{const n=O(t.start*1e3),o=O(t.end*1e3),r=o.diff(n,"milliseconds"),a=Math.ceil(r/jo)||1;return{start:n,end:o,step:a}},Tr=(t,n=ve)=>/(.+)?=(".+")/.test(t)?t.replace(/=/,": "):`${n}: ${JSON.stringify(t)}`,fi=t=>t.reduce((n,o)=>n+(o.total||0),0),Er=t=>(n,o)=>{if(n.label===pn)return 1;if(o.label===pn)return-1;const r=n[t];return o[t]-r},vi=(t,n)=>t._time!==n._time?!1:[...new Set([...Object.keys(t),...Object.keys(n)])].every(r=>t[r]===n[r]),bi=(t,n)=>t.filter(o=>!vi(o,n)),yi=(t,n,o)=>{const{_stream_id:r,_time:a}=t;if(!r||!a)throw new Error("Log must contain _stream_id and _time fields.");return`_stream_id:${r} _time:${Xo(a)} | stream_context ${n} ${o} | sort by (_time) desc`},wi=(t,n)=>(o,r)=>{const a=t==="after"?bi(o,r):o;n(s=>t==="after"?a.concat(s):s.concat(a))},Ci=()=>{const{fetchLogs:t,isLoading:n,error:o,abortController:r}=je(),[a,s]=A([]),[i,l]=A([]),[c,u]=A({before:!0,after:!0}),d=async(p,g,_,f)=>{if(!(g<=0))try{const v=await t({query:yi(f,p,g)});Array.isArray(v)&&v.length&&(wi(p,_)(v,f),u(y=>({...y,[p]:v.length>=g})))}catch(v){console.error(`Error fetching ${p} logs:`,v)}};return{logsBefore:a,logsAfter:i,hasMore:c,isLoading:n,error:o,fetchContextLogs:async({log:p,linesBefore:g=0,linesAfter:_=0})=>{await Promise.allSettled([d("before",g,s,p),d("after",_,l,p)])},resetContextLogs:()=>{s([]),l([]),u({before:!0,after:!0})},abortController:r}},bt=(t,n,o)=>{const r=z(a=>{const s=t?.current,i=a.target,l=o?.current&&o.current.contains(i);!s||s.contains(a?.target||null)||l||n(a)},[t,n]);oe("mouseup",r),oe("touchstart",r)},ge=({children:t,buttonRef:n,placement:o="bottom-left",placementPosition:r,open:a=!1,onClose:s,offset:i={top:6,left:0},clickOutside:l=!0,fullWidth:c,title:u,disabledFullScreen:d,variant:h})=>{const{isMobile:m}=K(),p=It(),g=$e(),[_,f]=A({width:0,height:0}),[v,y]=A(!1),b=R(null);L(()=>(y(a),!a&&s&&s(),a&&m&&!d&&(document.body.style.overflow="hidden"),()=>{document.body.style.overflow="auto"}),[a]),L(()=>{f({width:b?.current?.clientWidth||0,height:b?.current?.clientHeight||0}),y(!1)},[b]);const C=T(()=>{const x=n.current;if(!x||!v)return{};const E=x.getBoundingClientRect(),M={top:0,left:0,width:"auto"},P=o==="bottom-right"||o==="top-right",H=o?.includes("top"),U=i?.top||0,Y=i?.left||0;if(M.left=M.left=E.left+Y,M.top=E.height+E.top+U,P&&(M.left=E.right-_.width),H&&(M.top=E.top-_.height-U),o==="fixed"&&r)return M.top=Math.max(r.top+i.top,0),M.left=Math.max(r.left+i.left,0),M;const{innerWidth:G,innerHeight:Z}=window,I=M.top+_.height>Z,V=M.top<0,B=M.left+_.width>G,$=M.left<0;return I&&(M.top=E.top-_.height-U),V&&(M.top=E.height+E.top+U),B&&(M.left=E.right-_.width-Y),$&&(M.left=E.left+Y),c&&(M.width=`${E.width}px`),M.top<0&&(M.top=0),M.left<0&&(M.left=0),M},[n,o,v,t,c]),w=x=>{x.stopPropagation(),s()},k=()=>{y(!1),s()},S=()=>{l&&k()};L(()=>{if(!b.current||!v||m&&!d)return;const{right:x,width:E}=b.current.getBoundingClientRect();if(x>window.innerWidth){const M=window.innerWidth-E;b.current.style.left=`${M}px`}},[v,b,r]);const N=z(()=>{v&&m&&!d&&(p(g,{replace:!0}),s())},[v,m,d,g,s]);return oe("scroll",k),oe("popstate",N),bt(b,S,n),e(j,{children:(v||!_.width)&&Ve(e("div",{className:F({"vm-popper":!0,[`vm-popper_${h}`]:h,"vm-popper_mobile":m&&!d,"vm-popper_open":(m||Object.keys(C).length)&&v}),ref:b,style:m&&!d?{}:C,children:[(u||m&&!d)&&e("div",{className:"vm-popper-header",children:[e("p",{className:"vm-popper-header__title",children:u}),e(D,{variant:"text",color:h==="dark"?"white":"primary",size:"small",onClick:w,ariaLabel:"close",children:e(Be,{})})]}),t]}),document.body)})},ki=({error:t,warning:n,info:o})=>{const r=R(null),[a,s]=A(!1),[i,l]=A(!1),u=`${T(()=>t?"ERROR: ":n?"WARNING: ":"",[t,n])}${t||n||o}`,d=()=>{const m=r.current;if(m){const{offsetWidth:p,scrollWidth:g,offsetHeight:_,scrollHeight:f}=m,v=p+1<g||_+1<f;s(v)}else s(!1)},h=()=>{a&&(l(!0),s(!1))};return L(()=>{l(!1),d()},[r,u]),oe("resize",d),!t&&!n&&!o?null:e("span",{className:F({"vm-text-field__error":!0,"vm-text-field__warning":n&&!t,"vm-text-field__helper-text":!n&&!t,"vm-text-field__error_overflowed":a,"vm-text-field__error_full":i}),"data-show":!!u,ref:r,onClick:h,children:u})},Ae=Rt(({label:t,value:n,type:o="text",error:r="",warning:a="",helperText:s="",placeholder:i,endIcon:l,startIcon:c,disabled:u=!1,autofocus:d=!1,inputmode:h="text",caretPosition:m,onChange:p,onEnter:g,onKeyDown:_,onFocus:f,onBlur:v,onChangeCaret:y},b)=>{const{isDarkTheme:C}=re(),{isMobile:w}=K(),k=R(null),S=R(null),N=T(()=>o==="textarea"?S:k,[o]),x=F({"vm-text-field__input":!0,"vm-text-field__input_error":r,"vm-text-field__input_warning":!r&&a,"vm-text-field__input_icon-start":c,"vm-text-field__input_disabled":u,"vm-text-field__input_textarea":o==="textarea"}),E=$=>{if(!y)return;const{selectionStart:ee,selectionEnd:ie}=$;y&&y([ee||0,ie||0])},M=$=>{E($.currentTarget)},P=$=>{_&&_($);const{key:ee,ctrlKey:ie,metaKey:Pe}=$,Re=ee==="Enter";(o!=="textarea"?Re:Re&&(Pe||ie))&&g&&($.preventDefault(),g())},H=$=>{E($.currentTarget)},U=$=>{u||(p&&p($.currentTarget.value),E($.currentTarget))},Y=()=>{f&&f()},G=()=>{v&&v()},Z=$=>{try{N.current&&N.current.setSelectionRange($[0],$[1])}catch(ee){return ee}},I=z($=>{b&&(typeof b=="function"?b($):b.current=$)},[]),V=z($=>{I($),k.current=$},[]),B=z($=>{I($),S.current=$},[]);return L(()=>{!d||w||N?.current?.focus&&N.current.focus()},[N,d]),L(()=>{m&&Z(m)},[m]),e("label",{className:F({"vm-text-field":!0,"vm-text-field_textarea":o==="textarea","vm-text-field_dark":C}),"data-replicated-value":n,children:[c&&e("div",{className:"vm-text-field__icon-start",children:c}),l&&e("div",{className:"vm-text-field__icon-end",children:l}),o==="textarea"?e("textarea",{className:x,disabled:u,ref:B,value:n,rows:1,inputMode:h,placeholder:i,autoCapitalize:"none",onInput:U,onKeyDown:P,onKeyUp:H,onFocus:Y,onBlur:G,onMouseUp:M}):e("input",{className:x,disabled:u,ref:V,value:n,type:o,placeholder:i,inputMode:h,autoCapitalize:"none",onInput:U,onKeyDown:P,onKeyUp:H,onFocus:Y,onBlur:G,onMouseUp:M}),t&&e("span",{className:"vm-text-field__label",children:t}),e(ki,{error:r,warning:a,info:s})]})}),Ni=[10,25,50,100,250,500,1e3],Ce=t=>{const{limit:n,label:o,options:r,allowUnlimited:a,isLoading:s,error:i,searchable:l,textNoOptions:c,onChange:u,onOpenSelect:d,renderOptionLabel:h}=t,[m,p]=A(""),{isMobile:g}=K(),_=R(null),f=T(()=>{const S=r||Ni;return a?[...S,0]:S},[a,r]),v=T(()=>{if(!l||!m.trim())return f;const S=m.toLowerCase();return f.filter(N=>String(N).toLowerCase().includes(S))},[f,m,l]),{value:y,toggle:b,setFalse:C}=X(),w=()=>{b(),y||d?.()},k=S=>()=>{u(S),C()};return e(j,{children:[e("div",{className:"vm-select-limits-button",onClick:w,ref:_,children:[e("div",{children:[o||"Rows per page",": ",e("b",{children:h?h(n,!0):n||"All"})]}),e(Oe,{})]}),e(ge,{open:y,onClose:C,placement:"bottom-right",buttonRef:_,children:e("div",{className:"vm-select-limits",children:[s&&e(D,{disabled:!0,color:"gray",variant:"text",startIcon:e(qt,{}),children:"loading..."}),i&&e("div",{className:"vm-select-limits__error",children:[e(Vt,{}),i]}),!s&&!i&&f.length===0&&e("div",{className:"vm-select-limits__empty",children:c||"No options available"}),l&&!s&&!i&&!!f.length&&e("div",{className:"vm-select-limits__search",children:e(Ae,{autofocus:!0,label:"Search",value:m,onChange:p})}),e("div",{className:"vm-select-limits-list",children:!s&&!i&&v.map(S=>e("div",{className:F({"vm-list-item":!0,"vm-select-limits__item":!0,"vm-list-item_mobile":g,"vm-list-item_active":S===n}),onClick:k(S),children:h?h(S,!1):S||"All"},S))})]})})]})},be=({value:t=!1,disabled:n=!1,label:o,color:r="secondary",fullWidth:a,onChange:s})=>{const i=()=>{n||s(!t)},l=F({"vm-switch":!0,"vm-switch_full-width":a,"vm-switch_disabled":n,"vm-switch_active":t,[`vm-switch_${r}_active`]:t,[`vm-switch_${r}`]:r});return e("div",{className:l,onClick:i,children:[e("div",{className:"vm-switch-track",children:e("div",{className:"vm-switch-track__thumb"})}),o&&e("span",{className:"vm-switch__label",children:o})]})},ce={home:"/",overview:"/overview",streamContext:"/stream-context/:_stream_id/:_time",icons:"/icons"},ct={[ce.home]:{title:"Query",header:{tenant:!0,timeSelector:!0,executionControls:!0}},[ce.overview]:{title:"Overview",header:{tenant:!0,timeSelector:!0,executionControls:!0}},[ce.icons]:{title:"Icons",header:{}},[ce.streamContext]:{title:"Stream context",header:{}}},Mr=({log:t,displayFields:n,isModal:o})=>{const[r,a]=J(),s=r.get(ne.NO_WRAP_LINES)==="true",[i,l]=A(10),{logsBefore:c,logsAfter:u,hasMore:d,isLoading:h,error:m,fetchContextLogs:p,resetContextLogs:g,abortController:_}=Ci(),f=()=>{const C=u[0];p({log:C,linesAfter:i})},v=()=>{const C=c[c.length-1];p({log:C,linesBefore:i})},y=C=>{l(C)},b=()=>{r.set(ne.NO_WRAP_LINES,String(!s)),a(r)};return L(()=>(p({log:t,linesBefore:10,linesAfter:10}),()=>{g(),_?.abort()}),[]),e("div",{className:F({"vm-steam-context":!0,"vm-steam-context_modal":o}),children:[h&&e(Xe,{}),m&&e(he,{variant:"error",children:m}),e("div",{className:"vm-steam-context-header",children:[!o&&e("div",{className:"vm-steam-context-header-title",children:[e("h1",{className:"vm-modal-content-header__title",children:"Log context"}),e("p",{className:"vm-steam-context-header-title__info",children:[e("span",{children:["_stream_id: ",t._stream_id]}),e("span",{children:["_time: ",t._time]})]})]}),o&&e("div",{className:"vm-steam-context-header__link",children:e($o,{target:"_blank",to:oa(ce.streamContext,{_stream_id:t._stream_id,_time:t._time}),rel:"noreferrer",children:e(D,{startIcon:e(Un,{}),variant:"text",size:"small",children:"Open in new page"})})}),e(be,{label:"Wrap lines",value:!s,onChange:b}),e(Ce,{limit:i,label:"Logs per load",options:[5,10,20,50,100],onChange:y})]}),e("div",{className:"vm-steam-context__load-more vm-steam-context__load-more_after",children:e(D,{onClick:f,disabled:h||!d.after,variant:d.after?"contained":"text",children:d.after?"Load newer logs":"no more logs after"})}),e("div",{className:"vm-group-logs-section-rows",children:[u.map((C,w)=>e(Ft,{isContextView:!0,hideGroupButton:!0,log:C,displayFields:n},`${w}_${C._time}`)),c.map((C,w)=>e(Ft,{isContextView:!0,hideGroupButton:!0,log:C,displayFields:n,className:w===0?"vm-steam-context__target-row":""},`${w}_${C._time}`))]}),e("div",{className:"vm-steam-context__load-more vm-steam-context__load-more_before",children:e(D,{onClick:v,disabled:h||!d.before,variant:d.before?"contained":"text",children:d.before?"Load older logs":"no more logs before"})})]})},Si=({log:t,displayFields:n})=>{const o=["_stream_id","_time"],r=T(()=>o.every(u=>t[u]),[t]),{value:a,setTrue:s,setFalse:i}=X(),l=u=>{u.stopPropagation(),s()},c=()=>{i()};return r?e(j,{children:[e(q,{title:"Show context",children:e(D,{variant:"text",color:"gray",startIcon:e(vr,{}),onClick:l,ariaLabel:"show context"})}),a&&e(Le,{title:"Log context",isOpen:a,onClose:c,children:e(Mr,{isModal:!0,log:t,displayFields:n})})]}):null},Ai=({log:t,displayFields:n=[],isContextView:o,hideGroupButton:r,className:a,onItemClick:s})=>{const{isDarkTheme:i}=re(),{value:l,toggle:c}=X(),[u,d]=A(!1),h=ue(),[m]=J(),{markdownParsing:p,ansiParsing:g}=Pn(),{timezone:_}=se(),f=m.get(ne.NO_WRAP_LINES)==="true",v=m.get(ne.DATE_FORMAT)||Ge,y=T(()=>t._time?Ua(t._time,v):"",[t._time,_,v]),b=T(()=>!p||!t._msg||!n.includes("_msg")?"":Cn(t._msg.replace(/```/g,"\n```\n")),[t._msg,p,n]),C=Object.keys(t).length>0,w=T(()=>{const x=[];return C||x.push("-"),n.some(E=>t[E])?n.filter(E=>t[E]).forEach(E=>{let M=t[E];const P=E==="_msg";P&&g&&(M=Bs(t[E])),P&&p&&(M=""),M&&x.push(M)}):Object.entries(t).forEach(([E,M])=>{x.push(`${E}: ${M}`)}),x},[t,C,n,g,p]),[k]=jt("LOGS_DISABLED_HOVERS"),S=()=>{c(),s?.(t)},N=z(async x=>{if(x.stopPropagation(),!u)try{await h(JSON.stringify(t,null,2)),d(!0)}catch(E){console.error(E)}},[u,h]);return L(()=>{if(u===null)return;const x=setTimeout(()=>d(!1),2e3);return()=>clearTimeout(x)},[u]),e("div",{className:F("vm-group-logs-row",a),children:[e("div",{className:F({"vm-group-logs-row-content":!0,"vm-group-logs-row-content_dark":i,"vm-group-logs-row-content_active":l,"vm-group-logs-row-content_interactive":!k}),onClick:S,children:[C&&e("div",{className:F({"vm-group-logs-row-content__arrow":!0,"vm-group-logs-row-content__arrow_open":l}),children:e(de,{})}),e("div",{className:F({"vm-group-logs-row-content__time":!0,"vm-group-logs-row-content__time_missing":!y}),children:y||"timestamp missing"}),e("div",{className:F({"vm-group-logs-row-content__msg":!0,"vm-group-logs-row-content__msg_empty-msg":!t._msg,"vm-group-logs-row-content__msg_missing":!w,"vm-group-logs-row-content__msg_single-line":f}),children:[b&&e("span",{dangerouslySetInnerHTML:{__html:b}}),w.map((x,E)=>e("span",{className:"vm-group-logs-row-content__sub-msg",children:x},`${x}_${E}`))]}),e("div",{className:F({"vm-group-logs-row-content__actions":!0,"vm-group-logs-row-content__actions_active":l}),children:[!o&&e(Si,{log:t,displayFields:n}),e(q,{title:u?"Copied":"Copy to clipboard",children:e(D,{variant:"text",color:"gray",startIcon:e(pe,{}),onClick:N,ariaLabel:"copy to clipboard"})})]})]}),C&&l&&e(Ys,{hideGroupButton:r,log:t})]})},Ft=Ze(Ai),Fr=({value:t,options:n,anchor:o,disabled:r,minLength:a=2,fullWidth:s,selected:i,noOptionsText:l,label:c,disabledFullScreen:u,offset:d,maxDisplayResults:h,loading:m,onSelect:p,onOpenAutocomplete:g,onFoundOptions:_,onChangeWrapperRef:f})=>{const{isMobile:v}=K(),y=R(null),[b,C]=A({index:-1}),[w,k]=A(""),[S,N]=A(0),{value:x,setValue:E,setFalse:M}=X(),P=T(()=>{if(!x)return[];try{const B=new RegExp(String(t.trim()),"i"),ee=n.filter(ie=>B.test(ie.value)).sort((ie,Pe)=>ie.value.toLowerCase()===t.trim().toLowerCase()?-1:Pe.value.toLowerCase()===t.trim().toLowerCase()?1:(ie.value.match(B)?.index||0)-(Pe.value.match(B)?.index||0));return N(ee.length),k(ee.length>Number(h?.limit)&&h?.message||""),h?.limit?ee.slice(0,h.limit):ee}catch{return[]}},[x,n,t]),H=T(()=>P.length===1&&P[0]?.value===t,[P]),U=T(()=>l&&!P.length,[l,P]),Y=B=>()=>{r||(p(B.value,B),i||M())},G=B=>()=>{C({index:B,type:0})},Z=()=>{C({index:-1})},I=()=>{if(!y.current||b.type===0)return;const B=y.current.childNodes[b.index];B?.scrollIntoView&&B.scrollIntoView({block:"center"})},V=z(B=>{const{key:$,ctrlKey:ee,metaKey:ie,shiftKey:Pe}=B,Re=ee||ie||Pe,te=P.length&&!H;if($==="ArrowUp"&&!Re&&te&&(B.preventDefault(),C(({index:ae})=>({index:ae<=0?0:ae-1,type:1}))),$==="ArrowDown"&&!Re&&te){B.preventDefault();const ae=P.length-1;C(({index:tt})=>({index:tt>=ae?ae:tt+1,type:1}))}if($==="Enter"){const ae=P[b.index];ae&&p(ae.value,ae),i||M()}$==="Escape"&&M()},[b,P,H,M,p,i]);return L(()=>{E(t.length>=a)},[t,n]),oe("keydown",V),L(I,[b,P]),L(()=>{C({index:-1})},[P]),L(()=>{g&&g(x)},[x]),L(()=>{_&&_(H?[]:P)},[P,H]),L(()=>{f&&f(y)},[y]),e(ge,{open:x,buttonRef:o,placement:"bottom-left",onClose:M,fullWidth:s,title:v?c:void 0,disabledFullScreen:u,offset:d,children:[e("div",{className:F({"vm-autocomplete":!0,"vm-autocomplete_mobile":v&&!u}),ref:y,children:[m&&e("div",{className:"vm-autocomplete__loader",children:[e(Rn,{}),e("span",{children:"Loading..."})]}),U&&e("div",{className:"vm-autocomplete__no-options",children:l}),!H&&P.map((B,$)=>e("div",{className:F({"vm-list-item":!0,"vm-list-item_mobile":v,"vm-list-item_active":$===b.index,"vm-list-item_multiselect":i,"vm-list-item_multiselect_selected":i?.includes(B.value),"vm-list-item_with-icon":B.icon}),id:`$autocomplete$${B.value}`,onClick:Y(B),onMouseEnter:G($),onMouseLeave:Z,children:[i?.includes(B.value)&&e(pt,{}),e(j,{children:B.icon}),e("span",{children:B.value})]},`${$}${B.value}`))]}),w&&e("div",{className:"vm-autocomplete-message",children:["Shown ",h?.limit," results out of ",S,". ",w]}),P[b.index]?.description&&e("div",{className:"vm-autocomplete-info",children:[e("div",{className:"vm-autocomplete-info__type",children:P[b.index].type}),e("div",{className:"vm-autocomplete-info__description",dangerouslySetInnerHTML:{__html:P[b.index].description||""}})]})]})},xi=({values:t,onRemoveItem:n})=>{const{isMobile:o}=K(),r=a=>s=>{n(a),s.stopPropagation()};return o?e("span",{className:"vm-select-input-content__counter",children:["selected ",t.length]}):e(j,{children:t.map(a=>e("div",{className:"vm-select-input-content__selected",children:[e("span",{children:a}),e("div",{onClick:r(a),children:e(Be,{})})]},a))})},co=({value:t,list:n,label:o,placeholder:r,noOptionsText:a,clearable:s=!1,searchable:i=!1,autofocus:l,disabled:c,onChange:u,onOpen:d})=>{const{isDarkTheme:h}=re(),{isMobile:m}=K(),[p,g]=A(""),_=R(null),[f,v]=A(null),[y,b]=A(!1),C=R(null),w=Array.isArray(t),k=Array.isArray(t)?t:void 0,S=m&&w&&!!k?.length,N=T(()=>y?p:Array.isArray(t)?"":t,[t,p,y,w]),x=T(()=>y?p||"(.+)":"",[p,y]),E=()=>{C.current&&C.current.blur()},M=()=>{b(!1),E()},P=()=>{c||b(!0)},H=()=>{n.includes(p)&&u(p)},U=V=>{V.target instanceof HTMLInputElement||c||b(B=>!B)},Y=V=>{g(""),u(V),w||M(),w&&C.current&&C.current.focus()},G=V=>{g(V.target.value)},Z=V=>B=>{Y(V),B.stopPropagation()},I=V=>{C.current!==V.target&&b(!1)};return L(()=>{g(""),y&&C.current&&C.current.focus(),y||E()},[y,C]),L(()=>{!l||!C.current||m||C.current.focus()},[l,C]),L(()=>{d&&d(y)},[y]),oe("keyup",I),bt(_,M,f),e("div",{className:F({"vm-select":!0,"vm-select_dark":h,"vm-select_disabled":c}),children:[e("div",{className:"vm-select-input",onClick:U,ref:_,children:[e("div",{className:"vm-select-input-content",children:[!!k?.length&&e(xi,{values:k,onRemoveItem:Y}),!S&&e("input",{value:N,type:"text",placeholder:r,onInput:G,onFocus:P,onBlur:H,ref:C,readOnly:m||!i})]}),o&&e("span",{className:"vm-text-field__label",children:o}),s&&t&&e("div",{className:"vm-select-input__icon",onClick:Z(""),children:e(Be,{})}),e("div",{className:F({"vm-select-input__icon":!0,"vm-select-input__icon_open":y}),children:e(Oe,{})})]}),e(Fr,{label:o,value:x,options:n.map(V=>({value:V})),anchor:_,selected:k,minLength:1,fullWidth:!0,noOptionsText:a,onSelect:Y,onOpenAutocomplete:b,onChangeWrapperRef:v})]})},Li=({text:t,href:n,children:o,colored:r=!0,underlined:a=!1,withIcon:s=!1})=>e("a",{href:n,className:F({"vm-link":!0,"vm-link_colored":r,"vm-link_underlined":a,"vm-link_with-icon":s}),target:"_blank",rel:"noreferrer",children:t||o}),Ti=()=>{const{isMobile:t}=K(),{markdownParsing:n,ansiParsing:o}=Pn(),r=tr();return e(j,{children:[e("div",{className:"vm-group-logs-configurator-item",children:[e(be,{label:"Enable markdown parsing",value:n,onChange:i=>{r({type:"SET_MARKDOWN_PARSING",payload:i}),o&&r({type:"SET_ANSI_PARSING",payload:!1})},fullWidth:t}),e("div",{className:"vm-group-logs-configurator-item__info",children:"Toggle this switch to enable or disable the Markdown formatting for log entries. Enabling this will parse log texts to Markdown."})]}),e("div",{className:"vm-group-logs-configurator-item",children:[e(be,{label:"Enable ANSI parsing",value:o,onChange:i=>{r({type:"SET_ANSI_PARSING",payload:i}),n&&r({type:"SET_MARKDOWN_PARSING",payload:!1})},fullWidth:t}),e("div",{className:"vm-group-logs-configurator-item__info",children:"Toggle this switch to enable or disable ANSI escape sequence parsing for log entries. Enabling this will interpret ANSI codes to render colored log output."})]})]})},{GROUP_BY:uo,NO_WRAP_LINES:mo,COMPACT_GROUP_HEADER:ho,DISPLAY_FIELDS:Xt,DATE_FORMAT:en}=ne,St="Group view settings",Ei=({logs:t})=>{const[n,o]=J(),r=n.get(uo)||ve,a=n.get(mo)==="true",s=n.get(ho)==="true",i=n.get(Xt)||"",l=i?i.split(","):[We],[c,u]=A(n.get(en)||Ge),[d,h]=A(""),[m,p]=jt("LOGS_DISABLED_HOVERS"),g=r!==ve,_=l.length!==1||l[0]!==We,f=c!==Ge,v=[g,_,a,s,f].some(Boolean),y=T(()=>{const U=new Set(t.map(Y=>Object.keys(Y)).flat());return Array.from(U).sort((Y,G)=>Y.localeCompare(G))},[t]),{value:b,toggle:C,setFalse:w}=X(),k=U=>{n.set(uo,U),o(n)},S=U=>{const Y=l,G=Y.includes(U)?Y.filter(Z=>Z!==U):[...Y,U];n.set(Xt,G.join(",")),o(n)},N=()=>{n.delete(Xt),o(n)},x=()=>{n.set(mo,String(!a)),o(n)},E=()=>{n.set(ho,String(!s)),o(n)},M=U=>{O(new Date,U,!0).isValid()||h("Invalid date format"),u(U)},P=()=>{c===Ge?n.delete(en):n.set(en,c),o(n),w()};return e(j,{children:[e("div",{className:"vm-group-logs-configurator-button",children:[e(q,{title:v?e("div",{className:"vm-group-logs-configurator__tooltip",children:[e("p",{children:St}),e("hr",{}),e("ul",{children:[g&&e("li",{children:["Group by ",e("code",{children:`"${r}"`})]}),_&&e("li",{children:["Display fields: ",l.length||1]}),a&&e("li",{children:"Single-line text is enabled"}),s&&e("li",{children:"Compact group header is enabled"}),f&&e("li",{children:["Date format: ",e("code",{children:c})]})]})]}):St,children:e(D,{variant:"text",startIcon:e(He,{}),onClick:C,ariaLabel:St})}),v&&e("span",{className:"vm-group-logs-configurator-button__marker"})]}),b&&e(Le,{title:St,onClose:P,children:e("div",{className:"vm-group-logs-configurator",children:[e("div",{className:"vm-group-logs-configurator-item",children:[e(co,{value:r,list:[cn,...y],label:"Group by field",placeholder:"Group by field",onChange:k,searchable:!0}),e(q,{title:"Reset grouping",children:e(D,{variant:"text",color:"primary",startIcon:e(st,{}),onClick:()=>k(ve)})}),e("span",{className:"vm-group-logs-configurator-item__info",children:["Select a field to group logs by (default: ",e("code",{children:ve}),")."]})]}),e("div",{className:"vm-group-logs-configurator-item",children:[e(co,{value:l,list:y,label:"Display fields",placeholder:"Display fields",onChange:S,searchable:!0}),e(q,{title:"Clear fields",children:e(D,{variant:"text",color:"primary",startIcon:e(st,{}),onClick:N})}),e("span",{className:"vm-group-logs-configurator-item__info",children:["Select fields to display instead of the message (default: ",e("code",{children:We}),")."]})]}),e("div",{className:"vm-group-logs-configurator-item",children:[e(Ae,{autofocus:!0,label:"Date format",value:c,onChange:M,error:d}),e(q,{title:"Reset format",children:e(D,{variant:"text",color:"primary",startIcon:e(st,{}),onClick:()=>u(Ge)})}),e("span",{className:"vm-group-logs-configurator-item__info vm-group-logs-configurator-item__info_input",children:["Set the date format (e.g., ",e("code",{children:"YYYY-MM-DD HH:mm:ss"}),"). Learn more in ",e(Li,{href:"https://day.js.org/docs/en/display/format",children:"this documentation"}),". ",e("br",{}),"Your current date format: ",e("code",{children:O().format(c||Ge)})]})]}),e(Ti,{}),e("div",{className:"vm-group-logs-configurator-item",children:[e(be,{value:a,onChange:x,label:"Single-line message"}),e("span",{className:"vm-group-logs-configurator-item__info",children:"Displays message in a single line and truncates it with an ellipsis if it exceeds the available space."})]}),e("div",{className:"vm-group-logs-configurator-item",children:[e(be,{value:s,onChange:E,label:"Compact group header"}),e("span",{className:"vm-group-logs-configurator-item__info",children:'Shows group headers in one line with a "+N more" badge for extra fields.'})]}),e("div",{className:"vm-group-logs-configurator-item",children:[e(be,{value:m,onChange:p,label:"Disable hover effects"}),e("span",{className:"vm-group-logs-configurator-item__info",children:"Disable row highlighting on hover to improve performance with large datasets."})]})]})})]})},po=({pair:t,isHide:n})=>{const{isDarkTheme:o}=re(),r=ue(),[a]=J(),[s,i]=A(null),l=a.get(ne.GROUP_BY)||ve,c=u=>async d=>{d.stopPropagation();const h=Tr(u,l);await r(h)&&i(u)};return L(()=>{if(s===null)return;const u=setTimeout(()=>i(null),2e3);return()=>clearTimeout(u)},[s]),e(q,{title:s===t?"Copied":"Copy to clipboard",placement:"top-center",children:e("div",{className:F({"vm-group-logs-section-keys__pair":!0,"vm-group-logs-section-keys__pair_hide":n,"vm-group-logs-section-keys__pair_dark":o}),onClick:c(t),children:t})})},Mi=({group:t,index:n})=>{const{isDarkTheme:o}=re(),[r]=J(),a=R(null),s=R(null),{value:i,toggle:l,setFalse:c}=X(),[u,d]=A(0),h=r.get(ne.GROUP_BY)||ve,m=r.get(ne.COMPACT_GROUP_HEADER)==="true",p=t.pairs,g=p.length-u-1,_=v=>{v.stopPropagation(),l()},f=z(()=>{if(!m||!a.current){d(0);return}const v=a.current,y=v.getBoundingClientRect(),C=Array.from(v.querySelectorAll(".vm-group-logs-section-keys__pair:not(.vm-group-logs-section-keys__pair_more)"));let w=0;for(const k of C){const{right:S}=k.getBoundingClientRect();S+220>y.width&&w++}d(w)},[m,a]);return L(f,[t.pairs,m,a]),oe("resize",f),e("div",{className:F({"vm-group-logs-section-keys":!0,"vm-group-logs-section-keys_compact":m}),ref:a,children:[e("span",{className:"vm-group-logs-section-keys__title",children:h===cn?cn:e(j,{children:[n+1,". Group by ",e("code",{children:h}),":"]})}),p.map((v,y)=>e(po,{pair:v,isHide:u?y>g:!1},`${t.keysString}_${v}`)),u>0&&e(j,{children:[e("div",{className:F({"vm-group-logs-section-keys__pair":!0,"vm-group-logs-section-keys__pair_more":!0,"vm-group-logs-section-keys__pair_dark":o}),ref:s,onClick:_,children:["+",u," more"]}),e(ge,{open:i,buttonRef:s,placement:"bottom-left",onClose:c,children:e("div",{className:"vm-group-logs-section-keys vm-group-logs-section-keys_popper",children:p.slice(g+1).map(v=>e(po,{pair:v},`${t.keysString}_${v}`))})})]}),e("span",{className:"vm-group-logs-section-keys__count",children:[t.total," entries"]})]})},Yn=({currentPage:t,totalItems:n,itemsPerPage:o,onPageChange:r,maxVisiblePages:a=10})=>{const s=Math.ceil(n/o),i=d=>{d<1||d>s||r(d)},l=T(()=>{const d=[];if(s<=a)for(let h=1;h<=s;h++)d.push(h);else{const h=Math.max(1,t-Math.floor(a/2)),m=Math.min(s,h+a-1);h>1&&(d.push(1),h>2&&d.push("..."));for(let p=h;p<=m;p++)d.push(p);m<s&&(m<s-1&&d.push("..."),d.push(s))}return d},[s,t,a]),c=d=>()=>{i(t+d)},u=d=>()=>{typeof d=="number"&&i(d)};return l.length<=1?null:e("div",{className:"vm-pagination",children:[e("button",{className:"vm-pagination__page vm-pagination__arrow vm-pagination__arrow_prev",onClick:c(-1),disabled:t===1,children:e(de,{})}),l.map((d,h)=>e("button",{onClick:u(d),className:F({"vm-pagination__page":!0,"vm-pagination__page_active":t===d,"vm-pagination__page_disabled":d==="..."}),disabled:d==="...",children:d},h)),e("button",{className:"vm-pagination__page vm-pagination__arrow vm-pagination__arrow_next",onClick:c(1),disabled:t===s,children:e(de,{})})]})},Fi=(t,n,o)=>T(()=>{if(!o)return t;const r=(n-1)*o,a=r+o;let s=0;const i=[];for(const l of t){const c=l.values.length,u=s,d=s+c;if(d<=r){s=d;continue}if(u>=a)break;const h=Math.max(0,r-u),m=Math.min(c,a-u),p={...l,values:l.values.slice(h,m)};if(i.push(p),s=d,s>=a)break}return i},[t,n,o]),Pi=({logs:t,settingsRef:n})=>{const{isMobile:o}=K(),[r,a]=J(),[s,i]=A(1),[l,c]=A([]),u=r.get(ne.GROUP_BY)||ve,d=r.get(ne.DISPLAY_FIELDS)||We,h=T(()=>d.split(","),[d]),m=r.get(ne.ROWS_PER_PAGE),p=m?Number(m):100,g=isNaN(p)?0:p,_=T(()=>l.every(Boolean),[l]),f=T(()=>Nr(t,[u]).map(k=>{const S=k.values[0]?.[u]||"",N=xr(S),x=k.values;return{keys:k.keys,keysString:k.keys.join(""),values:x,pairs:N,total:x.length}}).sort((k,S)=>S.total-k.total),[t,u]),v=Fi(f,s,g),y=z(()=>{c(new Array(f.length).fill(!_))},[_,f.length]),b=z(k=>S=>{c(N=>{const x=[...N];return x[k]=S,x})},[]),C=k=>{k?r.set(ne.ROWS_PER_PAGE,String(k)):r.set(ne.ROWS_PER_PAGE,"all"),a(r)},w=k=>{i(k),window.scrollTo({top:0})};return L(()=>{c(k=>{const S=k.every(N=>!N)&&k.length||o;return new Array(f.length).fill(!S)})},[f]),L(()=>{i(1)},[g,f]),e(j,{children:[e("div",{className:"vm-group-logs",children:[v.map((k,S)=>e("div",{className:"vm-group-logs-section",children:e(Cr,{defaultExpanded:l[S],onChange:b(S),title:e(Mi,{group:k,index:S}),children:e("div",{className:"vm-group-logs-section-rows",children:k.values.map((N,x)=>e(Ft,{log:N,displayFields:h},`${S}_${x}_${N._time}`))})})},k.keysString)),e(Yn,{currentPage:s,totalItems:t.length,itemsPerPage:g||1/0,onPageChange:w})]}),n.current&&Ve(e("div",{className:"vm-group-logs-header",children:[e("div",{className:"vm-query-page-body-header__log-info",children:["Total groups: ",e("b",{children:f.length})]}),e(Ce,{allowUnlimited:!0,limit:g,onChange:C}),e(q,{title:_?"Collapse All":"Expand All",children:e(D,{variant:"text",startIcon:_?e(gr,{}):e(pr,{}),onClick:y,ariaLabel:_?"Collapse All":"Expand All"})}),e(Ei,{logs:t})]}),n.current)]})},Gn=()=>e("div",{className:"vm-empty",children:"No logs found"}),Ii=Ze(Pi),Oi=({data:t,settingsRef:n})=>t.length?e(j,{children:e(Ii,{logs:t,settingsRef:n})}):e(Gn,{}),Ri=["date","timestamp","time"];function go(t,n,o){const r=t[o],a=n[o];if(r==null&&a==null)return 0;if(r==null)return 1;if(a==null)return-1;const s=String(r),i=String(a);if(Ri.includes(String(o))){const h=ro(s),m=ro(i);return m<h?-1:m>h?1:0}const c=Number(s),u=Number(i);return!isNaN(c)&&!isNaN(u)?u-c:i<s?-1:i>s?1:0}function Di(t,n){return t==="desc"?(o,r)=>go(o,r,n):(o,r)=>-go(o,r,n)}function zi(t,n){const o=t.map((r,a)=>[r,a]);return o.sort((r,a)=>{const s=n(r[0],a[0]);return s!==0?s:r[1]-a[1]}),o.map(r=>r[0])}const Pr=({rows:t,columns:n,defaultOrderBy:o,defaultOrderDir:r,copyToClipboard:a,isActiveRow:s,onClickRow:i,actionsRender:l,paginationOffset:c})=>{const u=ue(),[d,h]=A(o),[m,p]=A(r||"desc"),[g,_]=A(null),f=T(()=>{const{startIndex:b,endIndex:C}=c;return zi(t,Di(m,d)).slice(b,C)},[t,d,m,c]),v=b=>()=>{const{disableSort:C,key:w}=b;C||(p(k=>k==="asc"&&d===w?"desc":"asc"),h(w))},y=(b,C)=>async()=>{if(g!==C)try{await u(String(b)),_(C)}catch(w){console.error(w)}};return L(()=>{if(g===null)return;const b=setTimeout(()=>_(null),2e3);return()=>clearTimeout(b)},[g]),e("table",{className:"vm-table",children:[e("thead",{className:"vm-table-header",children:e("tr",{className:"vm-table__row vm-table__row_header",children:[n.map(b=>e("th",{className:F("vm-table-cell vm-table-cell_header",{"vm-table-cell_sort":!b.disableSort,"vm-table-cell_number":b.isNum}),onClick:v(b),children:e("div",{className:"vm-table-cell__content",children:[e("div",{children:String(b.title||b.key)}),e("div",{className:F({"vm-table__sort-icon":!0,"vm-table__sort-icon_active":d===b.key,"vm-table__sort-icon_desc":m==="desc"&&d===b.key}),children:!b.disableSort&&e(Oe,{})})]})},String(b.key))),l&&e("th",{className:"vm-table-cell vm-table-cell_header"}),a&&e("th",{className:"vm-table-cell vm-table-cell_header"})]})}),e("tbody",{className:"vm-table-body",children:f.map((b,C)=>e("tr",{className:F({"vm-table__row":!0,"vm-table__row_active":s&&s(b),"vm-table__row_clickable":!!i}),onClick:w=>i&&i(b,w),children:[n.map(w=>e("td",{className:F({"vm-table-cell":!0,"vm-table-cell_number":w.isNum,[`${w.className}`]:w.className}),children:w.render?w.render(b):b[w.key]||"-"},String(w.key))),l&&e("td",{className:"vm-table-cell vm-table-cell_no-padding",children:l(b)}),a&&e("td",{className:"vm-table-cell vm-table-cell_right",children:b[a]&&e("div",{className:"vm-table-cell__content",children:e(q,{title:g===C?"Copied":"Copy row",children:e(D,{variant:"text",color:g===C?"success":"gray",size:"small",startIcon:g===C?e(pt,{}):e(pe,{}),onClick:y(b[a],C),ariaLabel:"copy row"})})})})]},C))})]})},Hi=t=>{switch(t){case"_time":return"vm-table-cell_logs-time";default:return"vm-table-cell_logs"}},Vi=[{key:"_vmui_data",title:"Data",className:"vm-table-cell_logs vm-table-cell_pre"}],$i=({logs:t,displayColumns:n,tableCompact:o,columns:r,rowsPerPage:a})=>{const s=R(null),[i,l]=A(1),c=T(()=>t.map(p=>{const g=JSON.stringify(p,null,2);return{...p,_vmui_data:g}}),[t]),u=T(()=>r.map(p=>({key:p,title:p,className:Hi(p)})),[r]),d=T(()=>o?Vi:n?.length?u.filter(p=>n.includes(p.key)):[],[u,n,o]),h=T(()=>{const p=(i-1)*a,g=p+a;return{startIndex:p,endIndex:g}},[i,a]),m=p=>{if(l(p),s.current){const g=s.current.getBoundingClientRect().top+window.scrollY-50;window.scrollTo({top:g})}};return L(()=>{l(1)},[t,a]),e(j,{children:[e("div",{ref:s,children:e(Pr,{rows:c,columns:d,defaultOrderBy:"_time",defaultOrderDir:"desc",copyToClipboard:"_vmui_data",paginationOffset:h})}),e(Yn,{currentPage:i,totalItems:c.length,itemsPerPage:a,onPageChange:m})]})},gn=({checked:t=!1,disabled:n=!1,label:o,color:r="secondary",onChange:a})=>{const s=()=>{n||a(!t)},i=F({"vm-checkbox":!0,"vm-checkbox_disabled":n,"vm-checkbox_active":t,[`vm-checkbox_${r}_active`]:t,[`vm-checkbox_${r}`]:r});return e("div",{className:i,onClick:s,children:[e("div",{className:"vm-checkbox-track",children:e("div",{className:"vm-checkbox-track__thumb",children:e(pt,{})})}),o&&e("span",{className:"vm-checkbox__label",children:o})]})},tn="Table settings",Bi=({columns:t,selectedColumns:n=[],tableCompact:o,onChangeColumns:r,toggleTableCompact:a})=>{const[s,i]=J(),l=R(null),{value:c,toggle:u,setFalse:d}=X(),[h,m]=A(""),[p,g]=A(-1),_=T(()=>n.filter(N=>!t.includes(N)),[t,n]),f=T(()=>{const N=_.concat(t);return(h?N.filter(E=>E.includes(h)):N).sort((E,M)=>E.localeCompare(M))},[t,_,h]),v=T(()=>f.every(N=>n.includes(N)),[n,f]),y=N=>{r(N);const x=new URLSearchParams(s.toString());N.length===t.length?x.delete("columns"):x.set("columns",N.map(encodeURIComponent).join(",")),i(x)},b=N=>{const x=n.includes(N)?n.filter(E=>E!==N):[...n,N];y(x)},C=()=>{y(v?n.filter(N=>!f.includes(N)):f)},w=N=>()=>{b(N)},k=()=>{g(-1)},S=N=>{const x=N.key==="ArrowUp",E=N.key==="ArrowDown",M=N.key==="Enter";(E||x||M)&&N.preventDefault(),E?g(P=>P+1>f.length-1?P:P+1):x?g(P=>P-1<0?P:P-1):M&&b(f[p])};return L(()=>{kr(t,n)||s.has("columns")||r(t)},[t]),L(()=>{if(!s.has("columns"))return;const E=(s.get("columns")||"").split(",").map(decodeURIComponent).filter(Boolean);r(E)},[]),e("div",{className:"vm-table-settings",children:[e(q,{title:tn,children:e("div",{ref:l,children:e(D,{variant:"text",startIcon:e(He,{}),onClick:u,ariaLabel:tn})})}),c&&e(Le,{title:tn,className:"vm-table-settings-modal",onClose:d,children:[e("div",{className:"vm-table-settings-modal-section",children:[e("div",{className:"vm-table-settings-modal-section__title",children:"Customize columns"}),e("div",{className:"vm-table-settings-modal-columns",children:[e("div",{className:"vm-table-settings-modal-columns__search",children:e(Ae,{placeholder:"Search columns",startIcon:e(qn,{}),value:h,onChange:m,onBlur:k,onKeyDown:S,type:"search"})}),e("div",{className:"vm-table-settings-modal-columns-list",children:[!!f.length&&e("div",{className:"vm-table-settings-modal-columns-list__item vm-table-settings-modal-columns-list__item_all",children:e(gn,{checked:v,onChange:C,label:v?"Uncheck all":"Check all",disabled:o})}),!f.length&&e("div",{className:"vm-table-settings-modal-columns-no-found",children:e("p",{className:"vm-table-settings-modal-columns-no-found__info",children:"No columns found."})}),f.map((N,x)=>e("div",{className:F({"vm-table-settings-modal-columns-list__item":!0,"vm-table-settings-modal-columns-list__item_focus":x===p,"vm-table-settings-modal-columns-list__item_custom":_.includes(N)}),children:e(gn,{checked:n.includes(N),onChange:w(N),label:N,disabled:o})},N))]})]})]}),a&&o!==void 0&&e("div",{className:"vm-table-settings-modal-section",children:[e("div",{className:"vm-table-settings-modal-section__title",children:"Table view"}),e("div",{className:"vm-table-settings-modal-columns-list__item",children:e(be,{label:"Compact view",value:o,onChange:a})})]})]})]})},qi=Ze($i),Ui=({data:t,settingsRef:n})=>{const{setSearchParamsFromKeys:o}=vt(),[r,a]=A([]),[s,i]=le(100,"rows_per_page"),l=T(()=>{const d=new Set;for(const h of t)for(const m in h)d.add(m);return Array.from(d).sort((h,m)=>h.localeCompare(m))},[t]),c=d=>{i(d),o({rows_per_page:d})},u=()=>n.current?Ve(e("div",{className:"vm-table-view__settings",children:[e(Ce,{limit:s,onChange:c}),e("div",{className:"vm-table-view__settings-buttons",children:e(Bi,{columns:l,selectedColumns:r,onChangeColumns:a})})]}),n.current):null;return t.length?e(j,{children:[u(),e(qi,{logs:t,displayColumns:r,tableCompact:!1,columns:l,rowsPerPage:Number(s)})]}):e(Gn,{})},Ir=({className:t})=>{const[n,o]=A(!1),r=()=>{const s=window.pageYOffset||document.documentElement.scrollTop,i=window.innerHeight;o(s>i)},a=z(()=>{window.scrollTo({top:0,behavior:"smooth"})},[]);return L(()=>(window.addEventListener("scroll",r),r(),()=>{window.removeEventListener("scroll",r)}),[]),e("div",{className:F({"vm-scroll-to-top-button":!0,"vm-scroll-to-top-button_visible":n},t),children:e(q,{title:"Scroll to top",children:e(D,{variant:"contained",color:"primary",onClick:a,ariaLabel:"Scroll to top",startIcon:e(fr,{})})})})},ji=({title:t,getData:n,successfulCopiedMessage:o})=>{const r=ue(),a=z(()=>{r(n(),o)},[n,o]);return e(q,{title:t,children:e(D,{variant:"text",startIcon:e(pe,{}),onClick:a,ariaLabel:t})})},Yi=({data:t})=>{const n=T(()=>t.map(o=>{const r=JSON.stringify(o,null,4);return r.length>100?r:JSON.stringify(o)}).join(`
`),[t]);return e("pre",{style:"line-height: 1.2em",children:n})},Gi=Ze(Yi),Wi=({data:t,settingsRef:n})=>{const o=T(()=>{const i=new Set(t.flatMap(Object.keys));return Array.from(i)},[t]),r=T(()=>{const i=o.toSorted((l,c)=>l.localeCompare(c));return t.map(l=>i.reduce((c,u)=>(l[u]&&(c[u]=l[u]),c),{}))},[o,t]),a=z(()=>JSON.stringify(r,null,2),[r]),s=()=>n.current?Ve(t.length>0&&e("div",{className:"vm-json-view__settings-container",children:e(ji,{title:"Copy JSON",getData:a,successfulCopiedMessage:"Copied JSON to clipboard"})}),n.current):null;return t.length?e("div",{className:"vm-json-view",children:[s(),e(Gi,{data:r}),e(Ir,{})]}):e(Gn,{})};class Qi{threshold;windowSize;minHighCount;minNormalCount;window;state;constructor(n=200,o=10,r=6,a=2){this.threshold=n,this.windowSize=o,this.minHighCount=r,this.minNormalCount=a,this.window=[],this.state="normal"}update(n){this.window.push(n),this.window.length>this.windowSize&&this.window.shift();const o=this.window.filter(r=>r>this.threshold).length;return this.state==="normal"?o>=this.minHighCount&&(this.state="high"):this.state==="high"&&o<this.minNormalCount&&(this.state="normal"),this.state}}const _n="live_tailing_offset",_o=200,fo=5e3,vo=1e3,Ki=(t,n,o,r)=>async a=>{let s=Date.now();const i=setInterval(()=>{if(Date.now()-s>fo){clearInterval(i),r();return}},fo);try{for(;;){const{done:l,value:c}=await a.read();if(l)break;s=Date.now();const u=new TextDecoder().decode(c),d=(t.current+u).split(`
`);t.current=d.pop()||"",n.current=[...n.current,...d]}}catch(l){l instanceof Error&&l.name!=="AbortError"&&(console.error("Stream processing error:",l),r())}finally{clearInterval(i)}},Zi=(t,n)=>t.map(o=>{try{const r=o&&JSON.parse(o);return r._log_id=n.current++,r}catch(r){return console.error(`Failed to parse "${o}" to JSON
`,r),null}}).filter(Boolean),Ji=({lines:t,limit:n,counterRef:o,setIsLimitedLogsPerUpdate:r,setLogs:a,bufferLinesRef:s,logFlowAnalyzerRef:i})=>{const l=i?.current?.update(t.length)==="high",c=l&&t.length>_o?t.slice(-_o):t,u=Zi(c,o);r(l),a(d=>{const h=[...d,...u];return h.length>n?h.slice(-n):h}),s.current=[]},Xi=(t,n)=>{const{serverUrl:o}=re(),[r]=le(5,_n),[a,s]=A([]),{value:i,setTrue:l,setFalse:c}=X(),u=et(),[d,h]=A(),[m,p]=A(!1),g=R(0n),_=R(new AbortController),f=R(null),v=R(null),y=R(""),b=R([]),C=R(new Qi),w=z(()=>{f.current&&(f.current.cancel(),f.current=null),v.current&&clearInterval(v.current),y.current&&(y.current=""),_.current.abort()},[]),k=z(async()=>{w(),_.current=new AbortController;const{signal:N}=_.current;h(void 0);try{const x=await fetch(`${o}/select/logsql/tail`,{signal:N,method:"POST",headers:{...u},body:new URLSearchParams({query:t.trim(),offset:`${r}s`})});if(!x.ok||!x.body){const P=await x.text();return h(P),s([]),!1}const E=x.body.getReader();return f.current=E,Ki(y,b,h,k)(E),!0}catch(x){return x instanceof Error&&x.name!=="AbortError"&&(h(String(x)),console.error(x),s([])),!1}},[t,w,r]);L(()=>{if(i){const x=setInterval(()=>{b.current.length>n&&(b.current=b.current.slice(-n))},vo);return()=>{clearInterval(x)}}const N=setInterval(()=>{const x=b.current;Ji({lines:x,limit:n,counterRef:g,setIsLimitedLogsPerUpdate:p,setLogs:s,bufferLinesRef:b,logFlowAnalyzerRef:C})},vo);return()=>clearInterval(N)},[n,i,m]);const S=z(()=>{s([])},[]);return{logs:a,isPaused:i,error:d,startLiveTailing:k,stopLiveTailing:w,pauseLiveTailing:l,resumeLiveTailing:c,clearLogs:S,isLimitedLogsPerUpdate:m}},el=({settingsRef:t,rowsPerPage:n,handleSetRowsPerPage:o,isPaused:r,handleResumeLiveTailing:a,pauseLiveTailing:s,clearLogs:i,isRawJsonView:l,onRawJsonViewChange:c,offset:u,handleSetOffset:d})=>{const h=R(null),{value:m,setFalse:p,setTrue:g}=X();return t.current?Ve(e("div",{className:"vm-live-tailing-view__settings",children:[e(Ce,{limit:n,onChange:o,onOpenSelect:s}),e(Ce,{label:"Offset",limit:u,options:[5,10,15,30,45,60],onChange:d,onOpenSelect:s,renderOptionLabel:_=>`${_}s`}),e("div",{className:"vm-live-tailing-view__settings-buttons",children:[e(q,{title:`${r?"Resume":"Pause"} live tailing`,children:e(D,{variant:"text",color:"primary",onClick:r?a:s,startIcon:r?e(zn,{}):e(_r,{}),ariaLabel:`${r?"Resume":"Pause"} live tailing`})}),e(q,{title:"Clear logs",children:e(D,{variant:"text",color:"secondary",onClick:i,startIcon:e(ht,{}),ariaLabel:"Clear logs"})}),e(q,{title:"Settings",children:e(D,{ref:h,variant:"text",onClick:g,startIcon:e(He,{}),ariaLabel:"Settings"})}),m&&e(Le,{onClose:p,title:"Live tailing settings",children:e("div",{className:"vm-live-tailing-view__settings-modal",children:e("div",{className:"vm-live-tailing-view__settings-modal-item",children:[e(be,{label:"Raw JSON View",value:l,onChange:c}),e("span",{className:"vm-group-logs-configurator-item__info",children:"When this option is enabled, logs will be displayed in raw JSON format. This improves performance and uses less CPU and memory."})]})})})]})]}),t.current):null},tl=100,nl=()=>window.scrollTo({top:document.documentElement.scrollHeight,behavior:"smooth"}),bo=ra(nl,200),ol=({settingsRef:t})=>{const n=R(null),[o,r]=A(!0),[a]=J(),{setSearchParamsFromKeys:s}=vt(),[i]=le(100,"rows_per_page"),[l]=le(5,_n),[c,u]=le("*","query"),[d,h]=jt("RAW_JSON_LIVE_VIEW"),{logs:m,isPaused:p,error:g,startLiveTailing:_,stopLiveTailing:f,pauseLiveTailing:v,resumeLiveTailing:y,clearLogs:b,isLimitedLogsPerUpdate:C}=Xi(c,i),w=a.get(ne.DISPLAY_FIELDS)||We,k=T(()=>w.split(","),[w]),S=z(()=>{bo(),y()},[y]),N=z(E=>{s({rows_per_page:E})},[s]),x=z(E=>{s({[_n]:E})},[s]);return L(()=>(_(),()=>f()),[_,f,l]),L(()=>{if(!n.current)return;let M=[];const P=()=>{const{scrollTop:H,scrollHeight:U,clientHeight:Y}=document.documentElement,G=Math.abs(U-H-Y)<tl;r(G),M.push(H),M=M.slice(-3);const Z=Rs(M);!G&&!p&&Z&&v()};return document.addEventListener("scroll",P),()=>document.removeEventListener("scroll",P)},[p,v,y]),L(()=>{o&&!p&&bo()},[m,o]),L(()=>{S()},[i,l]),g?e("div",{className:"vm-live-tailing-view__error",children:g}):e(j,{children:[e(el,{settingsRef:t,rowsPerPage:i,handleSetRowsPerPage:N,logs:m,isPaused:p,handleResumeLiveTailing:S,pauseLiveTailing:v,clearLogs:b,isRawJsonView:d,onRawJsonViewChange:h,offset:l,handleSetOffset:x}),e(Ir,{}),e("div",{ref:n,className:"vm-live-tailing-view__container",children:m.length===0?e("div",{className:"vm-live-tailing-view__empty",children:"Waiting for logs..."}):e("div",{className:"vm-live-tailing-view__logs",children:m.map(({_log_id:E,...M},P)=>d?e("pre",{className:"vm-live-tailing-view__log-row",onMouseDown:v,children:JSON.stringify(M)},P):e(Ft,{log:M,onItemClick:v,hideGroupButton:!0,displayFields:k},E))})}),C&&e(he,{variant:"warning",children:"Too many logs per second detected. Large volumes of log data are difficult to process and may impact performance. We recommend adding filters to your query for better analysis and system performance."})]})},rl=({idx:t,groupName:n,option:o,selected:r,disabled:a,onChange:s})=>{const i=`${n}-${t}`,{visibility:l=!0}=o;return l?e("label",{htmlFor:i,className:"vm-radio-group-option","aria-disabled":a||o.disabled,children:[e("input",{className:"vm-radio-group-option__input",id:i,type:"radio",name:n,checked:r===o.value,onChange:()=>s(o.value),disabled:a||o.disabled}),e("span",{className:"vm-radio-group-option__label",children:o.label}),o.description&&e("span",{className:"vm-radio-group-option__description",children:o.description})]},i):null},yo=({options:t,value:n,onChange:o,disabled:r=!1})=>{const s=`radiogroup-${aa()}`,i=T(()=>new Map(t.map(c=>[c.value,c])),[t]),l=c=>{const u=i.get(c);u&&o?.(u)};return e("fieldset",{role:"radiogroup","aria-disabled":r,className:"vm-radio-group",children:t.map((c,u)=>e(rl,{idx:u,groupName:s,option:c,selected:n,disabled:r,onChange:l},c.value))})},Wn=(t,n)=>{const o=document.createElement("a"),r=URL.createObjectURL(t);o.setAttribute("href",r),o.setAttribute("download",n),document.body.appendChild(o),o.click(),document.body.removeChild(o),URL.revokeObjectURL(r)},al=(t,n)=>{const o=l=>{const c=l.reduce((u,d)=>(Object.keys(d).forEach(h=>{h&&!u[h]&&(u[h]=!0)}),u),{});return Object.keys(c)},r=l=>l.includes(",")||l.includes(`
`)||l.includes('"')?'"'+l.replace(/"/g,'""')+'"':l,s=(l=>{const c=o(l),u=l.map(d=>c.map(h=>d[h]?r(d[h]):"").join(","));return[c.map(r).join(","),...u].join(`\r
`)})(t),i=new Blob([s],{type:"text/csv;charset=utf-8;"});Wn(i,n)},sl=(t,n)=>{const o=new Blob([t],{type:"application/json"});Wn(o,n)},il=(t,n)=>{const o=new Blob([t],{type:"application/x-ndjson;charset=utf-8"});Wn(o,n)},wo=globalThis.showSaveFilePicker;async function ll(t={}){if(wo&&!t._preferPolyfill)return wo(t);t._name&&(console.warn("`_name` is deprecated; use `suggestedName` instead."),t.suggestedName=t._name);const n=await Jn(()=>import("./FileSystemFileHandle-lLeEq4i7.js"),__vite__mapDeps([0,1]),import.meta.url),{FileSystemFileHandle:o}=n,r=await Jn(()=>import("./downloader-B69BFsAs.js"),__vite__mapDeps([2,1]),import.meta.url),{FileHandle:a}=r;return new o(new a(t.suggestedName))}const cl=()=>{const{isLoading:t,error:n,fetchLogs:o}=je(),[r,a]=A(null),[s,i]=A(!1),l=t||s,c=n||r,u=z(async({filename:d,queryParams:h})=>{a(null);const{query:m,start:p,end:g}=h||{},_=["query","start","end"].filter(f=>!{query:m,start:p,end:g}[f]);if(_.length)return a(`Download failed: missing required params: ${_.join(", ")}`),!1;i(!0);try{const f={start:O(p).unix(),end:O(g).unix(),date:An(O(g).toDate())},v=await o({query:m,period:f,isDownload:!0});if(!v||Array.isArray(v)||!v.body)return a("Download failed: missing response body."),!1;const b=await(await ll({suggestedName:d})).createWritable();return await v.body.pipeTo(b,{preventCancel:!0}),!0}catch(f){return f instanceof Error&&f.name!=="AbortError"&&(a(String(f)),console.error(f)),!1}finally{i(!1)}},[o]);return{error:c,isLoading:l,downloadLogs:u}},dl={jsonl:(t,n)=>{const o=t.map(r=>JSON.stringify(r)).join(`
`);il(o,n)},json:(t,n)=>{const o=JSON.stringify(t,null,2);sl(o,n)},csv:al},Or=({data:t,children:n,queryParams:o})=>{const{value:r,setTrue:a,setFalse:s}=X(),{downloadLogs:i,error:l,isLoading:c}=cl(),[u,d]=A("vmui_logs_export"),[h,m]=A("jsonl"),[p,g]=A(t?"limit":"unlimit"),_=h!=="jsonl",f=T(()=>{if(!o)return[];const{start:y,end:b,limit:C,AccountID:w,ProjectID:k}=o,S=y?O(y).format(ye):null,N=b?O(b).format(ye):null,x=O(y).format("Z");return[{label:"Time range",value:`${S} - ${N} (${x})`},{label:"Limit",value:p==="unlimit"?"":C},{label:"Tenant ID",value:`${w}:${k}`}].filter(E=>E.value)},[o,p]),v=z(async()=>{const y=`${u}.${h}`;if(p==="unlimit"&&await i({filename:y,queryParams:o}),p==="limit"&&t){const b=dl[h];b&&b(t,y)}},[u,h,o,p,t,i]);return L(()=>{p==="unlimit"&&_&&g("limit")},[h]),e(j,{children:[e("div",{onClick:a,children:n}),r&&e(Le,{title:"Download logs",onClose:s,children:e("div",{className:"vm-download-logs",children:[e("div",{className:"vm-download-logs-section",children:[e("h3",{className:"vm-download-logs-section__title",children:"File name"}),e("div",{className:"vm-download-logs-filename",children:e(Ae,{autofocus:!0,value:u,endIcon:e("span",{className:"vm-download-logs-filename__extension",children:[".",h]}),onChange:d})})]}),e("div",{className:"vm-download-logs-section",children:[e("h3",{className:"vm-download-logs-section__title",children:"Format"}),e(yo,{value:h,onChange:y=>m(y.value),options:[{label:"JSONL",value:"jsonl",description:"Recommended. Exports visible rows or runs an unlimited query."},{label:"JSON",value:"json",disabled:!t,description:"Exports currently loaded rows as a JSON array."},{label:"CSV",value:"csv",disabled:!t,description:"Exports currently loaded rows as a CSV table."}]})]}),e("div",{className:"vm-download-logs-section",children:[e("h3",{className:"vm-download-logs-section__title",children:"Export scope"}),e(yo,{value:p,onChange:y=>g(y.value),options:[{label:"Visible results only",value:"limit",description:"Export only the logs currently displayed in the UI.",disabled:!t},{label:"All logs (no limit)",value:"unlimit",description:"Export all matching logs as JSONL.",disabled:_}]})]}),e("div",{className:"vm-download-logs-section",children:[e("h3",{className:"vm-download-logs-section__title",children:"Query context"}),e("div",{className:"vm-download-logs-context",children:[e("div",{className:"vm-download-logs-context-item",children:[e("span",{className:"vm-download-logs-context-item__label",children:"LogsQL:"}),e("code",{className:"vm-download-logs-context-item__query",children:o?.query})]}),f.map(({label:y,value:b})=>e("div",{className:"vm-download-logs-context-item",children:[e("span",{className:"vm-download-logs-context-item__label",children:[y,":"]}),e("span",{className:"vm-download-logs-context-item__value",children:b})]},y))]})]}),l&&e(he,{variant:"error",children:l}),e("div",{className:"vm-download-logs-footer",children:[e(D,{color:"error",variant:"outlined",onClick:s,children:"Cancel"}),e(D,{color:"primary",variant:"contained",onClick:v,disabled:c,startIcon:c?e(qt,{}):e(Bn,{}),children:"Download"})]})]})})]})},Co=[{label:"Group",value:"group",icon:e(dr,{}),Component:Oi},{label:"Table",value:"table",icon:e(lr,{}),Component:Ui},{label:"JSON",value:"json",icon:e(Hn,{}),Component:Wi},{label:"Live",value:"liveTailing",icon:e(Dn,{}),Component:ol}],Rr=({data:t,queryParams:n,isLoading:o,isPreview:r})=>{const{isMobile:a}=K(),{setSearchParamsFromKeys:s}=vt(),[i,l]=le("group","view"),c=R(null),[u,d]=J(),[h,m]=le(!1,"hide_logs"),p=()=>{m(f=>{const v=!f;return v?u.set("hide_logs","true"):u.delete("hide_logs"),d(u),v})},g=f=>{l(f),s({view:f})},_=Co.find(f=>f.value===i)?.Component;return e("div",{className:F({"vm-query-page-body":!0,"vm-block":!r,"vm-block_mobile":!r&&a}),children:[o&&e(Xe,{}),e("div",{className:F({"vm-query-page-body-header":!0,"vm-section-header":!0,"vm-query-page-body-header_mobile":a}),children:[e("div",{className:F({"vm-section-header__tabs":!0,"vm-query-page-body-header__tabs_mobile":a}),children:[e(jn,{activeItem:String(i),items:Co,onChange:g}),i!=="liveTailing"&&e("div",{className:"vm-query-page-body-header__log-info",children:["Total logs returned: ",e("b",{children:t.length})]})]}),e("div",{className:"vm-query-page-body-header__settings",ref:c}),e(Or,{data:t,queryParams:n,children:e(q,{title:"Download Logs",children:e(D,{variant:"text",startIcon:e(Bn,{}),ariaLabel:"Download Logs"})})}),e(q,{title:h?"Show Logs":"Hide Logs",children:e(D,{variant:"text",color:"primary",startIcon:h?e($t,{}):e(Qe,{}),onClick:p,ariaLabel:"settings"})})]}),e("div",{className:F({"vm-query-page-body__table":!0,"vm-query-page-body__table_hide":h,"vm-query-page-body__table_mobile":a}),children:[h&&e(he,{variant:"info",children:"Logs are hidden. Updates paused."}),!h&&_&&e(_,{data:t,settingsRef:c})]})]})},ul=({value:t,onChange:n,onEnter:o,onArrowUp:r,onArrowDown:a,autocomplete:s,autocompleteEl:i,error:l,stats:c,label:u,disabled:d=!1,includeFunctions:h=!0})=>{const{autocompleteQuick:m}=zt(),{isMobile:p}=K(),[g,_]=A(!1),[f,v]=A([0,0]),[y,b]=A([0,0]),C=R(null),[w,k]=A(!1),S=R(Bo(k,500)).current;c?.executionTimeMsec!==void 0&&(u=`${u} (${c.executionTimeMsec||0}ms)`);const N=(P,H)=>{n(P),b([H,H])},x=P=>{const{key:H,ctrlKey:U,metaKey:Y,shiftKey:G}=P,I=(P.target.value||"").split(`
`).length>1,V=U||Y,B=H==="ArrowUp",$=H==="ArrowDown",ee=H==="Enter";B&&V&&(P.preventDefault(),r()),$&&V&&(P.preventDefault(),a()),ee&&g&&P.preventDefault(),ee&&!G&&(!I||V)&&!g&&(P.preventDefault(),o())},E=P=>{_(!!P.length)},M=P=>{v(H=>H[0]===P[0]&&H[1]===P[1]?H:P)};return L(()=>{_(!!i&&m)},[m]),L(()=>{k(!1),S(f.every(Boolean))},[f]),e("div",{className:"vm-query-editor",ref:C,children:[e(Ae,{value:t,label:u,type:"textarea",autofocus:!p,error:l,onKeyDown:x,onChange:n,onChangeCaret:M,disabled:d,inputmode:"search",caretPosition:y}),s&&i&&e(i,{value:t,anchorEl:C,caretPosition:f,hasHelperText:!!l,includeFunctions:h,onSelect:N,onFoundOptions:E,isOpen:w})]})},Dr=({limit:t,onChangeLimit:n,onPressEnter:o,onError:r})=>{const[a,s]=A(""),[i,l]=A(t),c=d=>isNaN(d)||d<=0?(s("Number must be > 0"),{isValid:!1,errorMsg:"Number must be > 0"}):d>at?{isValid:!1,errorMsg:`Max limit is ${at.toLocaleString("en-US")}`}:{isValid:!0,errorMsg:""},u=z(d=>{const h=+d;l(h);const{isValid:m,errorMsg:p}=c(h);m?(s(""),n(h)):s(p)},[n]);return L(()=>{r&&r(!!a)},[a]),L(()=>{const{isValid:d,errorMsg:h}=c(t);s(d?"":h),l(t)},[t]),e(Ae,{label:"Log limits",type:"number",value:i,error:a,onChange:u,onEnter:o})};var fe=(t=>(t.Filter="Filter",t.Pipe="Pipe",t.Operator="Operator",t.FilterOrPipe="FilterOrPipe",t))(fe||{}),W=(t=>(t.FilterName="FilterName",t.FilterUnknown="FilterUnknown",t.FilterValue="FilterValue",t.PipeName="Pipes",t.PipeValue="PipeValue",t.Unknown="Unknown",t.FilterOrPipeName="FilterOrPipeName",t))(W||{});const ml="https://docs.victoriametrics.com/victorialogs/logsql",hl="vm-link vm-link_colored",pl=t=>{const n=`$1 target="_blank" class="${hl}" $2`,o=`$1 $2${ml}#`;return t.replace(/(<a) (href=")#/gm,o).replace(/(<a) (href="[^"]+")/gm,n)},fn=[{value:"copy",description:'<a href="#copy-pipe"><code>copy</code></a> copies <a href="https://docs.victoriametrics.com/victorialogs/keyconcepts/#data-model">log fields</a>.'},{value:"delete",description:'<a href="#delete-pipe"><code>delete</code></a> deletes <a href="https://docs.victoriametrics.com/victorialogs/keyconcepts/#data-model">log fields</a>.'},{value:"drop_empty_fields",description:'<a href="#drop_empty_fields-pipe"><code>drop_empty_fields</code></a> drops <a href="https://docs.victoriametrics.com/victorialogs/keyconcepts/#data-model">log fields</a> with empty values.'},{value:"extract",description:'<a href="#extract-pipe"><code>extract</code></a> extracts the specified text into the given log fields.'},{value:"extract_regexp",description:'<a href="#extract_regexp-pipe"><code>extract_regexp</code></a> extracts the specified text into the given log fields via <a href="https://github.com/google/re2/wiki/Syntax" rel="external" target="_blank">RE2 regular expressions</a>.'},{value:"field_names",description:'<a href="#field_names-pipe"><code>field_names</code></a> returns all the names of <a href="https://docs.victoriametrics.com/victorialogs/keyconcepts/#data-model">log fields</a>.'},{value:"field_values",description:'<a href="#field_values-pipe"><code>field_values</code></a> returns all the values for the given <a href="https://docs.victoriametrics.com/victorialogs/keyconcepts/#data-model">log field</a>.'},{value:"fields",description:'<a href="#fields-pipe"><code>fields</code></a> selects the given set of <a href="https://docs.victoriametrics.com/victorialogs/keyconcepts/#data-model">log fields</a>.'},{value:"filter",description:'<a href="#filter-pipe"><code>filter</code></a> applies additional <a href="#filters">filters</a> to results.'},{value:"format",description:'<a href="#format-pipe"><code>format</code></a> formats output field from input <a href="https://docs.victoriametrics.com/victorialogs/keyconcepts/#data-model">log fields</a>.'},{value:"limit",description:'<a href="#limit-pipe"><code>limit</code></a> limits the number selected logs.'},{value:"math",description:'<a href="#math-pipe"><code>math</code></a> performs mathematical calculations over <a href="https://docs.victoriametrics.com/victorialogs/keyconcepts/#data-model">log fields</a>.'},{value:"offset",description:'<a href="#offset-pipe"><code>offset</code></a> skips the given number of selected logs.'},{value:"pack_json",description:'<a href="#pack_json-pipe"><code>pack_json</code></a> packs <a href="https://docs.victoriametrics.com/victorialogs/keyconcepts/#data-model">log fields</a> into JSON object.'},{value:"pack_logfmt",description:'<a href="#pack_logfmt-pipe"><code>pack_logfmt</code></a> packs <a href="https://docs.victoriametrics.com/victorialogs/keyconcepts/#data-model">log fields</a> into <a href="https://brandur.org/logfmt" rel="external" target="_blank">logfmt</a> message.'},{value:"rename",description:'<a href="#rename-pipe"><code>rename</code></a> renames <a href="https://docs.victoriametrics.com/victorialogs/keyconcepts/#data-model">log fields</a>.'},{value:"replace",description:'<a href="#replace-pipe"><code>replace</code></a> replaces substrings in the specified <a href="https://docs.victoriametrics.com/victorialogs/keyconcepts/#data-model">log fields</a>.'},{value:"replace_regexp",description:'<a href="#replace_regexp-pipe"><code>replace_regexp</code></a> updates <a href="https://docs.victoriametrics.com/victorialogs/keyconcepts/#data-model">log fields</a> with regular expressions.'},{value:"sort",description:'<a href="#sort-pipe"><code>sort</code></a> sorts logs by the given <a href="https://docs.victoriametrics.com/victorialogs/keyconcepts/#data-model">fields</a>.'},{value:"stats",description:'<a href="#stats-pipe"><code>stats</code></a> calculates various stats over the selected logs.'},{value:"stream_context",description:`<a href="#stream_context-pipe"><code>stream_context</code></a> allows selecting surrounding logs in front and after the matching logs
per each <a href="/victorialogs/keyconcepts/#stream-fields">log stream</a>.`},{value:"top",description:'<a href="#top-pipe"><code>top</code></a> returns top <code>N</code> field sets with the maximum number of matching logs.'},{value:"uniq",description:'<a href="#uniq-pipe"><code>uniq</code></a> returns unique log entries.'},{value:"unpack_json",description:'<a href="#unpack_json-pipe"><code>unpack_json</code></a> unpacks JSON messages from <a href="https://docs.victoriametrics.com/victorialogs/keyconcepts/#data-model">log fields</a>.'},{value:"unpack_logfmt",description:'<a href="#unpack_logfmt-pipe"><code>unpack_logfmt</code></a> unpacks <a href="https://brandur.org/logfmt" rel="external" target="_blank">logfmt</a> messages from <a href="https://docs.victoriametrics.com/victorialogs/keyconcepts/#data-model">log fields</a>.'},{value:"unpack_syslog",description:'<a href="#unpack_syslog-pipe"><code>unpack_syslog</code></a> unpacks <a href="https://en.wikipedia.org/wiki/Syslog" rel="external" target="_blank">syslog</a> messages from <a href="https://docs.victoriametrics.com/victorialogs/keyconcepts/#data-model">log fields</a>.'},{value:"unroll",description:'<a href="#unroll-pipe"><code>unroll</code></a> unrolls JSON arrays from <a href="https://docs.victoriametrics.com/victorialogs/keyconcepts/#data-model">log fields</a>.'}].map(t=>({...t,type:W.PipeName,icon:e(Mt,{}),description:pl(t.description)})),gl=["AND","OR","NOT"],_l=fn.map(t=>t.value),fl=t=>{const n=t,o=[];let r="",a,s=!1;const i=["'",'"',"`"];let l=!1,c="";const u=["(","[","{"],d=[")","]","}"],h=[...u,...d];let m=0,p=0;for(let g=0;g<n.length;g++){const _=n[g];if(i.includes(_)){const f=l&&_===c;l=!f,c=f?"":_}if(!l&&h.includes(_)){const f=u.includes(_)?1:-1;m+=f}if(!l&&!m&&_==="|"){s=!0;const f=r.match(/^ */)?.[0].length||0,v=r.match(/ *$/)?.[0].length||0;nn(r,!0,[p+f,g-v-1],o,a),r="",a="|",p=g+1;continue}if(!s&&!l&&!m&&_===" "){const f=n.slice(g).replace(/^\s*/,""),v=n.slice(0,g).replace(/\s*$/,"");if(!f.startsWith(":")&&!v.endsWith(":")){nn(r,!1,[p,g-1],o,a),a=" ",r="",p=g+1;continue}}r+=_}return nn(r,s,[p,n.length],o,a),o},nn=(t,n,o,r,a)=>{const s=t.trim();if(!s)return;const i=gl.includes(s.toUpperCase()),l=[fe.Pipe,fe.FilterOrPipe],c=r.length>0&&l.includes(r[r.length-1].type),u=()=>c?fe.FilterOrPipe:n?fe.Pipe:i?fe.Operator:fe.Filter;r.push({id:r.length,value:s,position:o,type:u(),separator:a})},vl=(t,n)=>{const o=t.value.substring(0,n),r=t.value.substring(n),a={valueBeforeCursor:o,valueAfterCursor:r,valueContext:t.value,contextType:W.Unknown};return yl(t,o,r,a),a.valueContext=a.valueContext.replace(/^["']|["']$/g,""),a},zr=t=>_l.some(n=>t.startsWith(n)),bl=(t,n)=>!t.includes(":")&&!n.includes(":"),Hr=(t,n)=>{const[o,...r]=t.split(":");n.contextType=W.FilterValue,n.filterName=o;const s=["=","-","!"].find(i=>i===r[0]);s?(n.valueContext=r.slice(1).join(":"),n.operator=`:${s}`):(n.valueContext=r.join(":"),n.operator=":")},yl=(t,n,o,r)=>{switch(t.type){case fe.Filter:wl(n,o,r);break;case fe.Pipe:r.contextType=zr(t.value)?W.PipeValue:W.PipeName;break;case fe.FilterOrPipe:Cl(t.value,n,r);break}},wl=(t,n,o)=>{bl(t,n)?o.contextType=W.FilterUnknown:t.includes(":")?Hr(t,o):o.contextType=W.FilterName},Cl=(t,n,o)=>{zr(t)?o.contextType=W.PipeValue:n.includes(":")?Hr(n,o):o.contextType=W.FilterOrPipeName},kl=t=>{if(t.includes("=")){const[n,o]=t.split("=");if(o)return`_stream:${n}=~${o}.*"}`}return"*"},ko=(t,n)=>{const o=t.lastIndexOf(n);return o!==-1?t.slice(0,o):""},Nl=t=>{let n="";return t.valueContext.includes(":")?n=ko(t.valueContext,":"):t.valueContext.includes("-")&&(n=ko(t.valueContext,"-")),n?`${t.filterName}:${n}`:"*"},Sl=t=>{let n="";return!t.filterName||!t.query||["_msg","_stream_id"].includes(t.filterName)?n="*":t.filterName==="_stream"?n=kl(t.valueContext):t.filterName==="_time"?n=Nl(t):n=`${t.filterName}:${t.valueContext}*`,t.queryBeforeIncompleteFilter?`${t.queryBeforeIncompleteFilter}${t.separator??" "}${n}`:n},Al={[W.FilterName]:e(mn,{}),[W.FilterUnknown]:e(mn,{}),[W.FilterValue]:e(hn,{}),[W.PipeName]:e(Mt,{}),[W.PipeValue]:e(hr,{}),[W.Unknown]:e(hn,{}),[W.FilterOrPipeName]:e(Mt,{})},xl=t=>{const{serverUrl:n}=re(),{period:{start:o,end:r}}=se(),{autocompleteCache:a}=Pn(),s=tr(),i=et(),[l,c]=A(!1),[u,d]=A([]),[h,m]=A([]),p=R(new AbortController),g=z(v=>{const y=O(o*1e3).startOf("day").valueOf()/1e3,b=O(r*1e3).endOf("day").valueOf()/1e3;return new URLSearchParams({...v||{},limit:`${lt.queryLimit}`,start:`${y}`,end:`${b}`})},[o,r]),_=(v,y)=>v.map(b=>({value:b.value,type:`${y}`,icon:Al[y]})),f=async({urlSuffix:v,setter:y,params:b})=>{p.current.abort(),p.current=new AbortController;const{signal:C}=p.current,w=new URLSearchParams(i).toString(),k=`${v}?${b?.toString()}&${w}`;c(!0);try{const S=a.get(k);if(S){y(S),c(!1);return}const N=await fetch(`${n}/select/logsql/${v}?${b}`,{signal:C,headers:{...i}});if(N.ok){const E=(await N.json())?.values||[];y(E||[]),s({type:"SET_AUTOCOMPLETE_CACHE",payload:{key:k,value:E}})}c(!1)}catch(S){S instanceof Error&&S.name!=="AbortError"&&(s({type:"SET_AUTOCOMPLETE_CACHE",payload:{key:k,value:[]}}),c(!1),console.error(S))}};return L(()=>{const y=![W.FilterName,W.FilterUnknown,W.FilterOrPipeName].includes(t?.contextType||W.Unknown);return!n||y?void 0:(d([]),f({urlSuffix:"field_names",setter:C=>{d(_(C,W.FilterName))},params:g({query:t?.queryBeforeIncompleteFilter||"*"})}),()=>p.current?.abort())},[n,t]),L(()=>{const v=t?.contextType!==W.FilterValue;return!n||v||!t?.filterName?void 0:(m([]),f({urlSuffix:"field_values",setter:b=>{m(_(b,W.FilterValue))},params:g({query:Sl(t),field:t.filterName})}),()=>p.current?.abort())},[n,t]),{fieldNames:u,fieldValues:h,loading:l}},Ll=({value:t,anchorEl:n,caretPosition:o,hasHelperText:r,onSelect:a,onFoundOptions:s,isOpen:i})=>{const[l,c]=A({top:0,left:0}),u=T(()=>{if(o[0]!==o[1])return{valueBeforeCursor:t,valueAfterCursor:""};const b=t.substring(0,o[0]),C=t.substring(o[1]);return{valueBeforeCursor:b,valueAfterCursor:C}},[t,o]),d=T(()=>fl(t),[t]),h=T(()=>{if(o[0]!==o[1])return;const b=d.find(S=>o[0]>=S.position[0]&&o[0]<=S.position[1]);if(!b)return;const C=o[0]-b.position[0],w=d.find(S=>S.id===b.id-1),k=w?t.substring(0,w.position[1]+1):void 0;return{...b,queryBeforeIncompleteFilter:k,query:t,...vl(b,C)}},[d,o,t]),{fieldNames:m,fieldValues:p,loading:g}=xl(h),_=T(()=>{switch(h?.contextType){case W.FilterName:case W.FilterUnknown:return m;case W.FilterValue:return p;case W.PipeName:return fn;case W.FilterOrPipeName:return[...m,...fn];default:return[]}},[h,m,p]),f=(b,C,w)=>C.reduce((k,S)=>{const N=S.id===w?b:S.value,x=S.separator==="|"?" | ":" ";return`${k}${x}${N}`},"").trim(),v=(b,C,w="",k)=>{let S=b;if(k===W.FilterName)S+=":";else if(C===W.FilterValue){const N=w.startsWith("_stream:")?S:`${JSON.stringify(S)}`;S=`${h?.filterName||""}${h?.operator||":"}${N}`}return S},y=z((b,C)=>{const{id:w,contextType:k=W.FilterUnknown,value:S="",position:N=[0,0]}=h||{},x=v(b,k,S,C.type),E=f(x,d,w),M=d.find(U=>U.id===w),P=()=>M?.type===fe.FilterOrPipe||C.type===W.PipeName?1:0,H=(N[0]||1)+x.length+P();a(E,H)},[h,d]);if(L(()=>{if(!n.current){c({top:0,left:0});return}const b=n.current.querySelector("textarea")||n.current,C=window.getComputedStyle(b),w=`${C.getPropertyValue("font-size")}`,k=`${C.getPropertyValue("font-family")}`,S=parseInt(`${C.getPropertyValue("line-height")}`),N=document.createElement("div");N.style.font=`${w} ${k}`,N.style.padding=C.getPropertyValue("padding"),N.style.lineHeight=`${S}px`,N.style.width=`${b.offsetWidth}px`,N.style.maxWidth=`${b.offsetWidth}px`,N.style.whiteSpace=C.getPropertyValue("white-space"),N.style.overflowWrap=C.getPropertyValue("overflow-wrap");const x=document.createElement("span");N.appendChild(document.createTextNode(u.valueBeforeCursor||"")),N.appendChild(x),N.appendChild(document.createTextNode(u.valueAfterCursor||"")),document.body.appendChild(N);const E=N.getBoundingClientRect(),M=x.getBoundingClientRect(),P=M.left-E.left,H=M.bottom-E.bottom-(r?S:0);c({top:H,left:P}),N.remove(),x.remove()},[n,o,r,u]),!!i)return e(j,{children:e(Fr,{loading:g,disabledFullScreen:!0,value:h?.valueContext||"",options:_,anchor:n,minLength:0,offset:l,onSelect:y,onFoundOptions:s,maxDisplayResults:{limit:lt.displayResults,message:"Please, specify the query more precisely."}})})},Tl=({query:t,favorites:n,onRun:o,onToggleFavorite:r})=>{const a=ue(),s=T(()=>n.includes(t),[t,n]);return e("div",{className:"vm-query-history-item",children:[e("span",{className:"vm-query-history-item__value",children:t}),e("div",{className:"vm-query-history-item__buttons",children:[e(q,{title:"Execute query",children:e(D,{size:"small",variant:"text",onClick:()=>{o(t)},startIcon:e(zn,{})})}),e(q,{title:"Copy query",children:e(D,{size:"small",variant:"text",onClick:async()=>{await a(t,"Query has been copied")},startIcon:e(pe,{})})}),e(q,{title:s?"Remove Favorite":"Add to Favorites",children:e(D,{size:"small",variant:"text",color:s?"warning":"primary",onClick:()=>{r(t,s)},startIcon:s?e(mr,{}):e(ur,{})})})]})]})},ze={session:"session",storage:"saved",favorite:"favorite"},No=[{label:"Session history",value:ze.session},{label:"Saved history",value:ze.storage},{label:"Favorite queries",value:ze.favorite}],El=({handleSelectQuery:t,historyKey:n})=>{const{queryHistory:o}=zt(),{isMobile:r}=K(),{value:a,setTrue:s,setFalse:i}=X(),[l,c]=A(No[0].value),[u,d]=A(ot(n,"QUERY_HISTORY")),[h,m]=A(ot(n,"QUERY_FAVORITES")),p=T(()=>o.map(w=>w.values.filter(k=>k).reverse()),[o]),g=T(()=>{switch(l){case ze.favorite:return h;case ze.storage:return u;default:return p}},[l,h,u,p]),_=g?.every(w=>!w.length),f=T(()=>{switch(l){case ze.favorite:return`Favorites queries are empty.
To see your favorites, mark a query as a favorite.`;default:return`Query history is empty.
To see the history, please make a query.`}},[l]),v=w=>k=>{t(k,w),i()},y=(w,k)=>{m(S=>{const N=S[0]||[];return k?[N.filter(x=>x!==w)]:!k&&!N.includes(w)?[[...N,w]]:S})},b=()=>{d(ot(n,"QUERY_HISTORY")),m(ot(n,"QUERY_FAVORITES"))},C=()=>{Ja(n,"QUERY_HISTORY")};return L(()=>{const w=h[0]||[],k=ot(n,"QUERY_FAVORITES")[0]||[];kr(w,k)||Za(n,h)},[h]),oe("storage",b),e(j,{children:[e(D,{color:"primary",variant:"outlined",onClick:s,startIcon:e(Tt,{}),ariaLabel:"Query history",children:"Query history"}),a&&e(Le,{title:"Query history",onClose:i,children:e("div",{className:F({"vm-query-history":!0,"vm-query-history_mobile":r}),children:[e("div",{className:F({"vm-query-history__tabs":!0,"vm-section-header__tabs":!0,"vm-query-history__tabs_mobile":r}),children:e(jn,{activeItem:l,items:No,onChange:c})}),e("div",{className:"vm-query-history-list",children:[_&&e("div",{className:"vm-query-history-list__no-data",children:f}),g.map((w,k)=>e("div",{children:[g.length>1&&e("div",{className:F({"vm-query-history-list__group-title":!0,"vm-query-history-list__group-title_first":k===0}),children:["Query ",k+1]}),w.map((S,N)=>e(Tl,{query:S,favorites:h.flat(),onRun:v(k),onToggleFavorite:y},N))]},k)),l===ze.storage&&!_&&e("div",{className:"vm-query-history-footer",children:e(D,{color:"error",variant:"outlined",size:"small",startIcon:e(ht,{}),onClick:C,children:"clear history"})})]})]})})]})},Ml=()=>{const t=Mn(),n=z(r=>{t({type:"SET_AUTOCOMPLETE_QUICK",payload:r})},[t]);return oe("keydown",r=>{const{code:a,ctrlKey:s,altKey:i}=r;a==="Space"&&(s||i)&&(r.preventDefault(),n(!0))}),n};Me();Me();const Fl=e(j,{children:[e("code",{children:Me()?"Option":"Ctrl"})," + ",e("code",{children:"Space"})]}),Pl=({query:t,queryDurationMs:n,limit:o,error:r,isLoading:a,onChange:s,onChangeLimit:i,onRun:l})=>{const{isMobile:c}=K(),{autocomplete:u,queryHistory:d,autocompleteQuick:h}=zt(),m=Mn(),p=Ml(),{value:g,setValue:_}=X(),f=()=>{m({type:"TOGGLE_AUTOCOMPLETE"})},v=w=>{const{values:k,index:S}=d[0],N=S+w;N<0||N>=k.length||(s(k[N]||""),m({type:"SET_QUERY_HISTORY_BY_INDEX",payload:{value:{values:k,index:N},queryNumber:0}}))},y=w=>{s(w),_(!0)},b=w=>()=>{v(w)};L(()=>{g&&(l(),_(!1))},[t,g]);const C=w=>{s(w),h&&p(!1)};return e("div",{className:F({"vm-query-page-header":!0,"vm-block":!0,"vm-block_mobile":c}),children:[e("div",{className:"vm-query-page-header-top",children:[e(ul,{value:t,autocomplete:u||h,autocompleteEl:Ll,onArrowUp:b(-1),onArrowDown:b(1),onEnter:l,onChange:C,label:"Log query",error:r,stats:{executionTimeMsec:n}}),e(Dr,{limit:o,onChangeLimit:i,onPressEnter:l})]}),e("div",{className:"vm-query-page-header-bottom",children:[e("div",{className:"vm-query-page-header-bottom-contols",children:e(q,{title:e(j,{children:["Quick tip: ",Fl]}),children:e(be,{label:"Autocomplete",value:u,onChange:f,fullWidth:c})})}),e("div",{className:"vm-query-page-header-bottom-helpful",children:[e("a",{className:"vm-link vm-link_with-icon",target:"_blank",href:"https://docs.victoriametrics.com/victorialogs/logsql/",rel:"help noreferrer",children:[e(Ht,{}),"Query language docs"]}),e("a",{className:"vm-link vm-link_with-icon",target:"_blank",href:"https://docs.victoriametrics.com/victorialogs/",rel:"help noreferrer",children:[e(Vn,{}),"Documentation"]})]}),e("div",{className:"vm-query-page-header-bottom-buttons",children:[e(El,{handleSelectQuery:y,historyKey:"LOGS_QUERY_HISTORY"}),e("div",{className:"vm-query-page-header-bottom-execute",children:e(D,{startIcon:a?e(qt,{}):e(Dn,{}),onClick:l,fullWidth:!0,children:e("div",{children:[e("span",{className:"vm-query-page-header-bottom-execute__text",children:a?"Cancel Query":"Execute Query"}),e("span",{className:"vm-query-page-header-bottom-execute__text_hidden",children:"Execute Query"})]})})})]})]})]})},Il=({onChange:t})=>{const[n,o]=J(),r=R(null),{value:a,toggle:s,setFalse:i}=X(),[l,c]=le(!1,"stacked"),[u,d]=le("true","fill"),[h,m]=le(!1,"hide_chart"),p=T(()=>({graphStyle:Ee.BAR,stacked:l,fill:u==="true",hideChart:h}),[l,u,h]),g=v=>{d(`${v}`),n.set("fill",`${v}`),o(n)},_=v=>{c(v),v?n.set("stacked","true"):n.delete("stacked"),o(n)},f=()=>{m(v=>{const y=!v;return y?n.set("hide_chart","true"):n.delete("hide_chart"),o(n),y})};return L(()=>{t(p)},[p]),e("div",{className:"vm-bar-hits-options",children:[e("div",{ref:r,children:e(q,{title:"Graph settings",children:e(D,{variant:"text",color:"primary",startIcon:e(He,{}),onClick:s,ariaLabel:"settings"})})}),e(q,{title:h?"Show chart and resume hits updates":"Hide chart and pause hits updates",children:e(D,{variant:"text",color:"primary",startIcon:h?e($t,{}):e(Qe,{}),onClick:f,ariaLabel:"settings"})}),e(ge,{open:a,placement:"bottom-right",onClose:i,buttonRef:r,title:"Graph settings",children:e("div",{className:"vm-bar-hits-options-settings",children:[e("div",{className:"vm-bar-hits-options-settings-item",children:e(be,{label:"Stacked",value:l,onChange:_})}),e("div",{className:"vm-bar-hits-options-settings-item",children:e(be,{label:"Fill",value:u==="true",onChange:g})})]})})]})},Ol=()=>{const[t,n]=A(null),[o,r]=A({width:0,height:0}),a=z(()=>{r({width:t?.offsetWidth||0,height:t?.offsetHeight||0})},[t?.offsetHeight,t?.offsetWidth]);return oe("resize",a),L(a,[t?.offsetHeight,t?.offsetWidth]),[n,o]},Rl=({period:t,setPeriod:n})=>{const[o,r]=A({min:t.start,max:t.end}),a=({min:s,max:i})=>{const l=(i-s)*1e3;l<to.min||l>to.max||n({from:O(s*1e3).toDate(),to:O(i*1e3).toDate()})};return L(()=>{r({min:t.start,max:t.end})},[t]),{xRange:o,setPlotScale:a}},Dl=t=>t instanceof MouseEvent,So=t=>Dl(t)?t.clientX:t.touches[0].clientX,zl=({dragSpeed:t=.85,setPanning:n,setPlotScale:o})=>{const r=R({leftStart:0,xUnitsPerPx:0,scXMin:0,scXMax:0}),a=l=>{l.preventDefault();const c=So(l),{leftStart:u,xUnitsPerPx:d,scXMin:h,scXMax:m}=r.current,p=d*((c-u)*t);o({min:h-p,max:m-p})},s=()=>{n(!1),document.removeEventListener("mousemove",a),document.removeEventListener("mouseup",s),document.removeEventListener("touchmove",a),document.removeEventListener("touchend",s)},i=()=>{document.addEventListener("mousemove",a),document.addEventListener("mouseup",s),document.addEventListener("touchmove",a),document.addEventListener("touchend",s)};return({e:l,u:c})=>{l.preventDefault(),n(!0),r.current={leftStart:So(l),xUnitsPerPx:c.posToVal(1,"x")-c.posToVal(0,"x"),scXMin:c.scales.x.min||0,scXMax:c.scales.x.max||0},i()}},Hl=t=>{const{ctrlKey:n,metaKey:o,button:r}=t;return r===0&&(n||o)},on=.9,Vl=t=>{const[n,o]=A(!1),r=zl({dragSpeed:on,setPanning:o,setPlotScale:t});return{onReadyChart:s=>{const i=c=>{const u=c instanceof MouseEvent&&Hl(c),d=window.TouchEvent&&c instanceof TouchEvent&&c.touches.length>1;(u||d)&&r({u:s,e:c})},l=c=>{if(!c.ctrlKey&&!c.metaKey)return;c.preventDefault();const{width:u}=s.over.getBoundingClientRect(),d=s.cursor.left&&s.cursor.left>0?s.cursor.left:0,h=s.posToVal(d,"x"),m=(s.scales.x.max||0)-(s.scales.x.min||0),p=c.deltaY<0?m*on:m/on,g=h-d/u*p,_=g+p;s.batch(()=>t({min:g,max:_}))};s.over.addEventListener("mousedown",i),s.over.addEventListener("touchstart",i),s.over.addEventListener("wheel",l)},isPanning:n}},Ao=t=>{const n=t[0].clientX-t[1].clientX,o=t[0].clientY-t[1].clientY;return Math.sqrt(n*n+o*o)},$l=({uPlotInst:t,xRange:n,setPlotScale:o})=>{const[r,a]=A(0),s=z(c=>{const{target:u,ctrlKey:d,metaKey:h,key:m}=c,p=u instanceof HTMLInputElement||u instanceof HTMLTextAreaElement;if(!t||p)return;const g=m==="+"||m==="=";if((m==="-"||g)&&!(d||h)){c.preventDefault();const v=(n.max-n.min)/10*(g?1:-1);o({min:n.min+v,max:n.max-v})}},[t,n]),i=c=>{c.touches.length===2&&(c.preventDefault(),a(Ao(c.touches)))},l=z(c=>{if(!t||c.touches.length!==2)return;c.preventDefault();const u=Ao(c.touches),d=r-u,h=t.scales.x.max||n.max,m=t.scales.x.min||n.min,p=h-m,g=d>0?-1:1,_=p/50*g;t.batch(()=>o({min:m+_,max:h-_}))},[t,r,n]);return oe("keydown",s),oe("touchmove",l),oe("touchstart",i),null};function Bl(t,n){const o=[];let r=[];const a=t[0].length,s=Array(a);for(let i=0;i<a;i++)s[i]=0;for(let i=1;i<t.length;i++)o.push(n(i)?t[i]:t[i].map((l,c)=>s[c]+=+(l??0)));for(let i=1;i<t.length;i++)!n(i)&&r.push({series:[t.findIndex((l,c)=>c>i&&!n(c)),i]});return r=r.filter(i=>i.series[1]>-1),{data:[t[0]].concat(o),bands:r}}const xo=t=>O(t*1e3).tz().format(ye),ql=({data:t,focusDataIdx:n,uPlotInst:o})=>{const[r,a]=A(!1),s=R(null),i=T(()=>{if(!o||n<0||!t.length||!t[0]?.length)return;const c=t[0][n]||0,u=t[0][1]-t[0][0],d=c+u,h=t.slice(1).map(f=>f[n]||0),m=o.series.slice(1);let p=0;const g=m.reduce((f,v,y)=>{if(!v?.show)return f;const b=h[y];return b<=0||(f.push({value:b,label:v.label,stroke:v.stroke?.(),show:!0}),p+=b),f},[]);return g.sort(Er("value")),g.length?{point:{top:o.valToPos?.(g[0]?.value??0,"y")||0,left:o.valToPos?.(c,"x")||0},total:p,values:g,timestamp:`${xo(c)} - ${xo(d)}`}:void 0},[n,o,t]),l=T(()=>{if(!o||!i||!s.current||!r)return;const{top:c,left:u}=i.point,d={left:parseFloat(o.over.style.left),top:parseFloat(o.over.style.top)},{width:h,height:m}=o.over.getBoundingClientRect(),{width:p,height:g}=s.current.getBoundingClientRect(),_=50,f=u+p>=h?p+2*_:0,v=c+g>=m?g+2*_:0,y={top:c+d.top+_-v,left:u+d.left+_-f};return y.left<0&&(y.left=20),y.top<0&&(y.top=20),y},[i,o,r]);return sa(()=>{s.current?a(!0):a(!1)},[i]),i?e("div",{className:F({"vm-chart-tooltip":!0,"vm-chart-tooltip_hits":!0,"vm-bar-hits-tooltip":!0}),ref:s,style:l,children:[e("div",{children:i.values.map(c=>e("div",{className:"vm-chart-tooltip-data",children:[e("span",{className:"vm-chart-tooltip-data__marker",style:{background:c.stroke}}),e("p",{className:"vm-bar-hits-tooltip-item",children:[e("span",{className:"vm-bar-hits-tooltip-item__label",children:c.label}),e("span",{children:c.value&&c.value.toLocaleString("en-US")})]})]},c.label))}),i.values.length>1&&e("div",{className:"vm-chart-tooltip-data",children:[e("span",{}),e("p",{className:"vm-bar-hits-tooltip-item",children:[e("span",{className:"vm-bar-hits-tooltip-item__label",children:"Total"}),e("span",{children:i.total.toLocaleString("en-US")})]})]}),e("div",{className:"vm-chart-tooltip-header",children:e("div",{className:"vm-chart-tooltip-header__title vm-bar-hits-tooltip__date",children:i.timestamp})})]}):null},Ul=({legend:t})=>{const n=t.total.toLocaleString("en-US"),o=Math.round(t.total/t.totalHits*100);return e("div",{className:"vm-legend-hits-menu-section",children:e("div",{className:"vm-legend-hits-menu-row",children:e("div",{className:"vm-legend-hits-menu-row__title",children:["Total: ",n," (",o,"%)"]})})})},yt=({title:t,handler:n,iconStart:o,iconEnd:r,className:a,submenu:s})=>{const i=R(null),l=R(null),c=R(null),[u,d]=A(!1),[h,m]=A(!1),[p,g]=A(!1),_=!!s?.length,f=()=>{m(C=>!C)},v=()=>{m(!1)},y=()=>{n&&n(),_&&f()};L(()=>{l.current&&d(l.current.scrollWidth>l.current.clientWidth)},[t,l]),L(()=>{requestAnimationFrame(()=>{if(!h||!c.current){g(!1);return}const{left:C,width:w}=c.current.getBoundingClientRect();g(C+w>window.innerWidth)})},[c,h]),bt(i,v);const b=e("div",{ref:l,className:"vm-legend-hits-menu-row__title",children:t});return e("div",{ref:i,className:F({"vm-legend-hits-menu-row":!0,"vm-legend-hits-menu-row_interactive":!!n||_,[`${a}`]:a}),onClick:y,children:[o&&e("div",{className:"vm-legend-hits-menu-row__icon",children:o}),u?e(q,{title:t,children:b}):b,r&&!_&&e("div",{className:"vm-legend-hits-menu-row__icon",children:r}),_&&e("div",{className:"vm-legend-hits-menu-row__icon vm-legend-hits-menu-row__icon_drop",children:e(Oe,{})}),h&&s&&e("div",{ref:c,className:F({"vm-legend-hits-menu":!0,"vm-legend-hits-menu_submenu":!0,"vm-legend-hits-menu_submenu_left":p}),children:e("div",{className:"vm-legend-hits-menu-section",children:s.map(({icon:C,title:w,handler:k})=>e(yt,{iconStart:C,title:w,handler:k},w))})})]})};var Q=(t=>(t.Equals="=",t.NotEquals="!=",t.Regex="~",t.NotRegex="!~",t))(Q||{});const wt=()=>{const[t,n]=J(),o=T(()=>{const l=Number(t.get("top_hits"));return Number.isFinite(l)&&l>0?l:Nn},[t]),r=t.get("group_hits")||ve,a=z((l,c)=>{n(u=>{const d=new URLSearchParams(u),h=u.get(l);return c&&c!==h?d.set(l,c):d.delete(l),d})},[n]),s=z(l=>{a("top_hits",String(l))},[a]),i=z(l=>{a("group_hits",l)},[a]);return{topHits:o,setTopHits:s,groupFieldHits:r,setGroupFieldHits:i}},jl=({legend:t,onApplyFilter:n,onClose:o})=>{const r=ue(),{groupFieldHits:a}=wt(),s=c=>()=>{n({field:a,value:t.label,operator:c}),o()},i=async()=>{await r(t.label,`${t.label} has been copied`),o()},l=[{title:`Copy ${a} name`,icon:e(pe,{}),handler:i},{title:`Add ${a} to filter`,icon:e(qe,{}),handler:s(Q.Equals)},{title:`Exclude ${a} to filter`,icon:e(Ue,{}),handler:s(Q.NotEquals)}];return e("div",{className:"vm-legend-hits-menu-section",children:l.map(({icon:c,title:u,handler:d})=>e(yt,{iconStart:c,title:u,handler:d},u))})},Yl=t=>t.startsWith('"')&&t.endsWith('"')||t.startsWith("'")&&t.endsWith("'")?t.slice(1,-1):t,Gl=t=>{const[n,o]=t.split(":").map(a=>a.trim()),r=Yl(o);return{field:n,value:r}},Wl=({fields:t,onApplyFilter:n,onClose:o})=>{const r=ue(),{groupFieldHits:a}=wt(),s=u=>async()=>{await r(u,`${u} has been copied`),o()},i=(u,d)=>()=>{n({...Gl(u),operator:d}),o()},l=u=>[{title:"Copy",icon:e(pe,{}),handler:s(u)},{title:"Add to filter",icon:e(qe,{}),handler:i(u,Q.Equals)},{title:"Exclude to filter",icon:e(Ue,{}),handler:i(u,Q.NotEquals)}],c=T(()=>t.map(u=>{const d=Tr(u,a);return{title:d,submenu:l(d)}}),[t]);return e("div",{className:"vm-legend-hits-menu-section",children:c?.map(u=>e(yt,{...u},u.title))})},Ql=({legend:t,series:n,onRedrawGraph:o,onClose:r})=>{const a=T(()=>n.find(d=>d.label===t.label),[n]),s=!!a?.show,i=n.every(d=>d===a||!d.show),l=z(()=>{a&&(a.show=!a.show,o(),r())},[a,o,r]),c=z(()=>{n.forEach(d=>{d.show=i||d===a}),o(),r()},[n,i,a,o,r]),u=T(()=>[{title:s?"Hide series":"Show series",icon:s?e($t,{}):e(Qe,{}),handler:l},{title:i?"Show all series":"Focus on series",icon:i?e(_t,{}):e(gt,{}),handler:c}],[i,s,c,l]);return e("div",{className:"vm-legend-hits-menu-section",children:u.map(({icon:d,title:h,handler:m})=>e(yt,{iconStart:d,title:h,handler:m},h))})},Kl=`aggregated results for fields not in the top ${Nn}`,Zl=({legend:t,fields:n,series:o,onApplyFilter:r,onRedrawGraph:a,onClose:s})=>e("div",{className:"vm-legend-hits-menu",children:[t.isOther&&e("div",{className:"vm-legend-hits-menu-section vm-legend-hits-menu-section_info",children:e(yt,{title:Kl})}),e(Ql,{legend:t,series:o,onRedrawGraph:a,onClose:s}),!t.isOther&&e(jl,{legend:t,onApplyFilter:r,onClose:s}),!t.isOther&&e(Wl,{fields:n,onApplyFilter:r,onClose:s}),e(Ul,{legend:t})]}),Jl=({legend:t,series:n,onRedrawGraph:o,onApplyFilter:r})=>{const{value:a,setTrue:s,setFalse:i}=X(),l=R(null),[c,u]=A(null),d=T(()=>n.find(_=>_.label===t.label),[n]),h=T(()=>xr(t.label),[t.label]),m=h.join(", "),p=mi(t.total),g=_=>{_.preventDefault(),u({top:_.clientY,left:_.clientX}),s()};return e("div",{ref:l,className:F({"vm-bar-hits-legend-item":!0,"vm-bar-hits-legend-item_other":t.isOther,"vm-bar-hits-legend-item_active":a,"vm-bar-hits-legend-item_hide":!d?.show}),onClick:g,children:[e("div",{className:"vm-bar-hits-legend-item__marker",style:{backgroundColor:`${t.stroke}`}}),e("div",{className:"vm-bar-hits-legend-item__label",children:m}),e("span",{className:"vm-bar-hits-legend-item__total",children:["(",p,")"]}),e(ge,{placement:"fixed",open:a,buttonRef:l,placementPosition:c,onClose:i,children:e(Zl,{legend:t,fields:h,series:n,onApplyFilter:r,onRedrawGraph:o,onClose:i})})]})},Xl=({uPlotInst:t,legendDetails:n,onApplyFilter:o})=>{const[r,a]=A([]),s=()=>t.series.filter(l=>l.scale!=="x"),i=()=>{t.redraw()};return L(()=>{t.hooks.draw||(t.hooks.draw=[]),t.hooks.draw.push(()=>{a(s())})},[t]),e("div",{className:"vm-bar-hits-legend",children:n.map(l=>e(Jl,{legend:l,series:r,onRedrawGraph:i,onApplyFilter:o},l.label))})},ec=({graphOptions:t,logHits:n,totalHits:o,data:r,period:a,setPeriod:s,onApplyFilter:i})=>{const{isDarkTheme:l}=re(),{timezone:c}=se(),[u,d]=Ol(),h=R(null),[m,p]=A(),{xRange:g,setPlotScale:_}=Rl({period:a,setPeriod:s}),{onReadyChart:f,isPanning:v}=Vl(_);$l({uPlotInst:m,xRange:g,setPlotScale:_});const{data:y,bands:b}=T(()=>t.stacked?Bl(r,()=>!1):{data:r,bands:[]},[t,r]),{options:C,series:w,focusDataIdx:k}=_i({data:y,logHits:n,bands:b,xRange:g,containerSize:d,onReadyChart:f,setPlotScale:_,graphOptions:t,timezone:c}),S=T(()=>n.map(N=>{const x=Ar(N);return{label:x,isOther:N._isOther,fields:N.fields,total:N.total||0,totalHits:o,stroke:w.find(M=>M.label===x)?.stroke}}).sort(Er("total")),[n,o,w]);return L(()=>{if(!m)return;const N=new Map(m.series.map(E=>[E.label,E])),x=w.map(E=>{const M=N.get(E.label);return M?{...E,show:M.show}:E});Sr(m),oi(m,x,!0),si(m,x),m.redraw()},[w,m]),L(()=>{m&&(m.delBand(),b.forEach(N=>{m.addBand(N)}),m.redraw())},[b]),L(()=>{if(!h.current)return;const N=new Ot(C,y,h.current);return p(N),()=>N.destroy()},[h.current,l,c]),L(()=>{m&&(m.scales.x.range=()=>[g.min,g.max],m.redraw())},[g]),L(()=>{m&&(m.setSize(d),m.redraw())},[d]),L(()=>{m&&(m.setData(y),m.redraw())},[y]),e(j,{children:[e("div",{className:F({"vm-bar-hits-chart":!0,"vm-bar-hits-chart_panning":v}),ref:u,children:[e("div",{className:"vm-line-chart__u-plot",ref:h}),e(ql,{uPlotInst:m,data:r,focusDataIdx:k})]}),m&&e(Xl,{uPlotInst:m,onApplyFilter:i,legendDetails:S})]})},tc=["_msg","_time"],nc=["_stream","_stream_id"],Vr=()=>{const{serverUrl:t}=re(),{fieldNames:n,fieldNamesParamsKey:o}=Je(),r=On(),a=et(),[s,i]=A([]),[l,c]=A(!1),[u,d]=A(""),h=(p,g)=>{const _=g?p:p.filter(f=>!tc.concat(nc).includes(f.value));i(_)},m=z(async p=>{c(!0),d("");try{const g=new URLSearchParams({start:p.start.toString(),end:p.end.toString(),query:p.query||"*"}),_=new URLSearchParams([...g,...p.extraParams??[]]),f={...a},v=_.toString(),y=v+JSON.stringify(a);if(o===y){h(n,p.showAllFields),c(!1);return}const b=`${t}/select/logsql/field_names?${v}`,C=await fetch(b,{headers:f});if(!C.ok){const k=await C.text(),S=`${C.status} ${C.statusText}: ${k}`;console.error(S),d(S);return}const w=await C.json();h(w.values,p.showAllFields),r({type:"SET_FIELD_NAMES",payload:{rows:w.values,key:y}})}catch(g){console.error(g),d(g)}finally{c(!1)}},[t,a,n,o]);return{fieldNames:s,loading:l,error:u,fetchFieldNames:m}},$r=t=>JSON.stringify(t).slice(1,-1),oc=["eq","neq","regex","nregex"],rc=t=>typeof t=="string"&&oc.includes(t),ac={eq:Q.Equals,neq:Q.NotEquals,regex:Q.Regex,nregex:Q.NotRegex},sc={[Q.Equals]:"eq",[Q.NotEquals]:"neq",[Q.Regex]:"regex",[Q.NotRegex]:"nregex"},ic=t=>t.replace(/"/g,'\\"'),Pt=t=>{const{field:n,operator:o,value:r}=t,a=n==="_stream",s=r==='""',i=r==="*",c=!a&&!i&&!s?`"${ic(r)}"`:r;switch(o){case Q.Equals:case Q.NotEquals:{const u=i||a?`${n}:${c}`:`${n}:=${c}`;return o===Q.NotEquals?`(NOT ${u})`:u}case Q.Regex:case Q.NotRegex:{const u=`${n}:~${c}`;return o===Q.NotRegex?`(NOT ${u})`:u}default:return""}},Te=()=>{const[t,n]=J(),o=T(()=>t.getAll("filter").flatMap((d,h)=>{try{const m=JSON.parse(d);if(!m||typeof m!="object")return[];const{f:p,o:g,v:_}=m;return typeof p!="string"||typeof _!="string"||!rc(g)?[]:[{id:h,field:p,operator:ac[g],value:_}]}catch{return[]}}),[t]),r=T(()=>{const d=new URLSearchParams;return Nr(o,["field","operator"]).forEach(({values:h})=>{const{field:m,operator:p,value:g}=h[0];if(!m||!h.length||!p)return;const _=m==="_stream"?"extra_stream_filters":"extra_filters";if(h.length===1)d.append(_,Pt({field:m,operator:p,value:g}));else{const f=h.map(y=>`"${$r(y.value)}"`),v=`${m}:in(
${f.join(`,
`)}
)`;d.append(_,p===Q.NotEquals?`(NOT ${v})`:v)}}),d},[o]),a=z(d=>{const h=new URLSearchParams(t);h.delete("filter");for(const m of d)h.append("filter",JSON.stringify({f:m.field,o:sc[m.operator],v:m.value}));n(h,{replace:!0})},[t,n]),s=z(d=>{a([...o,d])},[o,a]),i=z((d,h)=>{const m=[...o];m[h]=d,a(m)},[o,a]),l=z(d=>{const h=new Map;for(const p of o)h.set(`${p.field}\0${p.value}`,p);for(const p of d)h.set(`${p.field}\0${p.value}`,p);const m=Array.from(h.values());a(m)},[o,a]),c=z(d=>{const h=o.filter((m,p)=>p!==d);a(h)},[o,a]),u=z(()=>a([]),[a]);return{extraFilters:o,extraParams:r,addNewFilter:s,updateFilter:i,upsertFilters:l,removeFilter:c,clearFilters:u}},lc=({logHits:t,data:n,query:o,period:r,setPeriod:a,onApplyFilter:s,durationMs:i})=>{const[l,c]=A({graphStyle:Ee.BAR,stacked:!1,fill:!1,hideChart:!1}),u=T(()=>fi(t),[t]),{extraParams:d}=Te(),{period:{start:h,end:m}}=se(),{topHits:p,setTopHits:g,groupFieldHits:_,setGroupFieldHits:f}=wt(),{fetchFieldNames:v,fieldNames:y,loading:b,error:C}=Vr(),w=T(()=>y.map(S=>S.value).sort((S,N)=>S.localeCompare(N)),[y]),k=z(()=>{v({start:h,end:m,extraParams:d,showAllFields:!0,query:o})},[h,m,d.toString(),v,o]);return e("div",{className:F({"vm-bar-hits-chart__wrapper":!0,"vm-bar-hits-chart__wrapper_hidden":l.hideChart}),children:[e("div",{className:"vm-bar-hits-chart-header",children:[e("div",{className:"vm-bar-hits-chart-header-info",children:[e(Ce,{label:"Top hits",options:[5,10,25,50],limit:p,onChange:g})," |",e(Ce,{searchable:!0,label:"Group by",limit:_,options:w,textNoOptions:"No fields found",isLoading:b,error:C?String(C):"",onOpenSelect:k,onChange:f})," |",e("p",{children:["Total: ",e("b",{children:u.toLocaleString("en-US")})," hits"]}),i!==void 0&&e(j,{children:["|",e("p",{children:["Duration: ",e("b",{children:xn(i)})]})]})]}),e(Il,{onChange:c})]}),!l.hideChart&&e(ec,{logHits:t,totalHits:u,data:n,period:r,setPeriod:a,onApplyFilter:s,graphOptions:l})]})},Br=({query:t,logHits:n,period:o,error:r,isLoading:a,onApplyFilter:s,durationMs:i})=>{const{isMobile:l}=K(),c=mt(),[u]=J(),d=T(()=>u.get("hide_chart"),[u]),h=(f,v)=>f.map(y=>{const b=new Map;return y.timestamps.forEach((C,w)=>{b.set(ao(C),y.values[w]||null)}),v.map(C=>b.get(C)||null)}),m=z(f=>{const v=[],{start:y,end:b,step:C}=Lr(o),w=Math.ceil(y.diff(f,"milliseconds")/C);let k=f.add(w*C,"milliseconds");k.isBefore(y)&&(k=y.clone());const S=Math.floor(b.diff(k,"milliseconds")/C);for(let N=0;N<=S;N++){const x=k.add(N*C,"milliseconds");v.push(ao(x))}return v},[o]),p=T(()=>{if(!n.length)return[[],[]];const f=m(O(n[0].timestamps[0])),v=h(n,f);return[f,...v]},[n]),g=T(()=>{if(a)return"";const f=p.every(b=>b.length===0),v=p[0].length===0,y=p[1].length===0;return d?"Chart hidden. Hits updates paused.":f?`No logs volume available
No volume information available for the current queries and time range.`:v?"No timestamp information available for the current queries and time range.":y?"No value information available for the current queries and time range.":""},[p,d,a]),_=({from:f,to:v})=>{c({type:"SET_PERIOD",payload:{from:f,to:v}})};return e("section",{className:F({"vm-query-page-chart":!0,"vm-block":!0,"vm-block_mobile":l}),children:[a&&e(Xe,{}),!r&&g&&e("div",{className:"vm-query-page-chart__empty",children:e(he,{variant:"info",children:g})}),r&&g&&e("div",{className:"vm-query-page-chart__empty",children:e(he,{variant:"error",children:r})}),p&&e(lc,{logHits:n,durationMs:i,query:t,data:p,period:o,setPeriod:_,onApplyFilter:s})]})};function cc(t){return Object.keys(t).length===0}const qr=(t="*")=>{const{serverUrl:n}=re(),o=et(),[r]=J(),[a,s]=A([]),[i,l]=A([]),[c,u]=A(),[d,h]=A(),m=R(new AbortController),p=T(()=>r.get("hide_chart"),[r]),g=T(()=>Ws(n),[n]),_=({query:v=t,period:y,extraParams:b,signal:C,fieldsLimit:w,field:k})=>{const{start:S,end:N,step:x}=Lr(y),E=new URLSearchParams({query:v.trim(),step:`${x}ms`,start:S.toISOString(),end:N.toISOString(),fields_limit:`${w||Nn}`,field:k||ve});return{body:new URLSearchParams([...E,...b??[]]),signal:C,method:"POST",headers:{...o}}},f=z(async v=>{m.current.abort(),m.current=new AbortController;const{signal:y}=m.current,b=Date.now();l(C=>({...C,[b]:!0})),u(void 0);try{const C=_({...v,signal:y}),w=await fetch(g,C),k=w.headers.get("vl-request-duration-seconds");if(h(k?Number(k)*1e3:void 0),!w.ok||!w.body){const x=await w.text();u(x),s([]),l(E=>({...E,[b]:!1}));return}const N=(await w.json())?.hits;N||u("Error: No 'hits' field in response"),s(N.map(dc).sort(uc))}catch(C){C instanceof Error&&C.name!=="AbortError"&&(u(String(C)),console.error(C),s([]))}l(C=>({...C,[b]:!1}))},[g,t,o]);return L(()=>()=>{m.current.abort()},[]),L(()=>{p&&(s([]),u(void 0))},[p]),{logHits:a,isLoading:Object.values(i).some(v=>v),error:c,fetchLogHits:f,durationMs:d,abortController:m.current}},dc=t=>({...t,_isOther:cc(t.fields)}),uc=(t,n)=>t._isOther!==n._isOther?t._isOther?-1:1:n.total-t.total;function mc(t){const n=R(t);L(()=>{n.current=t},[t]),L(()=>()=>{n.current()},[])}function hc(t,n=500,o){const r=R(t);r.current=t;const a=T(()=>{const s=Bo((...l)=>r.current(...l),n,o),i=(...l)=>{s(...l)};return i.cancel=s.cancel,i.flush=s.flush,i},[n,o]);return mc(()=>{a.cancel()}),a}function vn(t){const n=R();return L(()=>{n.current=t},[t]),n.current}const pc=({setLimit:t})=>{const{value:n,setFalse:o,setTrue:r}=X(),[a,s]=A(0),[i,l]=A(0),[c,u]=A(()=>{try{return!!sessionStorage.getItem(Qt)}catch{return!1}}),d=R(),h=R(null),m=z(async v=>{if(h.current)return h.current;const y=Number(v.get("limit")??0),b=Number.isFinite(y)&&y>=0?y:0,C=b===0||b>at,w=b>va&&!c;if(!(C||w))return{action:"proceed"};s(b),l(b),r();const S=new Promise(N=>{d.current=N});return h.current=S,S},[r,c]),p=z(()=>{const v=d.current;if(!v){o();return}let y=Math.floor(Number.isFinite(i)?i:0);y<0&&(y=0),y>at&&(y=at),t(y);const b=new URLSearchParams;b.set("limit",String(y)),v({action:"modify",body:b}),d.current=void 0,h.current=null,o()},[i,t,o]),g=z(()=>{const v=d.current;v&&v({action:"abort"}),d.current=void 0,h.current=null,o()},[o]),_=z(v=>{u(v);try{v?sessionStorage.setItem(Qt,"true"):sessionStorage.removeItem(Qt)}catch(y){console.error(y)}},[]);return L(()=>()=>{d.current&&(d.current({action:"abort"}),d.current=void 0,h.current=null)},[]),{beforeFetch:m,modalProps:{isOpen:n,initialLimit:a,limitDraft:i,setLimitDraft:l,suppressWarning:c,onChangeSuppressWarning:_,onConfirm:p,onCancel:g}}},gc=({initialLimit:t,limitDraft:n,setLimitDraft:o,isOpen:r,suppressWarning:a,queryParams:s,onChangeSuppressWarning:i,onConfirm:l,onCancel:c})=>{const u=t?t.toLocaleString("en-US"):"an unlimited number of",[d,h]=A(!1);return L(()=>()=>c(),[c]),r?e(Le,{title:"Confirm large load",isOpen:r,onClose:c,children:e("div",{className:"vm-logs-limit-modal",children:[e("div",{className:"vm-logs-limit-modal-text",children:[e("p",{children:["You’re about to load ",e("b",{children:u})," logs."]}),e("p",{children:"This may slow down the app or make the UI unresponsive."}),e("p",{children:"Are you sure you want to continue?"})]}),e("div",{className:"vm-logs-limit-modal-input",children:e(Dr,{limit:n,onChangeLimit:o,onPressEnter:l,onError:h})}),e(Or,{queryParams:s,children:e("p",{className:"vm-logs-limit-modal-download vm-link vm-link_colored vm-link_underlined",children:"Click to download all matching logs without a limit."})}),e("div",{className:"vm-logs-limit-modal-footer",children:[e("div",{children:e(gn,{color:"primary",label:"Don’t show this warning again",checked:a,onChange:i})}),e("div",{className:"vm-logs-limit-modal-footer__actions",children:[e(D,{color:"error",variant:"outlined",onClick:c,children:"Cancel"}),e(D,{onClick:l,disabled:d,children:"Load Logs"})]})]})]})}):null},Lo=Number(Se("LOGS_LIMIT")),_c=isNaN(Lo)?fa:Lo,fc=()=>{const{queryHistory:t}=zt(),n=Mn(),{duration:o,relativeTime:r,period:a}=se(),{setSearchParamsFromKeys:s}=vt(),{topHits:i,groupFieldHits:l}=wt(),[c]=J(),u=T(()=>!!c.get("hide_chart"),[c]),d=vn(u),h=T(()=>!!c.get("hide_logs"),[c]),m=vn(h),[p,g]=le(_c,ne.LIMIT),[_,f]=le("*","query"),v=te=>{g(te),s({limit:te}),we("LOGS_LIMIT",`${te}`)},{beforeFetch:y,modalProps:b}=pc({setLimit:v}),C=()=>{const te=Xa(_,t[0]);n({type:"SET_QUERY_HISTORY",payload:{key:"LOGS_QUERY_HISTORY",history:[te]}})},[w,k]=A(!1),[S,N]=A(a),[x,E]=A(""),{logs:M,isLoading:P,error:H,fetchLogs:U,abortController:Y,durationMs:G,queryParams:Z}=je(_,p),{fetchLogHits:I,...V}=qr(_),$=hc(async(te,ae)=>{ae.logs&&!await U({period:te,beforeFetch:y})||ae.hits&&await I({period:te,field:l,fieldsLimit:i})},300),ee=()=>{const te=Lt.find(Zr=>Zr.id===r);if(!te)return a;const{duration:ae,until:tt}=te;return De(ae,tt())},ie=()=>{if(!_){E(Go.validQuery);return}E("");const te=ee();N(te),V.abortController.abort?.(),Y.abort?.(),$(te,{logs:!h,hits:!u}),s({query:_,"g0.range_input":o,"g0.end_input":te.date,"g0.relative_time":r||"none"}),C()},Pe=te=>{f(ae=>`${Pt(te)} AND ${ae}`),k(!0)},Re=()=>{P||V.isLoading?(Y.abort?.(),V.abortController.abort?.()):ie()};return L(()=>{_&&ie()},[a]),L(()=>{w&&(ie(),k(!1))},[_,w]),L(()=>{u||!d||I({period:S,field:l,fieldsLimit:i})},[u,d,S,l,i,I]),L(()=>{h||!m||U({period:S,beforeFetch:y})},[h,m,S,U,y]),e("div",{className:"vm-query-page",children:[e(gc,{...b,queryParams:Z}),e(Pl,{query:_,queryDurationMs:h?void 0:G,error:x,limit:p,onChange:f,onChangeLimit:v,onRun:Re,isLoading:P||V.isLoading}),H&&e(he,{variant:"error",children:H}),!H&&e(Br,{...V,query:_,period:S,onApplyFilter:Pe}),e(Rr,{data:M,queryParams:Z,isLoading:P})]})};var dt=(t=>(t[t.internalLink=0]="internalLink",t[t.externalLink=1]="externalLink",t))(dt||{});const vc=()=>[{label:ct[ce.home].title,value:ce.home},{label:ct[ce.overview].title,value:ce.overview}],bn=({activeMenu:t,label:n,value:o,type:r,color:a})=>r===dt.externalLink?e("a",{className:F({"vm-header-nav-item":!0,"vm-header-nav-item_active":t===o}),style:{color:a},href:o,target:"_blank",rel:"noreferrer",children:n}):e(Vo,{className:F({"vm-header-nav-item":!0,"vm-header-nav-item_active":t===o}),style:{color:a},to:o,children:n}),bc=({activeMenu:t,label:n,color:o,background:r,submenu:a,direction:s})=>{const{pathname:i}=$e(),[l,c]=A(null),u=R(null),{value:d,setFalse:h,setTrue:m}=X(),p=()=>{m(),l&&clearTimeout(l)},g=()=>{l&&clearTimeout(l);const f=setTimeout(h,300);c(f)},_=()=>{l&&clearTimeout(l)};return L(()=>{h()},[i]),s==="column"?e(j,{children:a.map(f=>e(bn,{activeMenu:t,value:f.value||"",label:f.label||"",type:f.type||dt.internalLink},f.value))}):e("div",{className:F({"vm-header-nav-item":!0,"vm-header-nav-item_sub":!0,"vm-header-nav-item_open":d,"vm-header-nav-item_active":a.find(f=>f.value===t)}),style:{color:o},onMouseEnter:p,onMouseLeave:g,ref:u,children:[n,e(Oe,{}),e(ge,{open:d,placement:"bottom-left",offset:{top:12,left:0},onClose:h,buttonRef:u,children:e("div",{className:"vm-header-nav-item-submenu",style:{background:r},onMouseLeave:g,onMouseEnter:_,children:a.map(f=>e(bn,{activeMenu:t,value:f.value||"",label:f.label||"",color:o,type:f.type||dt.internalLink},f.value))})})]})},yc=t=>{try{return t.replace(/^\/+/,"").replace(/-/g," ").trim().replace(/^\w/,n=>n.toUpperCase())}catch{return t}},Ur=t=>t.filter(n=>!n.hide).map(n=>{const o={...n};return o.value&&!o.label&&(o.label=ct[o.value]?.title||yc(o.value)),o.submenu&&o.submenu.length>0&&(o.submenu=Ur(o.submenu)),o}),wc=()=>{const t=vc();return Ur(t)},jr=({color:t,background:n,direction:o})=>{const{pathname:r}=$e(),[a,s]=A(r),i=wc();return L(()=>{s(r)},[r]),e("nav",{className:F({"vm-header-nav":!0,[`vm-header-nav_${o}`]:o}),children:i.map(l=>l.submenu?e(bc,{activeMenu:a,label:l.label||"",submenu:l.submenu,color:t,background:n,direction:o},l.label):e(bn,{activeMenu:a,value:l.value||"",label:l.label||"",color:t,type:l.type||dt.internalLink},l.value))})},Cc=({open:t})=>e("button",{className:F({"vm-menu-burger":!0,"vm-menu-burger_opened":t}),"aria-label":"menu",children:e("span",{})}),kc=({background:t,color:n})=>{const{pathname:o}=$e(),r=R(null),{value:a,toggle:s,setFalse:i}=X();return L(i,[o]),bt(r,i),e("div",{className:"vm-header-sidebar",ref:r,children:[e("div",{className:F({"vm-header-sidebar-button":!0,"vm-header-sidebar-button_open":a}),onClick:s,children:e(Cc,{open:a})}),e("div",{className:F({"vm-header-sidebar-menu":!0,"vm-header-sidebar-menu_open":a}),children:e("div",{children:e(jr,{color:n,background:t,direction:"column"})})})]})},Nc=t=>`${t.replace(/^(.+)(\/select.+)/,"$1")}/admin/tenants`,Sc=()=>{const{useTenantID:t}=Ut(),n=Fe(),{serverUrl:o}=re(),[r,a]=A(!1),[s,i]=A(),[l,c]=A([]),u=T(()=>Nc(o),[o]),d=n?!t:!0;return L(()=>{if(d)return;(async()=>{a(!0);try{const m=await fetch(u),p=await m.json(),g=p.data||[];c(g.sort((_,f)=>_.localeCompare(f))),m.ok?i(void 0):i(`${p.errorType}\r
${p?.error}`)}catch(m){m instanceof Error&&i(`${m.name}: ${m.message}`)}a(!1)})().catch(console.error)},[u]),{accountIds:l,isLoading:r,error:s}},Ac=({controlsComponent:t,isMobile:n,...o})=>{const r=Fe(),{pathname:a}=$e(),{accountIds:s}=Sc(),{value:i,toggle:l,setFalse:c}=X(),u=T(()=>Object.entries(ct).find(([m])=>qo(m,a))?.[1]?.header||{},[a]),d=e(t,{...o,isMobile:n,accountIds:s,headerSetup:u});return n?e(j,{children:[e("div",{children:e(D,{className:F({"vm-header-button":!r}),startIcon:e($n,{}),onClick:l,ariaLabel:"controls"})}),e(Le,{title:"Controls",onClose:c,isOpen:i,className:F({"vm-header-controls-modal":!0,"vm-header-controls-modal_open":i}),children:d})]}):d},To=()=>e(nr,{}),xc=({controlsComponent:t})=>{const{isMobile:n}=K(),o=ft(),r=T(()=>window.innerWidth<1e3,[o]),{isDarkTheme:a}=re(),s=Fe(),i=T(()=>xe(a?"color-background-block":"color-primary"),[a]),{background:l,color:c}=T(()=>{const{headerStyles:{background:h=s?"#FFF":i,color:m=s?i:"#FFF"}={}}=Ut();return{background:h,color:m}},[i]),u=It(),d=()=>{u({pathname:ce.home}),window.location.reload()};return e("header",{className:F({"vm-header":!0,"vm-header_app":s,"vm-header_dark":a,"vm-header_sidebar":r,"vm-header_mobile":n}),style:{background:l,color:c},children:[r?e(kc,{background:l,color:c}):e(j,{children:[!s&&e("div",{className:"vm-header-logo",onClick:d,style:{color:c},children:e(To,{})}),e(jr,{color:c,background:l})]}),r&&e("div",{className:F({"vm-header-logo":!0,"vm-header-logo_mobile":!0}),onClick:d,style:{color:c},children:e(To,{})}),e(Ac,{controlsComponent:t,displaySidebar:r,isMobile:n})]})},Lc={href:"https://github.com/VictoriaMetrics/VictoriaLogs/issues/new/choose",Icon:cr,title:"Create an issue"},Yr=[{href:"https://docs.victoriametrics.com/victorialogs/logsql/",Icon:Hn,title:"LogsQL"},{href:"https://docs.victoriametrics.com/victorialogs/",Icon:Vn,title:"Documentation"},Lc],Tc=Ze(({links:t=Yr})=>{const n=`2019-${new Date().getFullYear()}`;return e("footer",{className:"vm-footer",children:[e("a",{className:"vm-link vm-footer__website",target:"_blank",href:"https://victoriametrics.com/",rel:"me noreferrer",children:[e(or,{}),"victoriametrics.com"]}),t.map(({href:o,Icon:r,title:a})=>e("a",{className:"vm-link vm-footer__link",target:"_blank",href:o,rel:"help noreferrer",children:[e(r,{}),a]},`${o}-${a}`)),e("div",{className:"vm-footer__copyright",children:["© ",n," VictoriaMetrics"]})]})}),Ec="Browser timezone is not recognized, supported, or could not be determined.",Mc=()=>e(q,{title:Ec,children:e(Vt,{})}),At=Jo(),Fc=({onChange:t})=>{const{isMobile:n}=K(),{defaultTimezone:o}=se(),r=oo(),[a,s]=A(""),i=T(()=>[{title:`Default time (${o})`,region:o,utc:o?it(o):"UTC"},{title:At.title,region:At.region,utc:it(At.region),isInvalid:!At.isValid},{title:"UTC (Coordinated Universal Time)",region:"UTC",utc:"UTC"}].filter(m=>m.region),[o]),l=T(()=>{if(!a)return r;try{return oo(a)}catch{return{}}},[a,r]),c=T(()=>Object.keys(l),[l]),u=m=>{s(m)},d=m=>{t(m),s("")},h=m=>()=>{d(m)};return e("div",{className:F({"vm-timezones-list":!0,"vm-timezones-list_mobile":n}),children:[e("div",{className:"vm-timezones-list-header",children:[e("div",{className:"vm-timezones-list-header__search",children:e(Ae,{autofocus:!0,label:"Search",value:a,onChange:u})}),i.map((m,p)=>m&&e("div",{className:"vm-timezones-item vm-timezones-list-group-options__item",onClick:h(m),children:[e("div",{className:"vm-timezones-item__title",children:[m.title,m.isInvalid&&e(Mc,{})]}),e("div",{className:"vm-timezones-item__utc",children:m.utc})]},`${p}_${m.region}`))]}),c.map(m=>e("div",{className:"vm-timezones-list-group",children:e(Cr,{defaultExpanded:!0,title:e("div",{className:"vm-timezones-list-group__title",children:m}),children:e("div",{className:"vm-timezones-list-group-options",children:l[m]&&l[m].map(p=>e("div",{className:"vm-timezones-item vm-timezones-list-group-options__item",onClick:h(p),children:[e("div",{className:"vm-timezones-item__title",children:p.region}),e("div",{className:"vm-timezones-item__utc",children:p.utc})]},p.search))})})},m))]})},Pc=Rt((t,n)=>{const{isMobile:o}=K(),{timezone:r}=se(),a=mt(),[s,i]=A(r),l=R(null),{value:c,toggle:u,setFalse:d}=X(),h=T(()=>({region:s,utc:it(s)}),[s]),m=p=>{i(p.region),d()};return L(()=>{i(r)},[r]),Uo(n,()=>({handleApply:()=>{a({type:"SET_TIMEZONE",payload:s})}}),[s]),e("div",{className:"vm-timezones",children:[e("div",{className:"vm-server-configurator__title",children:"Time zone"}),e("div",{className:"vm-timezones-item vm-timezones-item_selected",onClick:u,ref:l,children:[e("div",{className:"vm-timezones-item__title",children:h.region}),e("div",{className:"vm-timezones-item__utc",children:h.utc}),e("div",{className:F({"vm-timezones-item__icon":!0,"vm-timezones-item__icon_open":c}),children:e(Oe,{})})]}),e(ge,{open:c,buttonRef:l,placement:"bottom-left",onClose:d,fullWidth:!0,title:o?"Time zone":void 0,children:e(Fc,{onChange:m})})]})}),Ic=({options:t,value:n,label:o,onChange:r})=>{const a=R(null),[s,i]=A({width:"0px",left:"0px",borderRadius:"0px"}),l=c=>()=>{r(c)};return L(()=>{if(!a.current){i({width:"0px",left:"0px",borderRadius:"0px"});return}const c=t.findIndex(p=>p.value===n),{width:u}=a.current.getBoundingClientRect();let d=u,h=c*d,m="0";c===0&&(m="16px 0 0 16px"),c===t.length-1&&(m="10px",h-=1,m="0 16px 16px 0"),c!==0&&c!==t.length-1&&(d+=1,h-=1),i({width:`${d}px`,left:`${h}px`,borderRadius:m})},[a,n,t]),e("div",{className:"vm-toggles",children:[o&&e("label",{className:"vm-toggles__label",children:o}),e("div",{className:"vm-toggles-group",style:{gridTemplateColumns:`repeat(${t.length}, 1fr)`},children:[s.borderRadius&&e("div",{className:"vm-toggles-group__highlight",style:s}),t.map((c,u)=>e("div",{className:F({"vm-toggles-group-item":!0,"vm-toggles-group-item_first":u===0,"vm-toggles-group-item_active":c.value===n,"vm-toggles-group-item_icon":c.icon&&c.title}),onClick:l(c.value),ref:c.value===n?a:null,children:[c.icon,c.title]},c.value))]})]})},Oc=Object.values(me).map(t=>({title:t,value:t})),Rc=()=>{const{isMobile:t}=K(),n=Qo(),{theme:o}=re(),r=a=>{n({type:"SET_THEME",payload:a})};return e("div",{className:F({"vm-theme-control":!0,"vm-theme-control_mobile":t}),children:[e("div",{className:"vm-server-configurator__title",children:"Theme preferences"}),e("div",{className:"vm-theme-control__toggle",children:e(Ic,{options:Oc,value:o,onChange:r})},`${t}`)]})},rn="Settings",Dc=Rt((t,n)=>{const{isMobile:o}=K(),r=Fe(),a=R(null),s=R(null),i=R(null),{value:l,setTrue:c,setFalse:u}=X(),d=()=>{a.current&&a.current.handleApply(),s.current&&s.current.handleApply(),i.current&&i.current.handleApply(),u()},h=[{show:!0,component:e(Pc,{ref:i})},{show:!r,component:e(Rc,{})}].filter(m=>m.show);return Uo(n,()=>({open:c})),e(j,{children:[o?e("div",{className:"vm-mobile-option",onClick:c,children:[e("span",{className:"vm-mobile-option__icon",children:e(He,{})}),e("div",{className:"vm-mobile-option-text",children:e("span",{className:"vm-mobile-option-text__label",children:rn})}),e("span",{className:"vm-mobile-option__arrow",children:e(de,{})})]}):e(q,{title:rn,children:e(D,{className:F({"vm-header-button":!r}),variant:"contained",color:"primary",startIcon:e(He,{}),onClick:c,ariaLabel:"settings"})}),l&&e(Le,{title:rn,onClose:u,children:e("div",{className:F({"vm-server-configurator":!0,"vm-server-configurator_mobile":o}),children:[h.map((m,p)=>e("div",{className:"vm-server-configurator__input",children:m.component},p)),e("div",{className:"vm-server-configurator-footer",children:[e(D,{color:"error",variant:"outlined",onClick:u,children:"Cancel"}),e(D,{color:"primary",variant:"contained",onClick:d,children:"Apply"})]})]})})]})}),zc=({relativeTime:t,setDuration:n})=>{const{isMobile:o}=K(),r=a=>()=>{n(a)};return e("div",{className:F({"vm-time-duration":!0,"vm-time-duration_mobile":o}),children:Lt.map(({id:a,duration:s,until:i,title:l})=>e("div",{className:F({"vm-list-item":!0,"vm-list-item_mobile":o,"vm-list-item_active":a===t}),onClick:r({duration:s,until:i(),id:a}),children:l||s},a))})},Hc=({viewDate:t,showArrowNav:n,onChangeViewDate:o,toggleDisplayYears:r})=>{const a=()=>{o(t.subtract(1,"month"))},s=()=>{o(t.add(1,"month"))};return e("div",{className:"vm-calendar-header",children:[e("div",{className:"vm-calendar-header-left",onClick:r,children:[e("span",{className:"vm-calendar-header-left__date",children:t.format("MMMM YYYY")}),e("div",{className:"vm-calendar-header-left__select-year",children:e(Oe,{})})]}),n&&e("div",{className:"vm-calendar-header-right",children:[e("div",{className:"vm-calendar-header-right__prev",onClick:a,children:e(de,{})}),e("div",{className:"vm-calendar-header-right__next",onClick:s,children:e(de,{})})]})]})},Vc=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],$c=({viewDate:t,selectDate:n,onChangeSelectDate:o})=>{const r="YYYY-MM-DD",a=O.tz(),s=O(t.format(r)),i=T(()=>{const c=new Array(42).fill(null),u=s.startOf("month"),h=s.endOf("month").diff(u,"day")+1,m=new Array(h).fill(u).map((g,_)=>g.add(_,"day")),p=u.day();return c.splice(p,h,...m),c},[s]),l=c=>()=>{c&&o(c)};return e("div",{className:"vm-calendar-body",children:[Vc.map(c=>e(q,{title:c,children:e("div",{className:"vm-calendar-body-cell vm-calendar-body-cell_weekday",children:c[0]})},c)),i.map((c,u)=>e("div",{className:F({"vm-calendar-body-cell":!0,"vm-calendar-body-cell_day":!0,"vm-calendar-body-cell_day_empty":!c,"vm-calendar-body-cell_day_active":(c&&c.format(r))===n.format(r),"vm-calendar-body-cell_day_today":(c&&c.format(r))===a.format(r)}),onClick:l(c),children:c&&c.format("D")},c?c.format(r):u))]})},Bc=({viewDate:t,onChangeViewDate:n})=>{const o=O().format("YYYY"),r=T(()=>t.format("YYYY"),[t]),a=T(()=>{const c=O().subtract(18/2,"year");return new Array(18).fill(c).map((u,d)=>u.add(d,"year"))},[t]);L(()=>{const i=document.getElementById(`vm-calendar-year-${r}`);i&&i.scrollIntoView({block:"center"})},[]);const s=i=>()=>{n(i)};return e("div",{className:"vm-calendar-years",children:a.map(i=>e("div",{className:F({"vm-calendar-years__year":!0,"vm-calendar-years__year_selected":i.format("YYYY")===r,"vm-calendar-years__year_today":i.format("YYYY")===o}),id:`vm-calendar-year-${i.format("YYYY")}`,onClick:s(i),children:i.format("YYYY")},i.format("YYYY")))})},qc=({viewDate:t,selectDate:n,onChangeViewDate:o})=>{const r=O().format("MM"),a=T(()=>n.format("MM"),[n]),s=T(()=>new Array(12).fill("").map((l,c)=>O(t).month(c)),[t]);L(()=>{const l=document.getElementById(`vm-calendar-year-${a}`);l&&l.scrollIntoView({block:"center"})},[]);const i=l=>()=>{o(l)};return e("div",{className:"vm-calendar-years",children:s.map(l=>e("div",{className:F({"vm-calendar-years__year":!0,"vm-calendar-years__year_selected":l.format("MM")===a,"vm-calendar-years__year_today":l.format("MM")===r}),id:`vm-calendar-year-${l.format("MM")}`,onClick:i(l),children:l.format("MMMM")},l.format("MM")))})},Uc=({date:t,format:n=ye,onChange:o})=>{const[r,a]=A(0),[s,i]=A(O.tz(t)),[l,c]=A(O.tz(t)),u=O.tz(),d=u.format(Xn)===s.format(Xn),{isMobile:h}=K(),m=()=>{a(f=>f===2?0:2)},p=f=>{i(f),a(v=>v===2?1:0)},g=f=>{c(f)},_=()=>{i(u)};return L(()=>{l.format()!==O.tz(t).format()&&o(l.format(n))},[l]),L(()=>{const f=O.tz(t);i(f),c(f)},[t]),e("div",{className:F({"vm-calendar":!0,"vm-calendar_mobile":h}),children:[e(Hc,{viewDate:s,onChangeViewDate:p,toggleDisplayYears:m,showArrowNav:r===0}),r===0&&e($c,{viewDate:s,selectDate:l,onChangeSelectDate:g}),r===2&&e(Bc,{viewDate:s,onChangeViewDate:p}),r===1&&e(qc,{selectDate:l,viewDate:s,onChangeViewDate:p}),!d&&r===0&&e("div",{className:"vm-calendar-footer",children:e(D,{variant:"text",size:"small",onClick:_,children:"show today"})})]})},jc=Rt(({date:t,targetRef:n,format:o=ye,onChange:r,label:a},s)=>{const i=T(()=>O(t).isValid()?O.tz(t):O().tz(),[t]),{isMobile:l}=K(),{value:c,toggle:u,setFalse:d}=X(),h=p=>{r(p),d()},m=p=>{(p.key==="Escape"||p.key==="Enter")&&d()};return oe("click",u,n),oe("keyup",m),e(j,{children:e(ge,{open:c,buttonRef:n,placement:"bottom-right",onClose:d,title:l?a:void 0,children:e("div",{ref:s,children:e(Uc,{date:i,format:o,onChange:h})})})})}),Eo=t=>O(t).isValid()?O.tz(t).format(ye):t,Mo=({value:t="",label:n,pickerLabel:o,pickerRef:r,onChange:a,onEnter:s})=>{const i=R(null),[l,c]=A(null),[u,d]=A(Eo(t)),[h,m]=A(!1),[p,g]=A(!1),_=O(u).isValid()?"":"Invalid date format",f=C=>{d(C.currentTarget.value)},v=()=>{a(u)},y=C=>{C.key==="Enter"&&(a(u),g(!0))},b=C=>{d(C),m(!0)};return L(()=>{const C=Eo(t);C!==u&&d(C),p&&(s(),g(!1))},[t]),L(()=>{h&&l&&(l.focus(),l.setSelectionRange(11,11),m(!1))},[h]),e("div",{className:F({"vm-date-time-input":!0,"vm-date-time-input_error":_}),children:[e("label",{children:n}),e(ia,{tabIndex:1,inputRef:c,mask:"9999-99-99 99:99:99",placeholder:"YYYY-MM-DD HH:mm:ss",value:u,autoCapitalize:"none",inputMode:"numeric",maskChar:null,onChange:f,onBlur:v,onKeyUp:y}),_&&e("span",{className:"vm-date-time-input__error-text",children:_}),e("div",{className:"vm-date-time-input__icon",ref:i,children:e(D,{variant:"text",color:"gray",size:"small",startIcon:e(sr,{}),ariaLabel:"calendar"})}),e(jc,{label:o,ref:r,date:u,onChange:b,targetRef:i})]})},Yc=({onOpenSettings:t})=>{const{isMobile:n}=K(),{isDarkTheme:o}=re(),r=R(null),a=ft(),s=T(()=>a.width>1120,[a]),[i,l]=A(),[c,u]=A(),{period:{end:d,start:h},relativeTime:m,timezone:p,duration:g}=se(),_=mt(),f=Fe(),v=vn(p),{value:y,toggle:b,setFalse:C}=X(),w=T(()=>({region:p,utc:it(p)}),[p]);L(()=>{l(Nt(Ne(d)))},[p,d]),L(()=>{u(Nt(Ne(h)))},[p,h]);const k=({duration:G,until:Z,id:I})=>{_({type:"SET_RELATIVE_TIME",payload:{duration:G,until:Z,id:I}}),C()},S=T(()=>{const G=O.tz(Ne(h)).format(ye),Z=O.tz(Ne(d)).format(ye);return{start:G,end:Z}},[h,d,p]),N=T(()=>m&&m!=="none"?m.replace(/_/g," "):`${S.start} - ${S.end}`,[m,S]),x=R(null),E=R(null),M=R(null),P=()=>{c&&i&&_({type:"SET_PERIOD",payload:{from:O.tz(c).toDate(),to:O.tz(i).toDate()}}),C()},H=()=>_({type:"RUN_QUERY_TO_NOW"}),U=()=>{l(Nt(Ne(d))),u(Nt(Ne(h))),C()},Y=()=>{t&&t(),C()};return L(()=>{const G=Ln({relativeTimeId:m,defaultDuration:g,defaultEndInput:Ne(d)});v&&p!==v&&k({id:G.relativeTimeId,duration:G.duration,until:G.endInput})},[p,v]),bt(r,G=>{if(n)return;const Z=G.target,I=x?.current&&x?.current?.contains(Z),V=E?.current&&E?.current?.contains(Z);I||V||C()}),e(j,{children:[e("div",{ref:M,children:n?e("div",{className:"vm-mobile-option",onClick:b,children:[e("span",{className:"vm-mobile-option__icon",children:e(Tt,{})}),e("div",{className:"vm-mobile-option-text",children:[e("span",{className:"vm-mobile-option-text__label",children:"Time range"}),e("span",{className:"vm-mobile-option-text__value",children:N})]}),e("span",{className:"vm-mobile-option__arrow",children:e(de,{})})]}):e(q,{title:s?"Time range controls":N,children:e(D,{className:f?"":"vm-header-button",variant:"contained",color:"primary",startIcon:e(Tt,{}),onClick:b,ariaLabel:"time range controls",children:s&&e("span",{children:N})})})}),e(ge,{open:y,buttonRef:M,placement:"bottom-right",onClose:C,clickOutside:!1,title:n?"Time range controls":"",children:e("div",{className:F({"vm-time-selector":!0,"vm-time-selector_mobile":n}),ref:r,children:[e("div",{className:"vm-time-selector-left",children:[e("div",{className:F({"vm-time-selector-left-inputs":!0,"vm-time-selector-left-inputs_dark":o}),children:[e(Mo,{value:c,label:"From:",pickerLabel:"Date From",pickerRef:x,onChange:u,onEnter:P}),e(Mo,{value:i,label:"To:",pickerLabel:"Date To",pickerRef:E,onChange:l,onEnter:P})]}),e("div",{className:"vm-time-selector-left-timezone",onClick:Y,children:[e("div",{className:"vm-time-selector-left-timezone__title",children:w.region}),e("div",{className:"vm-time-selector-left-timezone__utc",children:w.utc})]}),e(D,{variant:"text",startIcon:e(ir,{}),onClick:H,children:"switch to now"}),e("div",{className:"vm-time-selector-left__controls",children:[e(D,{color:"error",variant:"outlined",onClick:U,children:"Cancel"}),e(D,{color:"primary",onClick:P,children:"Apply"})]})]}),e(zc,{relativeTime:m||"",setDuration:k})]})})]})},Gc=()=>{const t=Fe(),{isMobile:n}=K(),o=mt(),[r,a]=J(),[s,i]=le("0","accountID"),[l,c]=le("0","projectID"),u=`${s}:${l}`,d=R(null),{value:h,toggle:m,setFalse:p}=X(),g=()=>{r.set("accountID",s),r.set("projectID",l),a(r),p(),o({type:"RUN_QUERY"})},_=()=>{i(r.get("accountID")||"0"),c(r.get("projectID")||"0")};return L(()=>{h||_()},[h]),e("div",{className:"vm-tenant-input",children:[e(q,{title:"Define Tenant ID if you need request to another storage",children:e("div",{ref:d,children:n?e("div",{className:"vm-mobile-option",onClick:m,children:[e("span",{className:"vm-mobile-option__icon",children:e(Et,{})}),e("div",{className:"vm-mobile-option-text",children:[e("span",{className:"vm-mobile-option-text__label",children:"Tenant ID"}),e("span",{className:"vm-mobile-option-text__value",children:u})]}),e("span",{className:"vm-mobile-option__arrow",children:e(de,{})})]}):e(D,{className:t?"":"vm-header-button",variant:"contained",color:"primary",fullWidth:!0,startIcon:e(Et,{}),endIcon:e("div",{className:F({"vm-execution-controls-buttons__arrow":!0,"vm-execution-controls-buttons__arrow_open":h}),children:e(de,{})}),onClick:m,children:u})})}),e(ge,{open:h,placement:"bottom-right",onClose:p,buttonRef:d,title:n?"Define Tenant ID":void 0,children:e("div",{className:F({"vm-list vm-tenant-input-list":!0,"vm-list vm-tenant-input-list_mobile":n,"vm-tenant-input-list_inline":!0}),children:[e(Ae,{autofocus:!0,label:"accountID",value:s,onChange:i,type:"number"}),e(Ae,{autofocus:!0,label:"projectID",value:l,onChange:c,type:"number"}),e("div",{className:"vm-tenant-input-list__buttons",children:[e(q,{title:"Multitenancy in VictoriaLogs documentation",children:e("a",{href:"https://docs.victoriametrics.com/victorialogs/#multitenancy",target:"_blank",rel:"help noreferrer",children:e(D,{variant:"text",color:"gray",startIcon:e(Bt,{})})})}),e(D,{variant:"contained",color:"primary",onClick:g,children:"Apply"})]})]})})]})},an=[{seconds:0,title:"Off"},{seconds:1,title:"1s"},{seconds:2,title:"2s"},{seconds:5,title:"5s"},{seconds:10,title:"10s"},{seconds:30,title:"30s"},{seconds:60,title:"1m"},{seconds:300,title:"5m"},{seconds:900,title:"15m"},{seconds:1800,title:"30m"},{seconds:3600,title:"1h"},{seconds:7200,title:"2h"}],Wc=()=>{const{isMobile:t}=K(),n=mt(),o=Fe(),[r,a]=A(!1),[s,i]=A(an[0]),{value:l,toggle:c,setFalse:u}=X(),d=R(null),h=g=>{(r&&!g.seconds||!r&&g.seconds)&&a(_=>!_),i(g),u()},m=()=>{n({type:"RUN_QUERY"})};L(()=>{const g=s.seconds;let _;return r?_=setInterval(()=>{n({type:"RUN_QUERY"})},g*1e3):i(an[0]),()=>{_&&clearInterval(_)}},[s,r]);const p=g=>()=>{h(g)};return e(j,{children:[e("div",{className:"vm-execution-controls",children:e("div",{className:F({"vm-execution-controls-buttons":!0,"vm-execution-controls-buttons_mobile":t,"vm-header-button":!o}),children:[!t&&e(q,{title:"Refresh dashboard",children:e(D,{variant:"contained",color:"primary",onClick:m,startIcon:e(Rn,{}),ariaLabel:"refresh dashboard"})}),t?e("div",{className:"vm-mobile-option",onClick:c,children:[e("span",{className:"vm-mobile-option__icon",children:e(st,{})}),e("div",{className:"vm-mobile-option-text",children:[e("span",{className:"vm-mobile-option-text__label",children:"Auto-refresh"}),e("span",{className:"vm-mobile-option-text__value",children:s.title})]}),e("span",{className:"vm-mobile-option__arrow",children:e(de,{})})]}):e(q,{title:"Auto-refresh control",children:e("div",{ref:d,children:e(D,{variant:"contained",color:"primary",fullWidth:!0,endIcon:e("div",{className:F({"vm-execution-controls-buttons__arrow":!0,"vm-execution-controls-buttons__arrow_open":l}),children:e(de,{})}),onClick:c,children:s.title})})})]})}),e(ge,{open:l,placement:"bottom-right",onClose:u,buttonRef:d,title:t?"Auto-refresh duration":void 0,children:e("div",{className:F({"vm-execution-controls-list":!0,"vm-execution-controls-list_mobile":t}),children:an.map(g=>e("div",{className:F({"vm-list-item":!0,"vm-list-item_mobile":t,"vm-list-item_active":g.seconds===s.seconds}),onClick:p(g),children:g.title},g.seconds))})})]})},Qc=({isMobile:t,headerSetup:n})=>{const o=R(null);return e("div",{className:F({"vm-header-controls":!0,"vm-header-controls_mobile":t}),children:[n?.tenant&&e(Gc,{}),n?.timeSelector&&e(Yc,{onOpenSettings:o?.current?.open}),n?.executionControls&&e(Wc,{}),e(Dc,{ref:o})]})},Kc=()=>{const t=Fe(),{isMobile:n}=K(),{pathname:o}=$e();return L(()=>{const s=Object.entries(ct).find(([l])=>qo(l,o))?.[1]?.title,i="UI for VictoriaLogs";document.title=s?`${s} - ${i}`:i},[o]),e("section",{className:"vm-container",children:[e(xc,{controlsComponent:Qc}),e("div",{className:F({"vm-container-body":!0,"vm-container-body_mobile":n,"vm-container-body_app":t}),children:e(la,{})}),!t&&e(Tc,{links:Yr})]})},yn=({filter:t,isFocusable:n,onRemove:o})=>e("div",{className:F({"vm-filters-bar-item":!0,"vm-filters-bar-item_focusable":n}),children:[t.field," ",t.operator," ",t.value,e("div",{className:"vm-filters-bar-item-actions",onClick:r=>r.stopPropagation(),children:e(D,{size:"small",color:"gray",variant:"text",startIcon:e(Be,{}),onClick:o})})]}),Zc=()=>{const{extraFilters:t,removeFilter:n,clearFilters:o}=Te();return t.length?e("div",{className:"vm-filters-bar vm-block",children:[e("div",{className:"vm-filters-bar-title",children:e("h2",{className:"vm-title",children:"Global filters:"})}),t.map((r,a)=>e(yn,{filter:r,onRemove:()=>n(a)},`${r.field}_${r.value}_${a}`)),!!t.length&&e("div",{className:"vm-filters-bar__actions",children:e(D,{variant:"text",color:"error",size:"small",onClick:o,startIcon:e(ht,{}),children:"Clear global filters"})})]}):null};var Gr=(t=>(t.Field="field",t.FieldValue="field_value",t.StreamField="stream_field",t.StreamFieldValue="stream_field_value",t))(Gr||{});const Wr=t=>{const[n,o]=J(),r=n.get(t)||"",a=z(s=>{o(i=>{const l=new URLSearchParams(i),c=i.get(t);return s&&s!==c?l.set(t,s):l.delete(t),l})},[o,t]);return{value:r,setValue:a}},Qr=t=>{const[n,o]=J(),r=n.getAll(t),a=z(i=>{o(l=>{const c=new URLSearchParams(l),u=new Set(l.getAll(t));u.has(i)?u.delete(i):i&&u.add(i),c.delete(t);for(const d of u)c.append(t,d);return c})},[o,t]),s=z(()=>{o(i=>{const l=new URLSearchParams(i);return l.delete(t),l})},[o,t]);return{value:r,toggleValue:a,clear:s}},Ct=()=>{const{value:t,setValue:n}=Wr("field"),{value:o,toggleValue:r,clear:a}=Qr("field_value"),s=R(!0);return L(()=>{if(s.current){s.current=!1;return}a()},[t]),{fieldFilter:t,setFieldFilter:n,fieldValueFilters:o,toggleFieldValueFilter:r}},kt=()=>{const{value:t,setValue:n}=Wr("stream_field"),{value:o,toggleValue:r,clear:a}=Qr("stream_field_value"),s=R(!0);return L(()=>{if(s.current){s.current=!1;return}a()},[t]),{streamFieldFilter:t,setStreamFieldFilter:n,streamFieldValueFilters:o,toggleStreamFieldValueFilter:r}},Jc=()=>{const[,t]=J(),{extraFilters:n,upsertFilters:o}=Te(),{fieldFilter:r,fieldValueFilters:a,setFieldFilter:s,toggleFieldValueFilter:i}=Ct(),{streamFieldFilter:l,streamFieldValueFilters:c,setStreamFieldFilter:u,toggleStreamFieldValueFilter:d}=kt(),h=a.length?a:["*"],m=c.length?c:["*"],[p,g]=A(!1),_=b=>()=>{b==="*"?s():i(b)},f=b=>()=>{b==="*"?u():d(b)},v=()=>{t(b=>{const C=new URLSearchParams(b);return Object.values(Gr).forEach(w=>C.delete(w)),C})},y=b=>()=>{const C=b?Q.Equals:Q.NotEquals,w=r?h.map(N=>({field:r,value:N,operator:C})):[],k=l?m.map(N=>({field:l,value:N,operator:C})):[],S=w.concat(k);o(S),g(!0)};return L(()=>{p&&(v(),g(!1))},[n]),!r&&!l?null:e("div",{className:"vm-filters-bar vm-filters-bar_preview",children:[e("div",{className:"vm-filters-bar-title",children:e("h2",{className:"vm-title",children:"Preview filters:"})}),r&&h.map(b=>e(q,{title:"Focus: preview logs only. Doesn’t change Global filters.",children:e(yn,{isFocusable:!0,filter:{field:r,value:b,operator:Q.Equals},onRemove:_(b)},b)},b)),l&&m.map(b=>e(q,{title:"Stream focus: preview logs only. Doesn’t change Global filters.",children:e(yn,{isFocusable:!0,filter:{field:l,value:b,operator:Q.Equals},onRemove:f(b)},b)},b)),e("div",{className:"vm-filters-bar__actions",children:[e(D,{variant:"outlined",color:"primary",onClick:y(!0),startIcon:e(qe,{}),children:"Include all"}),e(D,{variant:"outlined",color:"primary",onClick:y(!1),startIcon:e(Ue,{}),children:"Exclude all"}),e(D,{variant:"outlined",color:"error",onClick:v,startIcon:e(ht,{}),children:"Clear filters"})]}),e("div",{className:"vm-filters-bar__info",children:["These filters affect preview logs only. To apply them to Totals, Hits, and Fields/Streams, use ",e("b",{children:"Include All"})," or ",e("b",{children:"Exclude All"}),"."]})]})},sn=t=>t.toLocaleString("en-US"),Kr=[{title:"Total logs",description:"Total number of selected logs on the selected time range",alias:"totalLogs",stats:"count()",formatter:sn},{title:"Logs/sec (avg)",description:"Average logs per second on the selected time range",alias:"logsPerSec",stats:"rate()",formatter:sn},{title:"Unique log streams",description:"The number of log streams on the selected time range",alias:"uniqueStreams",stats:"count_uniq(_stream_id)",formatter:t=>`${sn(t)}`}].map(t=>({...t,statsExpr:`${t.stats} as ${t.alias}`,description:t.description+`
\`* | ${t.stats}\``})),Xc=Kr.map(t=>t.statsExpr),ed=`* | ${Xc.join(", ")}`,td=()=>{const{period:t}=se(),{extraParams:n}=Te(),[o,r]=A(),[a,s]=A(),[i,l]=A(),{isLoading:c,error:u,fetchLogs:d,abortController:h}=je(ed,1);return L(()=>{h.abort(),r(void 0),s(void 0);async function m(){try{const p=qa(t),[g,_]=await Promise.all([d({period:t,extraParams:n}),d({period:p,extraParams:n})]),[f]=g||[],[v]=_||[];r(f),s(v),l({curr:t,prev:p})}catch(p){console.error(p)}}return m(),()=>h.abort()},[t,n.toString()]),{totals:o,totalsPrev:a,periods:i,isLoading:c,error:u}},nd=({title:t,value:n,valuePrev:o,description:r,formatter:a,isLoading:s,periods:i})=>{const{curr:l,delta:c,deltaPct:u}=T(()=>{const h=Number(n??0),m=o===void 0?NaN:Number(o),p=!Number.isNaN(m),g=p?h-m:NaN,_=p&&m!==0?g/m:NaN;return{curr:h,deltaPct:Math.abs(_),delta:g}},[n,o]),d=T(()=>{if(!i?.prev)return"";const{start:h,end:m}=i.prev,p=O(h*1e3).tz().format(ye),g=O(m*1e3).tz().format(ye);return`${p} — ${g}`},[i]);return e("div",{className:"vm-total-card vm-block",children:[s&&e(Xe,{}),e("div",{className:"vm-total-card-header",children:[e("h3",{className:"vm-total-card__title vm-title",children:t}),e(q,{title:e("div",{className:"vm-total-card-info__text",children:r}),placement:"bottom-right",children:e("div",{className:"vm-total-card-info__icon",children:e(Ht,{})})})]}),e("div",{className:"vm-total-card-body",children:[e("div",{className:"vm-total-card__value",children:a?a(l):l}),!isNaN(u)&&!!u&&e(q,{title:e("div",{children:[e("p",{children:"Change compared to the previous time range:"}),!!d&&e("p",{children:d})]}),children:e("div",{className:F({"vm-dynamic-number vm-total-card__delta":!0,"vm-dynamic-number_positive vm-dynamic-number_down":c<0,"vm-dynamic-number_negative vm-dynamic-number_up":c>0}),children:[(u*100).toFixed(2),"%"]})})]})]})},od=()=>{const{totals:t,totalsPrev:n,isLoading:o,error:r,periods:a}=td(),s=On();return L(()=>{s({type:"SET_TOTAL_LOGS",payload:Number(t?.totalLogs||0)})},[t]),e("div",{className:"vm-total-section",children:[Kr.map(i=>ca(nd,{...i,key:i.title,periods:a,isLoading:o,value:t?.[i.alias],valuePrev:n?.[i.alias]})),r&&e(he,{variant:"error",children:r})]})},rd=()=>{const[t]=J(),{period:n}=se(),o="*",{topHits:r,groupFieldHits:a}=wt(),{extraParams:s,addNewFilter:i}=Te(),{fetchLogHits:l,...c}=qr(),u=T(()=>!!t.get("hide_chart"),[t]);return L(()=>{u||l({period:n,extraParams:s,query:o,field:a,fieldsLimit:r})},[u,n,s.toString(),r,a]),e("div",{children:e(Br,{...c,query:o,period:n,onApplyFilter:i})})},ad=({title:t,rowsPerPage:n,enableSearch:o,onToggleShowSearch:r,onChangeRowsPerPage:a,headerControls:s})=>e("div",{className:"vm-top-fields-header",children:[e("h2",{className:"vm-title vm-top-fields-header__title",children:t}),e("div",{className:"vm-top-fields-header__configs",children:[o&&e(D,{startIcon:e(qn,{}),variant:"text",size:"small",onClick:r,children:"Search"}),s,e(Ce,{limit:n,onChange:a})]})]}),sd=({rows:t,columns:n,isLoading:o,error:r,rowsPerPage:a,isEmptyList:s,emptyListText:i,onClickRow:l,detectActiveRow:c,actionsRender:u})=>{const d=R(null),[h,m]=A(1),p=T(()=>{const _=(h-1)*a,f=_+a;return{startIndex:_,endIndex:f}},[h,a]),g=_=>{if(m(_),d.current){const f=d.current.getBoundingClientRect().top+window.scrollY-50;f<window.scrollY&&window.scrollTo({top:f})}};return L(()=>{m(1)},[t,a]),e("div",{className:"vm-top-fields-body",children:[o&&e(Xe,{}),r&&e(he,{variant:"error",children:r}),s&&e("div",{className:"vm-empty vm-top-fields-body__empty",children:i||"The list is empty."}),!s&&!o&&e(j,{children:[e("div",{className:"vm-top-fields-body__table",ref:d,children:e(Pr,{rows:t,columns:n,defaultOrderBy:"hits",defaultOrderDir:"desc",isActiveRow:c,onClickRow:l,paginationOffset:p,actionsRender:u})}),e(Yn,{currentPage:h,totalItems:t.length,itemsPerPage:a,onPageChange:g})]})]})},Qn=({title:t,rows:n,enableSearch:o,headerControls:r,...a})=>{const[s,i]=A(10),{value:l,toggle:c}=X(),[u,d]=A(""),h=T(()=>u?n.filter(({value:m})=>m.includes(u)):n,[u,n]);return e("div",{className:"vm-top-fields",children:[e(ad,{title:t,rowsPerPage:s,onChangeRowsPerPage:i,enableSearch:o,headerControls:r,onToggleShowSearch:c}),l&&e("div",{className:"vm-top-fields__search",children:e(Ae,{autofocus:!0,label:"Search",value:u,onChange:d,endIcon:e(q,{title:"Filters rows in the current table only. Does not send queries to the server.",children:e(Bt,{})})})}),e(sd,{...a,rows:h,rowsPerPage:s})]})},Yt=t=>({title:t,className:"vm-top-fields__cell-name",key:"value"}),Gt=()=>({title:"Hits",isNum:!0,className:"vm-top-fields__cell-value",key:"hits",render:t=>Number(t.hits).toLocaleString("en-US")}),Wt=t=>({title:t,isNum:!0,className:"vm-top-fields__cell-percent",key:"percent",render:n=>`${(n.percent??0).toFixed(2)}%`}),id=[Yt("Field name"),Gt(),Wt("Coverage %")],ld=[Yt("Field value"),Gt(),Wt("% of logs")],cd=[Yt("Stream field name"),Gt(),Wt("Coverage %")],dd=[Yt("Stream field value"),Gt(),Wt("% of logs")],Kn=({sections:t})=>{const{value:n,toggle:o,setFalse:r}=X(),a=R(null);return e(j,{children:[e("div",{className:"vm-top-row-menu-button",ref:a,children:e(D,{size:"small",color:"gray",variant:"text",startIcon:e($n,{}),onClick:i=>{i.stopPropagation(),o()}})}),e(ge,{open:n,placement:"bottom-right",onClose:r,buttonRef:a,children:e("div",{className:"vm-top-row-menu",children:t.map((i,l)=>e("div",{className:"vm-top-row-menu-section",children:i.map(({icon:c,label:u,shortcut:d,onClick:h})=>e("div",{className:"vm-top-row-menu-item",onClick:m=>{r(),h(m)},children:[e("div",{className:"vm-top-row-menu-item__icon",children:c}),e("div",{className:"vm-top-row-menu-item__label",children:u}),d&&e("div",{className:"vm-top-row-menu-item__shortcut",children:d})]},u))},l))})})]})},ud=()=>{const{period:{start:t,end:n}}=se(),{fetchFieldNames:o,fieldNames:r,loading:a,error:s}=Vr(),{extraParams:i,addNewFilter:l}=Te(),{fieldFilter:c,setFieldFilter:u}=Ct(),{totalLogs:d}=Je(),h=ue(),m=T(()=>r.map(w=>{const k=d>0?w.hits/d*100:0;return{...w,percent:k}}),[r,d]),p=!a&&!s&&r.length===0,g=w=>{l({field:w.value,value:"*",operator:Q.NotEquals})},_=w=>{l({field:w.value,value:"*",operator:Q.Equals})},f=w=>{u(w.value)},v=async w=>{const k=w.value;await h(k,`\`${k}\` has been copied`)},y=(w,k)=>{const{ctrlKey:S,metaKey:N,altKey:x}=k;S||N?g(w):x?_(w):f(w)},b=w=>w.value===c;return L(()=>{o({start:t,end:n,extraParams:i})},[t,n,i.toString(),o]),e(Qn,{enableSearch:!0,title:"Field names",rows:m,columns:id,isLoading:a,error:s,isEmptyList:p,emptyListText:"No field names found",onClickRow:y,detectActiveRow:b,actionsRender:w=>{const k=[[{label:c===w.value?"Unfocus":"Focus",icon:c===w.value?e(_t,{}):e(gt,{}),shortcut:"Click",onClick:()=>f(w)}],[{label:"Include",icon:e(qe,{}),shortcut:(Me()?"Option":"Alt")+" + Click",onClick:()=>_(w)},{label:"Exclude",icon:e(Ue,{}),shortcut:(Me()?"Cmd":"Ctrl")+" + Click",onClick:()=>g(w)}],[{label:"Copy",icon:e(pe,{}),onClick:()=>v(w)}]];return e(Kn,{sections:k})}})},md=(t,n,o)=>{const r=`${t}:*`;return n==="top"?`${r} | top ${o} by (${t})`:[r,`| stats by (${t}) count() as hits`,`| sort by (hits asc, ${t})`,`| limit ${o}`].filter(Boolean).join(" ")},wn={top:{title:"Top N",description:"Most common values (highest hit counts)"},bottom:{title:"Bottom N",description:"Least common values (fewest hit counts)"}},Fo=Object.keys(wn),Po=({scope:t})=>{const{period:n}=se(),{logs:o,isLoading:r,error:a,fetchLogs:s,abortController:i}=je(),{extraParams:l,addNewFilter:c}=Te(),{fieldFilter:u,fieldValueFilters:d,toggleFieldValueFilter:h}=Ct(),{streamFieldFilter:m,streamFieldValueFilters:p,toggleStreamFieldValueFilter:g}=kt(),{totalLogs:_}=Je(),f=ue(),v=t==="field"?u:m,y=t==="field"?d:p,b=t==="field"?h:g,[C,w]=A(Fo[0]),[k,S]=A(10),N=T(()=>o.map(I=>{const V=Number(I.hits)||0;return{hits:V,value:I[v],percent:_>0?V/_*100:0}}),[v,o,_]),x=!r&&!a&&N.length===0||!v,E=v?"No values found":`Select ${t==="field"?"field":"stream field"} name to see values`,M=(I,V)=>{c({field:v,value:I.value,operator:V})},P=I=>{b(I.value)},H=async I=>{const V=`${v}:${I.value}`;await f(V,`\`${V}\` has been copied`)},U=(I,V)=>{const{ctrlKey:B,metaKey:$,altKey:ee}=V;B||$?M(I,Q.NotEquals):ee?M(I,Q.Equals):P(I)},Y=I=>y.includes(I.value);L(()=>{if(!v)return;const I=md(v,C,k);return s({period:n,extraParams:l,limit:k,query:I}),()=>i.abort()},[n,l.toString(),v,k,C]);const G=I=>{const V=[[{label:y.includes(I.value)?"Unfocus":"Focus",icon:y.includes(I.value)?e(_t,{}):e(gt,{}),shortcut:"Click",onClick:()=>P(I)}],[{label:"Include",icon:e(qe,{}),shortcut:(Me()?"Option":"Alt")+" + Click",onClick:()=>M(I,Q.Equals)},{label:"Exclude",icon:e(Ue,{}),shortcut:`${Me()?"Cmd":"Ctrl"} + Click`,onClick:()=>M(I,Q.NotEquals)}],[{label:"Copy",icon:e(pe,{}),onClick:()=>H(I)}]];return e(Kn,{sections:V})},Z=e(j,{children:[e(Ce,{label:"Mode",limit:C,options:Fo,onChange:I=>w(I),renderOptionLabel:(I,V)=>V?e("span",{className:"vm-top-fields-option__label",children:I}):e("div",{className:"vm-top-fields-option",children:[e("span",{className:"vm-top-fields-option__label",children:I}),e("span",{className:"vm-top-fields-option__info",children:wn[I].description})]})}),e(Ce,{label:wn[C].title,limit:k,onChange:S})]});return e(Qn,{enableSearch:!0,title:e(j,{children:["Field values: ",e("b",{children:["`",v,"`"]})]}),rows:N,columns:t==="field"?ld:dd,isLoading:r,error:a,isEmptyList:x,emptyListText:E,onClickRow:U,headerControls:Z,actionsRender:G,detectActiveRow:Y})},hd=()=>{const{serverUrl:t}=re(),{streamsFieldNames:n,streamsFieldNamesParamsKey:o}=Je(),r=On(),a=et(),[s,i]=A([]),[l,c]=A(!1),[u,d]=A(""),h=z(async m=>{c(!0),d("");try{const p=new URLSearchParams({start:m.start.toString(),end:m.end.toString(),query:m.query||"*"}),g=new URLSearchParams([...p,...m.extraParams??[]]),_={...a},f=g.toString(),v=f+JSON.stringify(a);if(o===v){i(n),c(!1);return}const y=`${t}/select/logsql/stream_field_names?${f}`,b=await fetch(y,{headers:_});if(!b.ok){const w=await b.text(),k=`${b.status} ${b.statusText}: ${w}`;console.error(k),d(k);return}const C=await b.json();i(C.values),r({type:"SET_STREAM_FIELD_NAMES",payload:{rows:C.values,key:v}})}catch(p){console.error(p),d(p)}finally{c(!1)}},[t,a,o,n]);return{streamFieldNames:s,loading:l,error:u,fetchStreamFieldNames:h}},pd=()=>{const{period:{start:t,end:n}}=se(),{fetchStreamFieldNames:o,streamFieldNames:r,loading:a,error:s}=hd(),{extraParams:i,addNewFilter:l}=Te(),{streamFieldFilter:c,setStreamFieldFilter:u}=kt(),{totalLogs:d}=Je(),h=ue(),m=T(()=>r.map(w=>{const k=d>0?w.hits/d*100:0;return{...w,percent:k}}),[r,d]),p=!a&&!s&&r.length===0,g=w=>{l({field:w.value,value:"*",operator:Q.NotEquals})},_=w=>{l({field:w.value,value:"*",operator:Q.Equals})},f=w=>{u(w.value)},v=async w=>{const k=w.value;await h(k,`\`${k}\` has been copied`)},y=(w,k)=>{const{ctrlKey:S,metaKey:N,altKey:x}=k;S||N?g(w):x?_(w):f(w)},b=w=>w.value===c;return L(()=>{o({start:t,end:n,extraParams:i})},[t,n,i.toString(),o]),e(Qn,{enableSearch:!0,title:"Stream field names",rows:m,columns:cd,isLoading:a,error:s,isEmptyList:p,emptyListText:"No field names found",onClickRow:y,detectActiveRow:b,actionsRender:w=>{const k=[[{label:c===w.value?"Unfocus":"Focus",icon:c===w.value?e(_t,{}):e(gt,{}),shortcut:"Click",onClick:()=>f(w)}],[{label:"Include",icon:e(qe,{}),shortcut:(Me()?"Option":"Alt")+" + Click",onClick:()=>_(w)},{label:"Exclude",icon:e(Ue,{}),shortcut:(Me()?"Cmd":"Ctrl")+" + Click",onClick:()=>g(w)}],[{label:"Copy",icon:e(pe,{}),onClick:()=>v(w)}]];return e(Kn,{sections:k})}})},Io=t=>t.toLocaleString("en-US"),Oo=t=>t==null?"-":t>=1?t.toFixed(1)+"%":t>=.01?t.toFixed(2)+"%":"<0.01%",gd=[{key:"distinct",title:"Distinct",description:({field:t})=>`Number of unique values of \`${t}\`.
Shows value variety (cardinality).
\`${t}:* | stats count_uniq(${t})\`.`,format:t=>Io(t||0)},{key:"ratio",title:"Distinct ratio",description:({field:t})=>`Share of unique values of \`${t}\`.
Helps spot high-cardinality fields.
\`distinct / coverage × 100\``,format:t=>Oo(t)},{key:"coverage",title:"Coverage",description:({field:t})=>`Total logs containing \`${t}\`.
Shows how often the field appears.
\`${t}:* | stats count()\`.`,format:t=>Io(t||0)},{key:"coverageOfTotal",title:"Coverage %",description:({field:t})=>`Percent of all logs with \`${t}\`.
Useful to compare across datasets.
\`coverage / total × 100\``,format:t=>Oo(t)}],Ro=({scope:t})=>{const{totalLogs:n,fieldNames:o,streamsFieldNames:r}=Je(),{fieldFilter:a}=Ct(),{streamFieldFilter:s}=kt(),i=t==="field"?a:s,l=t==="field"?o:r,{period:c}=se(),{logs:u,isLoading:d,error:h,fetchLogs:m,abortController:p}=je(),{extraParams:g}=Te(),f=l.find(y=>y.value===i)?.hits||0,v=T(()=>{const y=u?.[0],b=Number(y?.distinct??0),C=f>0?b/f*100:null,w=n>0?f/n*100:null;return{distinct:b,coverage:f,ratio:C,coverageOfTotal:w}},[u,n,i,f]);return L(()=>{if(!i)return;const y=`${i}:* | stats count_uniq(${i}) as distinct`;return m({period:c,extraParams:g,query:y}),()=>p.abort()},[c,g.toString(),i,t]),i?e("div",{className:"vm-cardinality-card",children:[d&&e(Xe,{}),h&&e(he,{variant:"error",children:h}),e("div",{className:"vm-top-fields-header",children:[e("h2",{className:"vm-title vm-top-fields-header__title",children:[t==="stream"?"Stream field":"Field"," cardinality: ",e("b",{children:["`",i,"`"]})]}),e("div",{className:"vm-top-fields-header__configs"})]}),e("div",{className:"vm-cardinality-card-body",children:gd.map(y=>e(q,{title:e("div",{className:"vm-cardinality-card-body-item__description",children:y.description({field:i})}),placement:"bottom-right",children:e("div",{className:"vm-cardinality-card-body-item",children:[e("span",{className:"vm-cardinality-card-body-item__title",children:y.title}),e("span",{className:"vm-cardinality-card-body-item__value",children:y.format(v[y.key])})]})},y.key))})]}):null},_d=()=>e("a",{href:"https://docs.victoriametrics.com/victorialogs/querying/#querying-field-names",target:"_blank",rel:"noopener noreferrer",children:"Querying field names"}),fd=()=>e("a",{href:"https://docs.victoriametrics.com/victorialogs/querying/#querying-stream-field-names",target:"_blank",rel:"noopener noreferrer",children:"Querying stream field names"}),vd=()=>e("div",{className:"vm-overview-fields-tour-content vm-markdown",children:[e("p",{children:["This view helps you spot ",e("strong",{children:"noisy"})," and ",e("strong",{children:"rare"})," fields/streams and their",e("strong",{children:" values"}),", and quickly filter the rest."]}),e("hr",{}),e("h2",{children:"Names table"}),e("p",{children:["Shows field or stream ",e("strong",{children:"names"})," and the number of logs per name.",e("br",{}),"Docs: ",e(_d,{})," and ",e(fd,{})]}),e("h3",{children:"Columns"}),e("ul",{children:[e("li",{children:[e("strong",{children:"Hits"})," — number of logs that contain this name (API result)."]}),e("li",{children:[e("strong",{children:"Coverage %"})," — percentage of all logs: ",e("code",{children:"hits / total × 100"}),"."]})]}),e("h3",{children:"Click behavior"}),e("ul",{children:[e("li",{children:"Click a row → selects the name and focuses it (adds a blue filter badge)."}),e("li",{children:[e("strong",{children:"Ctrl/Cmd + Click"})," → applies ",e("strong",{children:"Exclude"})," immediately."]}),e("li",{children:["See ",e("strong",{children:"Row actions"})," for more options."]})]}),e("hr",{}),e("h2",{children:"Values table"}),e("p",{children:["Shows ",e("strong",{children:"Top/Bottom N"})," ",e("strong",{children:"values"})," for the selected name and the number of logs per value."]}),e("h3",{children:"Selectors"}),e("ul",{children:[e("li",{children:[e("strong",{children:"Mode"})," — ",e("code",{children:"Top"})," or ",e("code",{children:"Bottom"}),"."]}),e("li",{children:[e("strong",{children:"Top N"})," — how many values to fetch. These controls directly change the query and results."]})]}),e("h3",{children:"Columns"}),e("ul",{children:[e("li",{children:[e("strong",{children:"Hits"})," — count for the specific value."]}),e("li",{children:[e("strong",{children:"% of logs"})," — percentage of all logs: ",e("code",{children:"hits / total × 100"}),"."]})]}),e("h3",{children:"Click behavior"}),e("ul",{children:[e("li",{children:"Click a row → focuses the value (adds a blue filter badge)."}),e("li",{children:[e("strong",{children:"Ctrl/Cmd + Click"})," → applies ",e("strong",{children:"Exclude"})," immediately."]}),e("li",{children:["See ",e("strong",{children:"Row actions"}),"."]})]}),e("hr",{}),e("h2",{id:"row-actions",children:"Row actions"}),e("ul",{children:[e("li",{children:[e("strong",{children:"Focus"})," — adds a ",e("strong",{children:"blue filter badge"})," and updates ",e("strong",{children:"Preview logs"}),". Does ",e("strong",{children:"not"})," change global filters."]}),e("li",{children:[e("strong",{children:"Include"})," — adds a ",e("strong",{children:"global include filter"})," (gray badge) for the selected item."]}),e("li",{children:[e("strong",{children:"Exclude"})," — adds a ",e("strong",{children:"global exclude filter"})," (gray badge) for the selected item."]}),e("li",{children:[e("strong",{children:"Copy"})," — copies the selected ",e("strong",{children:"name"})," (from ",e("em",{children:"Names"}),") or the",e("strong",{children:" name–value"})," pair (from ",e("em",{children:"Values"}),")."]})]}),e("p",{children:[e("strong",{children:"Note:"})," ",e("strong",{children:"Include/Exclude"})," appear as ",e("strong",{children:"gray badges"})," in",e("strong",{children:" Global filters"})," and affect ",e("strong",{children:"all queries on this page"})," until removed."]}),e("hr",{}),e("p",{children:e("em",{children:["* Search and sorting are local (client-side) in both ",e("strong",{children:"Names"})," and ",e("strong",{children:"Values"})," tables."]})})]}),bd=()=>{const{value:t,setTrue:n,setFalse:o}=X();return e(j,{children:[e(D,{startIcon:e(Bt,{}),variant:"text",onClick:n,children:"How it works"}),t&&e(Le,{title:"Fields & Streams Overview",onClose:o,children:e("div",{className:"vm-overview-fields-tour",children:e(vd,{})})})]})},ln=[{label:"Fields",value:"fields",component:e("div",{className:"vm-top-fields-row",children:[e(ud,{}),e("div",{children:[e(Ro,{scope:"field"}),e(Po,{scope:"field"})]})]})},{label:"Streams",value:"streams",component:e("div",{className:"vm-top-fields-row",children:[e(pd,{}),e("div",{children:[e(Ro,{scope:"stream"}),e(Po,{scope:"stream"})]})]})}],yd=()=>{const[t,n]=A(ln[0].value);return e("div",{className:"vm-explorer-page-panel vm-block",children:[e("div",{className:"vm-section-header vm-explorer-page-panel-header",children:[e("div",{className:"vm-section-header__tabs",children:e(jn,{activeItem:t,items:ln,onChange:n})}),e("div",{children:e(bd,{})})]}),ln.map(o=>e("div",{className:F({"vm-explorer-page-panel-content":!0,"vm-explorer-page-panel-content_active":o.value===t}),children:o.component},o.value))]})},Do=Q.Equals,zo=(t,n)=>{const o=n.map(r=>`"${$r(r)}"`);return`${t}:in(
${o.join(`,
`)}
)`},wd=()=>{const[t]=J(),{period:n,relativeTime:o,duration:r}=se(),{logs:a,isLoading:s,error:i,fetchLogs:l,abortController:c}=je(),{extraParams:u}=Te(),{fieldFilter:d,fieldValueFilters:h}=Ct(),{streamFieldFilter:m,streamFieldValueFilters:p}=kt(),g=ue(),[_,f]=A(!1),[v,y]=A(10),b=T(()=>!!t.get("hide_logs"),[t]),C=T(()=>{const S=[];if(m&&p.length){const M=zo(m,p);S.push(M)}else if(m){const M=Pt({field:m,value:"*",operator:Do});S.push(M)}if(d&&h.length){const M=zo(d,h);S.push(M)}else if(d){const M=Pt({field:d,value:"*",operator:Do});S.push(M)}const N=u.getAll("extra_filters"),x=u.getAll("extra_stream_filters"),E=N.concat(x);return E.length&&S.push(...E),S.length?S.join(`
`):"*"},[n,d,h,m,p,u]),w=T(()=>{const S=new URLSearchParams({query:C,"g0.range_input":r,"g0.end_input":n.date,"g0.relative_time":o||"none"});return`${ce.home}?${S.toString()}`},[C,r,o]),k=async()=>{await g(C,"Query has been copied"),f(!0)};return L(()=>{c.abort(),!b&&l({query:C,period:n,limit:v})},[C,v,b]),L(()=>{if(_===null)return;const S=setTimeout(()=>f(!1),2e3);return()=>clearTimeout(S)},[_]),e("div",{className:"vm-overview-logs vm-block",children:[e("div",{className:"vm-overview-logs-header",children:[e("span",{className:"vm-title",children:"Query:"}),e("div",{className:"vm-overview-logs-query",children:e("p",{className:"vm-overview-logs-query__expr",children:C})}),e("div",{className:"vm-overview-logs-header__actions",children:[e(Ce,{label:"Limit",limit:v,onChange:y}),e(D,{size:"small",variant:"text",startIcon:_?e(pt,{}):e(pe,{}),onClick:k,children:_?"Copied":"Copy query"}),e($o,{to:w,target:"_blank",rel:"noreferrer",children:e(D,{size:"small",variant:"text",startIcon:e(Un,{}),children:"Open query"})})]})]}),e("div",{children:[i&&e(he,{variant:"error",children:i}),!i&&e(Rr,{isPreview:!0,data:a,isLoading:s})]})]})},Cd=()=>{const{duration:t,relativeTime:n,period:o}=se(),{setSearchParamsFromKeys:r}=vt();return L(()=>{r({"g0.range_input":t,"g0.end_input":o.date,"g0.relative_time":n||"none"})},[t,o.date,n]),e("div",{className:"vm-explorer-page",children:[e(Zc,{}),e(od,{}),e(rd,{}),e(yd,{}),e(Jc,{}),e(wd,{})]})},kd=()=>{const{_stream_id:t,_time:n}=da(),[o]=J(),r=o.get(ne.DISPLAY_FIELDS)||We,a=T(()=>r.split(","),[r]);return!t||!n?e("div",{children:"Error: Missing stream ID or time."}):e("div",{className:"vm-stream-context-page",children:e(Mr,{log:{_stream_id:t,_time:n,_msg:"",_stream:""},displayFields:a})})};function Nd(t){const{emojis:n}=t;if(!n)throw new Error("Must provide emojis to markedEmoji");const o=Object.keys(n).map(s=>s.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")).join("|");if(o.length===0)throw new Error("Emoji list is empty; provide at least one emoji.");const r=new RegExp(`:(${o}):`),a=new RegExp(`^${r.source}`);return{extensions:[{name:"emoji",level:"inline",start(s){return s.match(r)?.index},tokenizer(s){const i=a.exec(s);if(!i)return;const l=i[1],c=n[l];if(c)return{type:"emoji",raw:i[0],name:l,emoji:c}},renderer(s){return t.renderer(s)}}]}}const Sd={100:"💯",1234:"🔢",grinning:"😀",smiley:"😃",smile:"😄",grin:"😁",laughing:"😆",satisfied:"😆",sweat_smile:"😅",rofl:"🤣",joy:"😂",slightly_smiling_face:"🙂",upside_down_face:"🙃",melting_face:"🫠",wink:"😉",blush:"😊",innocent:"😇",smiling_face_with_three_hearts:"🥰",heart_eyes:"😍",star_struck:"🤩",kissing_heart:"😘",kissing:"😗",relaxed:"☺️",kissing_closed_eyes:"😚",kissing_smiling_eyes:"😙",smiling_face_with_tear:"🥲",yum:"😋",stuck_out_tongue:"😛",stuck_out_tongue_winking_eye:"😜",zany_face:"🤪",stuck_out_tongue_closed_eyes:"😝",money_mouth_face:"🤑",hugs:"🤗",hand_over_mouth:"🤭",face_with_open_eyes_and_hand_over_mouth:"🫢",face_with_peeking_eye:"🫣",shushing_face:"🤫",thinking:"🤔",saluting_face:"🫡",zipper_mouth_face:"🤐",raised_eyebrow:"🤨",neutral_face:"😐",expressionless:"😑",no_mouth:"😶",dotted_line_face:"🫥",face_in_clouds:"😶‍🌫️",smirk:"😏",unamused:"😒",roll_eyes:"🙄",grimacing:"😬",face_exhaling:"😮‍💨",lying_face:"🤥",shaking_face:"🫨",relieved:"😌",pensive:"😔",sleepy:"😪",drooling_face:"🤤",sleeping:"😴",mask:"😷",face_with_thermometer:"🤒",face_with_head_bandage:"🤕",nauseated_face:"🤢",vomiting_face:"🤮",sneezing_face:"🤧",hot_face:"🥵",cold_face:"🥶",woozy_face:"🥴",dizzy_face:"😵",face_with_spiral_eyes:"😵‍💫",exploding_head:"🤯",cowboy_hat_face:"🤠",partying_face:"🥳",disguised_face:"🥸",sunglasses:"😎",nerd_face:"🤓",monocle_face:"🧐",confused:"😕",face_with_diagonal_mouth:"🫤",worried:"😟",slightly_frowning_face:"🙁",frowning_face:"☹️",open_mouth:"😮",hushed:"😯",astonished:"😲",flushed:"😳",pleading_face:"🥺",face_holding_back_tears:"🥹",frowning:"😦",anguished:"😧",fearful:"😨",cold_sweat:"😰",disappointed_relieved:"😥",cry:"😢",sob:"😭",scream:"😱",confounded:"😖",persevere:"😣",disappointed:"😞",sweat:"😓",weary:"😩",tired_face:"😫",yawning_face:"🥱",triumph:"😤",rage:"😡",pout:"😡",angry:"😠",cursing_face:"🤬",smiling_imp:"😈",imp:"👿",skull:"💀",skull_and_crossbones:"☠️",hankey:"💩",poop:"💩",shit:"💩",clown_face:"🤡",japanese_ogre:"👹",japanese_goblin:"👺",ghost:"👻",alien:"👽",space_invader:"👾",robot:"🤖",smiley_cat:"😺",smile_cat:"😸",joy_cat:"😹",heart_eyes_cat:"😻",smirk_cat:"😼",kissing_cat:"😽",scream_cat:"🙀",crying_cat_face:"😿",pouting_cat:"😾",see_no_evil:"🙈",hear_no_evil:"🙉",speak_no_evil:"🙊",love_letter:"💌",cupid:"💘",gift_heart:"💝",sparkling_heart:"💖",heartpulse:"💗",heartbeat:"💓",revolving_hearts:"💞",two_hearts:"💕",heart_decoration:"💟",heavy_heart_exclamation:"❣️",broken_heart:"💔",heart_on_fire:"❤️‍🔥",mending_heart:"❤️‍🩹",heart:"❤️",pink_heart:"🩷",orange_heart:"🧡",yellow_heart:"💛",green_heart:"💚",blue_heart:"💙",light_blue_heart:"🩵",purple_heart:"💜",brown_heart:"🤎",black_heart:"🖤",grey_heart:"🩶",white_heart:"🤍",kiss:"💋",anger:"💢",boom:"💥",collision:"💥",dizzy:"💫",sweat_drops:"💦",dash:"💨",hole:"🕳️",speech_balloon:"💬",eye_speech_bubble:"👁️‍🗨️",left_speech_bubble:"🗨️",right_anger_bubble:"🗯️",thought_balloon:"💭",zzz:"💤",wave:"👋",raised_back_of_hand:"🤚",raised_hand_with_fingers_splayed:"🖐️",hand:"✋",raised_hand:"✋",vulcan_salute:"🖖",rightwards_hand:"🫱",leftwards_hand:"🫲",palm_down_hand:"🫳",palm_up_hand:"🫴",leftwards_pushing_hand:"🫷",rightwards_pushing_hand:"🫸",ok_hand:"👌",pinched_fingers:"🤌",pinching_hand:"🤏",v:"✌️",crossed_fingers:"🤞",hand_with_index_finger_and_thumb_crossed:"🫰",love_you_gesture:"🤟",metal:"🤘",call_me_hand:"🤙",point_left:"👈",point_right:"👉",point_up_2:"👆",middle_finger:"🖕",fu:"🖕",point_down:"👇",point_up:"☝️",index_pointing_at_the_viewer:"🫵","+1":"👍",thumbsup:"👍","-1":"👎",thumbsdown:"👎",fist_raised:"✊",fist:"✊",fist_oncoming:"👊",facepunch:"👊",punch:"👊",fist_left:"🤛",fist_right:"🤜",clap:"👏",raised_hands:"🙌",heart_hands:"🫶",open_hands:"👐",palms_up_together:"🤲",handshake:"🤝",pray:"🙏",writing_hand:"✍️",nail_care:"💅",selfie:"🤳",muscle:"💪",mechanical_arm:"🦾",mechanical_leg:"🦿",leg:"🦵",foot:"🦶",ear:"👂",ear_with_hearing_aid:"🦻",nose:"👃",brain:"🧠",anatomical_heart:"🫀",lungs:"🫁",tooth:"🦷",bone:"🦴",eyes:"👀",eye:"👁️",tongue:"👅",lips:"👄",biting_lip:"🫦",baby:"👶",child:"🧒",boy:"👦",girl:"👧",adult:"🧑",blond_haired_person:"👱",man:"👨",bearded_person:"🧔",man_beard:"🧔‍♂️",woman_beard:"🧔‍♀️",red_haired_man:"👨‍🦰",curly_haired_man:"👨‍🦱",white_haired_man:"👨‍🦳",bald_man:"👨‍🦲",woman:"👩",red_haired_woman:"👩‍🦰",person_red_hair:"🧑‍🦰",curly_haired_woman:"👩‍🦱",person_curly_hair:"🧑‍🦱",white_haired_woman:"👩‍🦳",person_white_hair:"🧑‍🦳",bald_woman:"👩‍🦲",person_bald:"🧑‍🦲",blond_haired_woman:"👱‍♀️",blonde_woman:"👱‍♀️",blond_haired_man:"👱‍♂️",older_adult:"🧓",older_man:"👴",older_woman:"👵",frowning_person:"🙍",frowning_man:"🙍‍♂️",frowning_woman:"🙍‍♀️",pouting_face:"🙎",pouting_man:"🙎‍♂️",pouting_woman:"🙎‍♀️",no_good:"🙅",no_good_man:"🙅‍♂️",ng_man:"🙅‍♂️",no_good_woman:"🙅‍♀️",ng_woman:"🙅‍♀️",ok_person:"🙆",ok_man:"🙆‍♂️",ok_woman:"🙆‍♀️",tipping_hand_person:"💁",information_desk_person:"💁",tipping_hand_man:"💁‍♂️",sassy_man:"💁‍♂️",tipping_hand_woman:"💁‍♀️",sassy_woman:"💁‍♀️",raising_hand:"🙋",raising_hand_man:"🙋‍♂️",raising_hand_woman:"🙋‍♀️",deaf_person:"🧏",deaf_man:"🧏‍♂️",deaf_woman:"🧏‍♀️",bow:"🙇",bowing_man:"🙇‍♂️",bowing_woman:"🙇‍♀️",facepalm:"🤦",man_facepalming:"🤦‍♂️",woman_facepalming:"🤦‍♀️",shrug:"🤷",man_shrugging:"🤷‍♂️",woman_shrugging:"🤷‍♀️",health_worker:"🧑‍⚕️",man_health_worker:"👨‍⚕️",woman_health_worker:"👩‍⚕️",student:"🧑‍🎓",man_student:"👨‍🎓",woman_student:"👩‍🎓",teacher:"🧑‍🏫",man_teacher:"👨‍🏫",woman_teacher:"👩‍🏫",judge:"🧑‍⚖️",man_judge:"👨‍⚖️",woman_judge:"👩‍⚖️",farmer:"🧑‍🌾",man_farmer:"👨‍🌾",woman_farmer:"👩‍🌾",cook:"🧑‍🍳",man_cook:"👨‍🍳",woman_cook:"👩‍🍳",mechanic:"🧑‍🔧",man_mechanic:"👨‍🔧",woman_mechanic:"👩‍🔧",factory_worker:"🧑‍🏭",man_factory_worker:"👨‍🏭",woman_factory_worker:"👩‍🏭",office_worker:"🧑‍💼",man_office_worker:"👨‍💼",woman_office_worker:"👩‍💼",scientist:"🧑‍🔬",man_scientist:"👨‍🔬",woman_scientist:"👩‍🔬",technologist:"🧑‍💻",man_technologist:"👨‍💻",woman_technologist:"👩‍💻",singer:"🧑‍🎤",man_singer:"👨‍🎤",woman_singer:"👩‍🎤",artist:"🧑‍🎨",man_artist:"👨‍🎨",woman_artist:"👩‍🎨",pilot:"🧑‍✈️",man_pilot:"👨‍✈️",woman_pilot:"👩‍✈️",astronaut:"🧑‍🚀",man_astronaut:"👨‍🚀",woman_astronaut:"👩‍🚀",firefighter:"🧑‍🚒",man_firefighter:"👨‍🚒",woman_firefighter:"👩‍🚒",police_officer:"👮",cop:"👮",policeman:"👮‍♂️",policewoman:"👮‍♀️",detective:"🕵️",male_detective:"🕵️‍♂️",female_detective:"🕵️‍♀️",guard:"💂",guardsman:"💂‍♂️",guardswoman:"💂‍♀️",ninja:"🥷",construction_worker:"👷",construction_worker_man:"👷‍♂️",construction_worker_woman:"👷‍♀️",person_with_crown:"🫅",prince:"🤴",princess:"👸",person_with_turban:"👳",man_with_turban:"👳‍♂️",woman_with_turban:"👳‍♀️",man_with_gua_pi_mao:"👲",woman_with_headscarf:"🧕",person_in_tuxedo:"🤵",man_in_tuxedo:"🤵‍♂️",woman_in_tuxedo:"🤵‍♀️",person_with_veil:"👰",man_with_veil:"👰‍♂️",woman_with_veil:"👰‍♀️",bride_with_veil:"👰‍♀️",pregnant_woman:"🤰",pregnant_man:"🫃",pregnant_person:"🫄",breast_feeding:"🤱",woman_feeding_baby:"👩‍🍼",man_feeding_baby:"👨‍🍼",person_feeding_baby:"🧑‍🍼",angel:"👼",santa:"🎅",mrs_claus:"🤶",mx_claus:"🧑‍🎄",superhero:"🦸",superhero_man:"🦸‍♂️",superhero_woman:"🦸‍♀️",supervillain:"🦹",supervillain_man:"🦹‍♂️",supervillain_woman:"🦹‍♀️",mage:"🧙",mage_man:"🧙‍♂️",mage_woman:"🧙‍♀️",fairy:"🧚",fairy_man:"🧚‍♂️",fairy_woman:"🧚‍♀️",vampire:"🧛",vampire_man:"🧛‍♂️",vampire_woman:"🧛‍♀️",merperson:"🧜",merman:"🧜‍♂️",mermaid:"🧜‍♀️",elf:"🧝",elf_man:"🧝‍♂️",elf_woman:"🧝‍♀️",genie:"🧞",genie_man:"🧞‍♂️",genie_woman:"🧞‍♀️",zombie:"🧟",zombie_man:"🧟‍♂️",zombie_woman:"🧟‍♀️",troll:"🧌",massage:"💆",massage_man:"💆‍♂️",massage_woman:"💆‍♀️",haircut:"💇",haircut_man:"💇‍♂️",haircut_woman:"💇‍♀️",walking:"🚶",walking_man:"🚶‍♂️",walking_woman:"🚶‍♀️",standing_person:"🧍",standing_man:"🧍‍♂️",standing_woman:"🧍‍♀️",kneeling_person:"🧎",kneeling_man:"🧎‍♂️",kneeling_woman:"🧎‍♀️",person_with_probing_cane:"🧑‍🦯",man_with_probing_cane:"👨‍🦯",woman_with_probing_cane:"👩‍🦯",person_in_motorized_wheelchair:"🧑‍🦼",man_in_motorized_wheelchair:"👨‍🦼",woman_in_motorized_wheelchair:"👩‍🦼",person_in_manual_wheelchair:"🧑‍🦽",man_in_manual_wheelchair:"👨‍🦽",woman_in_manual_wheelchair:"👩‍🦽",runner:"🏃",running:"🏃",running_man:"🏃‍♂️",running_woman:"🏃‍♀️",woman_dancing:"💃",dancer:"💃",man_dancing:"🕺",business_suit_levitating:"🕴️",dancers:"👯",dancing_men:"👯‍♂️",dancing_women:"👯‍♀️",sauna_person:"🧖",sauna_man:"🧖‍♂️",sauna_woman:"🧖‍♀️",climbing:"🧗",climbing_man:"🧗‍♂️",climbing_woman:"🧗‍♀️",person_fencing:"🤺",horse_racing:"🏇",skier:"⛷️",snowboarder:"🏂",golfing:"🏌️",golfing_man:"🏌️‍♂️",golfing_woman:"🏌️‍♀️",surfer:"🏄",surfing_man:"🏄‍♂️",surfing_woman:"🏄‍♀️",rowboat:"🚣",rowing_man:"🚣‍♂️",rowing_woman:"🚣‍♀️",swimmer:"🏊",swimming_man:"🏊‍♂️",swimming_woman:"🏊‍♀️",bouncing_ball_person:"⛹️",bouncing_ball_man:"⛹️‍♂️",basketball_man:"⛹️‍♂️",bouncing_ball_woman:"⛹️‍♀️",basketball_woman:"⛹️‍♀️",weight_lifting:"🏋️",weight_lifting_man:"🏋️‍♂️",weight_lifting_woman:"🏋️‍♀️",bicyclist:"🚴",biking_man:"🚴‍♂️",biking_woman:"🚴‍♀️",mountain_bicyclist:"🚵",mountain_biking_man:"🚵‍♂️",mountain_biking_woman:"🚵‍♀️",cartwheeling:"🤸",man_cartwheeling:"🤸‍♂️",woman_cartwheeling:"🤸‍♀️",wrestling:"🤼",men_wrestling:"🤼‍♂️",women_wrestling:"🤼‍♀️",water_polo:"🤽",man_playing_water_polo:"🤽‍♂️",woman_playing_water_polo:"🤽‍♀️",handball_person:"🤾",man_playing_handball:"🤾‍♂️",woman_playing_handball:"🤾‍♀️",juggling_person:"🤹",man_juggling:"🤹‍♂️",woman_juggling:"🤹‍♀️",lotus_position:"🧘",lotus_position_man:"🧘‍♂️",lotus_position_woman:"🧘‍♀️",bath:"🛀",sleeping_bed:"🛌",people_holding_hands:"🧑‍🤝‍🧑",two_women_holding_hands:"👭",couple:"👫",two_men_holding_hands:"👬",couplekiss:"💏",couplekiss_man_woman:"👩‍❤️‍💋‍👨",couplekiss_man_man:"👨‍❤️‍💋‍👨",couplekiss_woman_woman:"👩‍❤️‍💋‍👩",couple_with_heart:"💑",couple_with_heart_woman_man:"👩‍❤️‍👨",couple_with_heart_man_man:"👨‍❤️‍👨",couple_with_heart_woman_woman:"👩‍❤️‍👩",family:"👪",family_man_woman_boy:"👨‍👩‍👦",family_man_woman_girl:"👨‍👩‍👧",family_man_woman_girl_boy:"👨‍👩‍👧‍👦",family_man_woman_boy_boy:"👨‍👩‍👦‍👦",family_man_woman_girl_girl:"👨‍👩‍👧‍👧",family_man_man_boy:"👨‍👨‍👦",family_man_man_girl:"👨‍👨‍👧",family_man_man_girl_boy:"👨‍👨‍👧‍👦",family_man_man_boy_boy:"👨‍👨‍👦‍👦",family_man_man_girl_girl:"👨‍👨‍👧‍👧",family_woman_woman_boy:"👩‍👩‍👦",family_woman_woman_girl:"👩‍👩‍👧",family_woman_woman_girl_boy:"👩‍👩‍👧‍👦",family_woman_woman_boy_boy:"👩‍👩‍👦‍👦",family_woman_woman_girl_girl:"👩‍👩‍👧‍👧",family_man_boy:"👨‍👦",family_man_boy_boy:"👨‍👦‍👦",family_man_girl:"👨‍👧",family_man_girl_boy:"👨‍👧‍👦",family_man_girl_girl:"👨‍👧‍👧",family_woman_boy:"👩‍👦",family_woman_boy_boy:"👩‍👦‍👦",family_woman_girl:"👩‍👧",family_woman_girl_boy:"👩‍👧‍👦",family_woman_girl_girl:"👩‍👧‍👧",speaking_head:"🗣️",bust_in_silhouette:"👤",busts_in_silhouette:"👥",people_hugging:"🫂",footprints:"👣",monkey_face:"🐵",monkey:"🐒",gorilla:"🦍",orangutan:"🦧",dog:"🐶",dog2:"🐕",guide_dog:"🦮",service_dog:"🐕‍🦺",poodle:"🐩",wolf:"🐺",fox_face:"🦊",raccoon:"🦝",cat:"🐱",cat2:"🐈",black_cat:"🐈‍⬛",lion:"🦁",tiger:"🐯",tiger2:"🐅",leopard:"🐆",horse:"🐴",moose:"🫎",donkey:"🫏",racehorse:"🐎",unicorn:"🦄",zebra:"🦓",deer:"🦌",bison:"🦬",cow:"🐮",ox:"🐂",water_buffalo:"🐃",cow2:"🐄",pig:"🐷",pig2:"🐖",boar:"🐗",pig_nose:"🐽",ram:"🐏",sheep:"🐑",goat:"🐐",dromedary_camel:"🐪",camel:"🐫",llama:"🦙",giraffe:"🦒",elephant:"🐘",mammoth:"🦣",rhinoceros:"🦏",hippopotamus:"🦛",mouse:"🐭",mouse2:"🐁",rat:"🐀",hamster:"🐹",rabbit:"🐰",rabbit2:"🐇",chipmunk:"🐿️",beaver:"🦫",hedgehog:"🦔",bat:"🦇",bear:"🐻",polar_bear:"🐻‍❄️",koala:"🐨",panda_face:"🐼",sloth:"🦥",otter:"🦦",skunk:"🦨",kangaroo:"🦘",badger:"🦡",feet:"🐾",paw_prints:"🐾",turkey:"🦃",chicken:"🐔",rooster:"🐓",hatching_chick:"🐣",baby_chick:"🐤",hatched_chick:"🐥",bird:"🐦",penguin:"🐧",dove:"🕊️",eagle:"🦅",duck:"🦆",swan:"🦢",owl:"🦉",dodo:"🦤",feather:"🪶",flamingo:"🦩",peacock:"🦚",parrot:"🦜",wing:"🪽",black_bird:"🐦‍⬛",goose:"🪿",frog:"🐸",crocodile:"🐊",turtle:"🐢",lizard:"🦎",snake:"🐍",dragon_face:"🐲",dragon:"🐉",sauropod:"🦕","t-rex":"🦖",whale:"🐳",whale2:"🐋",dolphin:"🐬",flipper:"🐬",seal:"🦭",fish:"🐟",tropical_fish:"🐠",blowfish:"🐡",shark:"🦈",octopus:"🐙",shell:"🐚",coral:"🪸",jellyfish:"🪼",snail:"🐌",butterfly:"🦋",bug:"🐛",ant:"🐜",bee:"🐝",honeybee:"🐝",beetle:"🪲",lady_beetle:"🐞",cricket:"🦗",cockroach:"🪳",spider:"🕷️",spider_web:"🕸️",scorpion:"🦂",mosquito:"🦟",fly:"🪰",worm:"🪱",microbe:"🦠",bouquet:"💐",cherry_blossom:"🌸",white_flower:"💮",lotus:"🪷",rosette:"🏵️",rose:"🌹",wilted_flower:"🥀",hibiscus:"🌺",sunflower:"🌻",blossom:"🌼",tulip:"🌷",hyacinth:"🪻",seedling:"🌱",potted_plant:"🪴",evergreen_tree:"🌲",deciduous_tree:"🌳",palm_tree:"🌴",cactus:"🌵",ear_of_rice:"🌾",herb:"🌿",shamrock:"☘️",four_leaf_clover:"🍀",maple_leaf:"🍁",fallen_leaf:"🍂",leaves:"🍃",empty_nest:"🪹",nest_with_eggs:"🪺",mushroom:"🍄",grapes:"🍇",melon:"🍈",watermelon:"🍉",tangerine:"🍊",orange:"🍊",mandarin:"🍊",lemon:"🍋",banana:"🍌",pineapple:"🍍",mango:"🥭",apple:"🍎",green_apple:"🍏",pear:"🍐",peach:"🍑",cherries:"🍒",strawberry:"🍓",blueberries:"🫐",kiwi_fruit:"🥝",tomato:"🍅",olive:"🫒",coconut:"🥥",avocado:"🥑",eggplant:"🍆",potato:"🥔",carrot:"🥕",corn:"🌽",hot_pepper:"🌶️",bell_pepper:"🫑",cucumber:"🥒",leafy_green:"🥬",broccoli:"🥦",garlic:"🧄",onion:"🧅",peanuts:"🥜",beans:"🫘",chestnut:"🌰",ginger_root:"🫚",pea_pod:"🫛",bread:"🍞",croissant:"🥐",baguette_bread:"🥖",flatbread:"🫓",pretzel:"🥨",bagel:"🥯",pancakes:"🥞",waffle:"🧇",cheese:"🧀",meat_on_bone:"🍖",poultry_leg:"🍗",cut_of_meat:"🥩",bacon:"🥓",hamburger:"🍔",fries:"🍟",pizza:"🍕",hotdog:"🌭",sandwich:"🥪",taco:"🌮",burrito:"🌯",tamale:"🫔",stuffed_flatbread:"🥙",falafel:"🧆",egg:"🥚",fried_egg:"🍳",shallow_pan_of_food:"🥘",stew:"🍲",fondue:"🫕",bowl_with_spoon:"🥣",green_salad:"🥗",popcorn:"🍿",butter:"🧈",salt:"🧂",canned_food:"🥫",bento:"🍱",rice_cracker:"🍘",rice_ball:"🍙",rice:"🍚",curry:"🍛",ramen:"🍜",spaghetti:"🍝",sweet_potato:"🍠",oden:"🍢",sushi:"🍣",fried_shrimp:"🍤",fish_cake:"🍥",moon_cake:"🥮",dango:"🍡",dumpling:"🥟",fortune_cookie:"🥠",takeout_box:"🥡",crab:"🦀",lobster:"🦞",shrimp:"🦐",squid:"🦑",oyster:"🦪",icecream:"🍦",shaved_ice:"🍧",ice_cream:"🍨",doughnut:"🍩",cookie:"🍪",birthday:"🎂",cake:"🍰",cupcake:"🧁",pie:"🥧",chocolate_bar:"🍫",candy:"🍬",lollipop:"🍭",custard:"🍮",honey_pot:"🍯",baby_bottle:"🍼",milk_glass:"🥛",coffee:"☕",teapot:"🫖",tea:"🍵",sake:"🍶",champagne:"🍾",wine_glass:"🍷",cocktail:"🍸",tropical_drink:"🍹",beer:"🍺",beers:"🍻",clinking_glasses:"🥂",tumbler_glass:"🥃",pouring_liquid:"🫗",cup_with_straw:"🥤",bubble_tea:"🧋",beverage_box:"🧃",mate:"🧉",ice_cube:"🧊",chopsticks:"🥢",plate_with_cutlery:"🍽️",fork_and_knife:"🍴",spoon:"🥄",hocho:"🔪",knife:"🔪",jar:"🫙",amphora:"🏺",earth_africa:"🌍",earth_americas:"🌎",earth_asia:"🌏",globe_with_meridians:"🌐",world_map:"🗺️",japan:"🗾",compass:"🧭",mountain_snow:"🏔️",mountain:"⛰️",volcano:"🌋",mount_fuji:"🗻",camping:"🏕️",beach_umbrella:"🏖️",desert:"🏜️",desert_island:"🏝️",national_park:"🏞️",stadium:"🏟️",classical_building:"🏛️",building_construction:"🏗️",bricks:"🧱",rock:"🪨",wood:"🪵",hut:"🛖",houses:"🏘️",derelict_house:"🏚️",house:"🏠",house_with_garden:"🏡",office:"🏢",post_office:"🏣",european_post_office:"🏤",hospital:"🏥",bank:"🏦",hotel:"🏨",love_hotel:"🏩",convenience_store:"🏪",school:"🏫",department_store:"🏬",factory:"🏭",japanese_castle:"🏯",european_castle:"🏰",wedding:"💒",tokyo_tower:"🗼",statue_of_liberty:"🗽",church:"⛪",mosque:"🕌",hindu_temple:"🛕",synagogue:"🕍",shinto_shrine:"⛩️",kaaba:"🕋",fountain:"⛲",tent:"⛺",foggy:"🌁",night_with_stars:"🌃",cityscape:"🏙️",sunrise_over_mountains:"🌄",sunrise:"🌅",city_sunset:"🌆",city_sunrise:"🌇",bridge_at_night:"🌉",hotsprings:"♨️",carousel_horse:"🎠",playground_slide:"🛝",ferris_wheel:"🎡",roller_coaster:"🎢",barber:"💈",circus_tent:"🎪",steam_locomotive:"🚂",railway_car:"🚃",bullettrain_side:"🚄",bullettrain_front:"🚅",train2:"🚆",metro:"🚇",light_rail:"🚈",station:"🚉",tram:"🚊",monorail:"🚝",mountain_railway:"🚞",train:"🚋",bus:"🚌",oncoming_bus:"🚍",trolleybus:"🚎",minibus:"🚐",ambulance:"🚑",fire_engine:"🚒",police_car:"🚓",oncoming_police_car:"🚔",taxi:"🚕",oncoming_taxi:"🚖",car:"🚗",red_car:"🚗",oncoming_automobile:"🚘",blue_car:"🚙",pickup_truck:"🛻",truck:"🚚",articulated_lorry:"🚛",tractor:"🚜",racing_car:"🏎️",motorcycle:"🏍️",motor_scooter:"🛵",manual_wheelchair:"🦽",motorized_wheelchair:"🦼",auto_rickshaw:"🛺",bike:"🚲",kick_scooter:"🛴",skateboard:"🛹",roller_skate:"🛼",busstop:"🚏",motorway:"🛣️",railway_track:"🛤️",oil_drum:"🛢️",fuelpump:"⛽",wheel:"🛞",rotating_light:"🚨",traffic_light:"🚥",vertical_traffic_light:"🚦",stop_sign:"🛑",construction:"🚧",anchor:"⚓",ring_buoy:"🛟",boat:"⛵",sailboat:"⛵",canoe:"🛶",speedboat:"🚤",passenger_ship:"🛳️",ferry:"⛴️",motor_boat:"🛥️",ship:"🚢",airplane:"✈️",small_airplane:"🛩️",flight_departure:"🛫",flight_arrival:"🛬",parachute:"🪂",seat:"💺",helicopter:"🚁",suspension_railway:"🚟",mountain_cableway:"🚠",aerial_tramway:"🚡",artificial_satellite:"🛰️",rocket:"🚀",flying_saucer:"🛸",bellhop_bell:"🛎️",luggage:"🧳",hourglass:"⌛",hourglass_flowing_sand:"⏳",watch:"⌚",alarm_clock:"⏰",stopwatch:"⏱️",timer_clock:"⏲️",mantelpiece_clock:"🕰️",clock12:"🕛",clock1230:"🕧",clock1:"🕐",clock130:"🕜",clock2:"🕑",clock230:"🕝",clock3:"🕒",clock330:"🕞",clock4:"🕓",clock430:"🕟",clock5:"🕔",clock530:"🕠",clock6:"🕕",clock630:"🕡",clock7:"🕖",clock730:"🕢",clock8:"🕗",clock830:"🕣",clock9:"🕘",clock930:"🕤",clock10:"🕙",clock1030:"🕥",clock11:"🕚",clock1130:"🕦",new_moon:"🌑",waxing_crescent_moon:"🌒",first_quarter_moon:"🌓",moon:"🌔",waxing_gibbous_moon:"🌔",full_moon:"🌕",waning_gibbous_moon:"🌖",last_quarter_moon:"🌗",waning_crescent_moon:"🌘",crescent_moon:"🌙",new_moon_with_face:"🌚",first_quarter_moon_with_face:"🌛",last_quarter_moon_with_face:"🌜",thermometer:"🌡️",sunny:"☀️",full_moon_with_face:"🌝",sun_with_face:"🌞",ringed_planet:"🪐",star:"⭐",star2:"🌟",stars:"🌠",milky_way:"🌌",cloud:"☁️",partly_sunny:"⛅",cloud_with_lightning_and_rain:"⛈️",sun_behind_small_cloud:"🌤️",sun_behind_large_cloud:"🌥️",sun_behind_rain_cloud:"🌦️",cloud_with_rain:"🌧️",cloud_with_snow:"🌨️",cloud_with_lightning:"🌩️",tornado:"🌪️",fog:"🌫️",wind_face:"🌬️",cyclone:"🌀",rainbow:"🌈",closed_umbrella:"🌂",open_umbrella:"☂️",umbrella:"☔",parasol_on_ground:"⛱️",zap:"⚡",snowflake:"❄️",snowman_with_snow:"☃️",snowman:"⛄",comet:"☄️",fire:"🔥",droplet:"💧",ocean:"🌊",jack_o_lantern:"🎃",christmas_tree:"🎄",fireworks:"🎆",sparkler:"🎇",firecracker:"🧨",sparkles:"✨",balloon:"🎈",tada:"🎉",confetti_ball:"🎊",tanabata_tree:"🎋",bamboo:"🎍",dolls:"🎎",flags:"🎏",wind_chime:"🎐",rice_scene:"🎑",red_envelope:"🧧",ribbon:"🎀",gift:"🎁",reminder_ribbon:"🎗️",tickets:"🎟️",ticket:"🎫",medal_military:"🎖️",trophy:"🏆",medal_sports:"🏅","1st_place_medal":"🥇","2nd_place_medal":"🥈","3rd_place_medal":"🥉",soccer:"⚽",baseball:"⚾",softball:"🥎",basketball:"🏀",volleyball:"🏐",football:"🏈",rugby_football:"🏉",tennis:"🎾",flying_disc:"🥏",bowling:"🎳",cricket_game:"🏏",field_hockey:"🏑",ice_hockey:"🏒",lacrosse:"🥍",ping_pong:"🏓",badminton:"🏸",boxing_glove:"🥊",martial_arts_uniform:"🥋",goal_net:"🥅",golf:"⛳",ice_skate:"⛸️",fishing_pole_and_fish:"🎣",diving_mask:"🤿",running_shirt_with_sash:"🎽",ski:"🎿",sled:"🛷",curling_stone:"🥌",dart:"🎯",yo_yo:"🪀",kite:"🪁",gun:"🔫","8ball":"🎱",crystal_ball:"🔮",magic_wand:"🪄",video_game:"🎮",joystick:"🕹️",slot_machine:"🎰",game_die:"🎲",jigsaw:"🧩",teddy_bear:"🧸",pinata:"🪅",mirror_ball:"🪩",nesting_dolls:"🪆",spades:"♠️",hearts:"♥️",diamonds:"♦️",clubs:"♣️",chess_pawn:"♟️",black_joker:"🃏",mahjong:"🀄",flower_playing_cards:"🎴",performing_arts:"🎭",framed_picture:"🖼️",art:"🎨",thread:"🧵",sewing_needle:"🪡",yarn:"🧶",knot:"🪢",eyeglasses:"👓",dark_sunglasses:"🕶️",goggles:"🥽",lab_coat:"🥼",safety_vest:"🦺",necktie:"👔",shirt:"👕",tshirt:"👕",jeans:"👖",scarf:"🧣",gloves:"🧤",coat:"🧥",socks:"🧦",dress:"👗",kimono:"👘",sari:"🥻",one_piece_swimsuit:"🩱",swim_brief:"🩲",shorts:"🩳",bikini:"👙",womans_clothes:"👚",folding_hand_fan:"🪭",purse:"👛",handbag:"👜",pouch:"👝",shopping:"🛍️",school_satchel:"🎒",thong_sandal:"🩴",mans_shoe:"👞",shoe:"👞",athletic_shoe:"👟",hiking_boot:"🥾",flat_shoe:"🥿",high_heel:"👠",sandal:"👡",ballet_shoes:"🩰",boot:"👢",hair_pick:"🪮",crown:"👑",womans_hat:"👒",tophat:"🎩",mortar_board:"🎓",billed_cap:"🧢",military_helmet:"🪖",rescue_worker_helmet:"⛑️",prayer_beads:"📿",lipstick:"💄",ring:"💍",gem:"💎",mute:"🔇",speaker:"🔈",sound:"🔉",loud_sound:"🔊",loudspeaker:"📢",mega:"📣",postal_horn:"📯",bell:"🔔",no_bell:"🔕",musical_score:"🎼",musical_note:"🎵",notes:"🎶",studio_microphone:"🎙️",level_slider:"🎚️",control_knobs:"🎛️",microphone:"🎤",headphones:"🎧",radio:"📻",saxophone:"🎷",accordion:"🪗",guitar:"🎸",musical_keyboard:"🎹",trumpet:"🎺",violin:"🎻",banjo:"🪕",drum:"🥁",long_drum:"🪘",maracas:"🪇",flute:"🪈",iphone:"📱",calling:"📲",phone:"☎️",telephone:"☎️",telephone_receiver:"📞",pager:"📟",fax:"📠",battery:"🔋",low_battery:"🪫",electric_plug:"🔌",computer:"💻",desktop_computer:"🖥️",printer:"🖨️",keyboard:"⌨️",computer_mouse:"🖱️",trackball:"🖲️",minidisc:"💽",floppy_disk:"💾",cd:"💿",dvd:"📀",abacus:"🧮",movie_camera:"🎥",film_strip:"🎞️",film_projector:"📽️",clapper:"🎬",tv:"📺",camera:"📷",camera_flash:"📸",video_camera:"📹",vhs:"📼",mag:"🔍",mag_right:"🔎",candle:"🕯️",bulb:"💡",flashlight:"🔦",izakaya_lantern:"🏮",lantern:"🏮",diya_lamp:"🪔",notebook_with_decorative_cover:"📔",closed_book:"📕",book:"📖",open_book:"📖",green_book:"📗",blue_book:"📘",orange_book:"📙",books:"📚",notebook:"📓",ledger:"📒",page_with_curl:"📃",scroll:"📜",page_facing_up:"📄",newspaper:"📰",newspaper_roll:"🗞️",bookmark_tabs:"📑",bookmark:"🔖",label:"🏷️",moneybag:"💰",coin:"🪙",yen:"💴",dollar:"💵",euro:"💶",pound:"💷",money_with_wings:"💸",credit_card:"💳",receipt:"🧾",chart:"💹",envelope:"✉️",email:"📧","e-mail":"📧",incoming_envelope:"📨",envelope_with_arrow:"📩",outbox_tray:"📤",inbox_tray:"📥",package:"📦",mailbox:"📫",mailbox_closed:"📪",mailbox_with_mail:"📬",mailbox_with_no_mail:"📭",postbox:"📮",ballot_box:"🗳️",pencil2:"✏️",black_nib:"✒️",fountain_pen:"🖋️",pen:"🖊️",paintbrush:"🖌️",crayon:"🖍️",memo:"📝",pencil:"📝",briefcase:"💼",file_folder:"📁",open_file_folder:"📂",card_index_dividers:"🗂️",date:"📅",calendar:"📆",spiral_notepad:"🗒️",spiral_calendar:"🗓️",card_index:"📇",chart_with_upwards_trend:"📈",chart_with_downwards_trend:"📉",bar_chart:"📊",clipboard:"📋",pushpin:"📌",round_pushpin:"📍",paperclip:"📎",paperclips:"🖇️",straight_ruler:"📏",triangular_ruler:"📐",scissors:"✂️",card_file_box:"🗃️",file_cabinet:"🗄️",wastebasket:"🗑️",lock:"🔒",unlock:"🔓",lock_with_ink_pen:"🔏",closed_lock_with_key:"🔐",key:"🔑",old_key:"🗝️",hammer:"🔨",axe:"🪓",pick:"⛏️",hammer_and_pick:"⚒️",hammer_and_wrench:"🛠️",dagger:"🗡️",crossed_swords:"⚔️",bomb:"💣",boomerang:"🪃",bow_and_arrow:"🏹",shield:"🛡️",carpentry_saw:"🪚",wrench:"🔧",screwdriver:"🪛",nut_and_bolt:"🔩",gear:"⚙️",clamp:"🗜️",balance_scale:"⚖️",probing_cane:"🦯",link:"🔗",chains:"⛓️",hook:"🪝",toolbox:"🧰",magnet:"🧲",ladder:"🪜",alembic:"⚗️",test_tube:"🧪",petri_dish:"🧫",dna:"🧬",microscope:"🔬",telescope:"🔭",satellite:"📡",syringe:"💉",drop_of_blood:"🩸",pill:"💊",adhesive_bandage:"🩹",crutch:"🩼",stethoscope:"🩺",x_ray:"🩻",door:"🚪",elevator:"🛗",mirror:"🪞",window:"🪟",bed:"🛏️",couch_and_lamp:"🛋️",chair:"🪑",toilet:"🚽",plunger:"🪠",shower:"🚿",bathtub:"🛁",mouse_trap:"🪤",razor:"🪒",lotion_bottle:"🧴",safety_pin:"🧷",broom:"🧹",basket:"🧺",roll_of_paper:"🧻",bucket:"🪣",soap:"🧼",bubbles:"🫧",toothbrush:"🪥",sponge:"🧽",fire_extinguisher:"🧯",shopping_cart:"🛒",smoking:"🚬",coffin:"⚰️",headstone:"🪦",funeral_urn:"⚱️",nazar_amulet:"🧿",hamsa:"🪬",moyai:"🗿",placard:"🪧",identification_card:"🪪",atm:"🏧",put_litter_in_its_place:"🚮",potable_water:"🚰",wheelchair:"♿",men:"🚹",women:"🚺",restroom:"🚻",baby_symbol:"🚼",wc:"🚾",passport_control:"🛂",customs:"🛃",baggage_claim:"🛄",left_luggage:"🛅",warning:"⚠️",children_crossing:"🚸",no_entry:"⛔",no_entry_sign:"🚫",no_bicycles:"🚳",no_smoking:"🚭",do_not_litter:"🚯","non-potable_water":"🚱",no_pedestrians:"🚷",no_mobile_phones:"📵",underage:"🔞",radioactive:"☢️",biohazard:"☣️",arrow_up:"⬆️",arrow_upper_right:"↗️",arrow_right:"➡️",arrow_lower_right:"↘️",arrow_down:"⬇️",arrow_lower_left:"↙️",arrow_left:"⬅️",arrow_upper_left:"↖️",arrow_up_down:"↕️",left_right_arrow:"↔️",leftwards_arrow_with_hook:"↩️",arrow_right_hook:"↪️",arrow_heading_up:"⤴️",arrow_heading_down:"⤵️",arrows_clockwise:"🔃",arrows_counterclockwise:"🔄",back:"🔙",end:"🔚",on:"🔛",soon:"🔜",top:"🔝",place_of_worship:"🛐",atom_symbol:"⚛️",om:"🕉️",star_of_david:"✡️",wheel_of_dharma:"☸️",yin_yang:"☯️",latin_cross:"✝️",orthodox_cross:"☦️",star_and_crescent:"☪️",peace_symbol:"☮️",menorah:"🕎",six_pointed_star:"🔯",khanda:"🪯",aries:"♈",taurus:"♉",gemini:"♊",cancer:"♋",leo:"♌",virgo:"♍",libra:"♎",scorpius:"♏",sagittarius:"♐",capricorn:"♑",aquarius:"♒",pisces:"♓",ophiuchus:"⛎",twisted_rightwards_arrows:"🔀",repeat:"🔁",repeat_one:"🔂",arrow_forward:"▶️",fast_forward:"⏩",next_track_button:"⏭️",play_or_pause_button:"⏯️",arrow_backward:"◀️",rewind:"⏪",previous_track_button:"⏮️",arrow_up_small:"🔼",arrow_double_up:"⏫",arrow_down_small:"🔽",arrow_double_down:"⏬",pause_button:"⏸️",stop_button:"⏹️",record_button:"⏺️",eject_button:"⏏️",cinema:"🎦",low_brightness:"🔅",high_brightness:"🔆",signal_strength:"📶",wireless:"🛜",vibration_mode:"📳",mobile_phone_off:"📴",female_sign:"♀️",male_sign:"♂️",transgender_symbol:"⚧️",heavy_multiplication_x:"✖️",heavy_plus_sign:"➕",heavy_minus_sign:"➖",heavy_division_sign:"➗",heavy_equals_sign:"🟰",infinity:"♾️",bangbang:"‼️",interrobang:"⁉️",question:"❓",grey_question:"❔",grey_exclamation:"❕",exclamation:"❗",heavy_exclamation_mark:"❗",wavy_dash:"〰️",currency_exchange:"💱",heavy_dollar_sign:"💲",medical_symbol:"⚕️",recycle:"♻️",fleur_de_lis:"⚜️",trident:"🔱",name_badge:"📛",beginner:"🔰",o:"⭕",white_check_mark:"✅",ballot_box_with_check:"☑️",heavy_check_mark:"✔️",x:"❌",negative_squared_cross_mark:"❎",curly_loop:"➰",loop:"➿",part_alternation_mark:"〽️",eight_spoked_asterisk:"✳️",eight_pointed_black_star:"✴️",sparkle:"❇️",copyright:"©️",registered:"®️",tm:"™️",hash:"#️⃣",asterisk:"*️⃣",zero:"0️⃣",one:"1️⃣",two:"2️⃣",three:"3️⃣",four:"4️⃣",five:"5️⃣",six:"6️⃣",seven:"7️⃣",eight:"8️⃣",nine:"9️⃣",keycap_ten:"🔟",capital_abcd:"🔠",abcd:"🔡",symbols:"🔣",abc:"🔤",a:"🅰️",ab:"🆎",b:"🅱️",cl:"🆑",cool:"🆒",free:"🆓",information_source:"ℹ️",id:"🆔",m:"Ⓜ️",new:"🆕",ng:"🆖",o2:"🅾️",ok:"🆗",parking:"🅿️",sos:"🆘",up:"🆙",vs:"🆚",koko:"🈁",sa:"🈂️",u6708:"🈷️",u6709:"🈶",u6307:"🈯",ideograph_advantage:"🉐",u5272:"🈹",u7121:"🈚",u7981:"🈲",accept:"🉑",u7533:"🈸",u5408:"🈴",u7a7a:"🈳",congratulations:"㊗️",secret:"㊙️",u55b6:"🈺",u6e80:"🈵",red_circle:"🔴",orange_circle:"🟠",yellow_circle:"🟡",green_circle:"🟢",large_blue_circle:"🔵",purple_circle:"🟣",brown_circle:"🟤",black_circle:"⚫",white_circle:"⚪",red_square:"🟥",orange_square:"🟧",yellow_square:"🟨",green_square:"🟩",blue_square:"🟦",purple_square:"🟪",brown_square:"🟫",black_large_square:"⬛",white_large_square:"⬜",black_medium_square:"◼️",white_medium_square:"◻️",black_medium_small_square:"◾",white_medium_small_square:"◽",black_small_square:"▪️",white_small_square:"▫️",large_orange_diamond:"🔶",large_blue_diamond:"🔷",small_orange_diamond:"🔸",small_blue_diamond:"🔹",small_red_triangle:"🔺",small_red_triangle_down:"🔻",diamond_shape_with_a_dot_inside:"💠",radio_button:"🔘",white_square_button:"🔳",black_square_button:"🔲",checkered_flag:"🏁",triangular_flag_on_post:"🚩",crossed_flags:"🎌",black_flag:"🏴",white_flag:"🏳️",rainbow_flag:"🏳️‍🌈",transgender_flag:"🏳️‍⚧️",pirate_flag:"🏴‍☠️",ascension_island:"🇦🇨",andorra:"🇦🇩",united_arab_emirates:"🇦🇪",afghanistan:"🇦🇫",antigua_barbuda:"🇦🇬",anguilla:"🇦🇮",albania:"🇦🇱",armenia:"🇦🇲",angola:"🇦🇴",antarctica:"🇦🇶",argentina:"🇦🇷",american_samoa:"🇦🇸",austria:"🇦🇹",australia:"🇦🇺",aruba:"🇦🇼",aland_islands:"🇦🇽",azerbaijan:"🇦🇿",bosnia_herzegovina:"🇧🇦",barbados:"🇧🇧",bangladesh:"🇧🇩",belgium:"🇧🇪",burkina_faso:"🇧🇫",bulgaria:"🇧🇬",bahrain:"🇧🇭",burundi:"🇧🇮",benin:"🇧🇯",st_barthelemy:"🇧🇱",bermuda:"🇧🇲",brunei:"🇧🇳",bolivia:"🇧🇴",caribbean_netherlands:"🇧🇶",brazil:"🇧🇷",bahamas:"🇧🇸",bhutan:"🇧🇹",bouvet_island:"🇧🇻",botswana:"🇧🇼",belarus:"⬜️🟥⬜",belize:"🇧🇿",canada:"🇨🇦",cocos_islands:"🇨🇨",congo_kinshasa:"🇨🇩",central_african_republic:"🇨🇫",congo_brazzaville:"🇨🇬",switzerland:"🇨🇭",cote_divoire:"🇨🇮",cook_islands:"🇨🇰",chile:"🇨🇱",cameroon:"🇨🇲",cn:"🇨🇳",colombia:"🇨🇴",clipperton_island:"🇨🇵",costa_rica:"🇨🇷",cuba:"🇨🇺",cape_verde:"🇨🇻",curacao:"🇨🇼",christmas_island:"🇨🇽",cyprus:"🇨🇾",czech_republic:"🇨🇿",de:"🇩🇪",diego_garcia:"🇩🇬",djibouti:"🇩🇯",denmark:"🇩🇰",dominica:"🇩🇲",dominican_republic:"🇩🇴",algeria:"🇩🇿",ceuta_melilla:"🇪🇦",ecuador:"🇪🇨",estonia:"🇪🇪",egypt:"🇪🇬",western_sahara:"🇪🇭",eritrea:"🇪🇷",es:"🇪🇸",ethiopia:"🇪🇹",eu:"🇪🇺",european_union:"🇪🇺",finland:"🇫🇮",fiji:"🇫🇯",falkland_islands:"🇫🇰",micronesia:"🇫🇲",faroe_islands:"🇫🇴",fr:"🇫🇷",gabon:"🇬🇦",gb:"🇬🇧",uk:"🇬🇧",grenada:"🇬🇩",georgia:"🇬🇪",french_guiana:"🇬🇫",guernsey:"🇬🇬",ghana:"🇬🇭",gibraltar:"🇬🇮",greenland:"🇬🇱",gambia:"🇬🇲",guinea:"🇬🇳",guadeloupe:"🇬🇵",equatorial_guinea:"🇬🇶",greece:"🇬🇷",south_georgia_south_sandwich_islands:"🇬🇸",guatemala:"🇬🇹",guam:"🇬🇺",guinea_bissau:"🇬🇼",guyana:"🇬🇾",hong_kong:"🇭🇰",heard_mcdonald_islands:"🇭🇲",honduras:"🇭🇳",croatia:"🇭🇷",haiti:"🇭🇹",hungary:"🇭🇺",canary_islands:"🇮🇨",indonesia:"🇮🇩",ireland:"🇮🇪",israel:"🇮🇱",isle_of_man:"🇮🇲",india:"🇮🇳",british_indian_ocean_territory:"🇮🇴",iraq:"🇮🇶",iran:"🇮🇷",iceland:"🇮🇸",it:"🇮🇹",jersey:"🇯🇪",jamaica:"🇯🇲",jordan:"🇯🇴",jp:"🇯🇵",kenya:"🇰🇪",kyrgyzstan:"🇰🇬",cambodia:"🇰🇭",kiribati:"🇰🇮",comoros:"🇰🇲",st_kitts_nevis:"🇰🇳",north_korea:"🇰🇵",kr:"🇰🇷",kuwait:"🇰🇼",cayman_islands:"🇰🇾",kazakhstan:"🇰🇿",laos:"🇱🇦",lebanon:"🇱🇧",st_lucia:"🇱🇨",liechtenstein:"🇱🇮",sri_lanka:"🇱🇰",liberia:"🇱🇷",lesotho:"🇱🇸",lithuania:"🇱🇹",luxembourg:"🇱🇺",latvia:"🇱🇻",libya:"🇱🇾",morocco:"🇲🇦",monaco:"🇲🇨",moldova:"🇲🇩",montenegro:"🇲🇪",st_martin:"🇲🇫",madagascar:"🇲🇬",marshall_islands:"🇲🇭",macedonia:"🇲🇰",mali:"🇲🇱",myanmar:"🇲🇲",mongolia:"🇲🇳",macau:"🇲🇴",northern_mariana_islands:"🇲🇵",martinique:"🇲🇶",mauritania:"🇲🇷",montserrat:"🇲🇸",malta:"🇲🇹",mauritius:"🇲🇺",maldives:"🇲🇻",malawi:"🇲🇼",mexico:"🇲🇽",malaysia:"🇲🇾",mozambique:"🇲🇿",namibia:"🇳🇦",new_caledonia:"🇳🇨",niger:"🇳🇪",norfolk_island:"🇳🇫",nigeria:"🇳🇬",nicaragua:"🇳🇮",netherlands:"🇳🇱",norway:"🇳🇴",nepal:"🇳🇵",nauru:"🇳🇷",niue:"🇳🇺",new_zealand:"🇳🇿",oman:"🇴🇲",panama:"🇵🇦",peru:"🇵🇪",french_polynesia:"🇵🇫",papua_new_guinea:"🇵🇬",philippines:"🇵🇭",pakistan:"🇵🇰",poland:"🇵🇱",st_pierre_miquelon:"🇵🇲",pitcairn_islands:"🇵🇳",puerto_rico:"🇵🇷",palestinian_territories:"🇵🇸",portugal:"🇵🇹",palau:"🇵🇼",paraguay:"🇵🇾",qatar:"🇶🇦",reunion:"🇷🇪",romania:"🇷🇴",serbia:"🇷🇸",ru:"🇷🇺",rwanda:"🇷🇼",saudi_arabia:"🇸🇦",solomon_islands:"🇸🇧",seychelles:"🇸🇨",sudan:"🇸🇩",sweden:"🇸🇪",singapore:"🇸🇬",st_helena:"🇸🇭",slovenia:"🇸🇮",svalbard_jan_mayen:"🇸🇯",slovakia:"🇸🇰",sierra_leone:"🇸🇱",san_marino:"🇸🇲",senegal:"🇸🇳",somalia:"🇸🇴",suriname:"🇸🇷",south_sudan:"🇸🇸",sao_tome_principe:"🇸🇹",el_salvador:"🇸🇻",sint_maarten:"🇸🇽",syria:"🇸🇾",swaziland:"🇸🇿",tristan_da_cunha:"🇹🇦",turks_caicos_islands:"🇹🇨",chad:"🇹🇩",french_southern_territories:"🇹🇫",togo:"🇹🇬",thailand:"🇹🇭",tajikistan:"🇹🇯",tokelau:"🇹🇰",timor_leste:"🇹🇱",turkmenistan:"🇹🇲",tunisia:"🇹🇳",tonga:"🇹🇴",tr:"🇹🇷",trinidad_tobago:"🇹🇹",tuvalu:"🇹🇻",taiwan:"🇹🇼",tanzania:"🇹🇿",ukraine:"🇺🇦",uganda:"🇺🇬",us_outlying_islands:"🇺🇲",united_nations:"🇺🇳",us:"🇺🇸",uruguay:"🇺🇾",uzbekistan:"🇺🇿",vatican_city:"🇻🇦",st_vincent_grenadines:"🇻🇨",venezuela:"🇻🇪",british_virgin_islands:"🇻🇬",us_virgin_islands:"🇻🇮",vietnam:"🇻🇳",vanuatu:"🇻🇺",wallis_futuna:"🇼🇫",samoa:"🇼🇸",kosovo:"🇽🇰",yemen:"🇾🇪",mayotte:"🇾🇹",south_africa:"🇿🇦",zambia:"🇿🇲",zimbabwe:"🇿🇼",england:"🏴󠁧󠁢󠁥󠁮󠁧󠁿",scotland:"🏴󠁧󠁢󠁳󠁣󠁴󠁿",wales:"🏴󠁧󠁢󠁷󠁬󠁳󠁿",large_purple_circle:"🟣"};Cn.use(Nd({emojis:Sd,renderer:t=>t.emoji}));Cn.use({walkTokens(t){t.type==="html"&&(t.type="text",t.text=t.raw??t.text??"")}});const Ad=()=>{const t=ue(),n=o=>async()=>{await t(`<${o}/>`,`<${o}/> has been copied`)};return e("div",{className:"vm-preview-icons",children:Object.entries(ys).map(([o,r])=>e("div",{className:"vm-preview-icons-item",onClick:n(o),children:[e("div",{className:"vm-preview-icons-item__svg",children:r()}),e("div",{className:"vm-preview-icons-item__name",children:`<${o}/>`})]},o))})},xd=()=>{const[t,n]=A(!1);return e(j,{children:e(ua,{children:e(Ls,{children:e(j,{children:[e(Ps,{onLoaded:n}),t&&e(ma,{children:e(nt,{path:"/",element:e(Kc,{}),children:[e(nt,{path:"/",element:e(fc,{})}),e(nt,{path:ce.overview,element:e(Cd,{})}),e(nt,{path:ce.streamContext,element:e(kd,{})}),e(nt,{path:"/icons",element:e(Ad,{})})]})})]})})})})},Ho=document.getElementById("root");Ho&&ha(e(xd,{}),Ho);
